{"version":3,"sources":["overmind/rules/lib-config.js","view/SideBar/data.svg","view/SideBar/connections.svg","view/Pages/Data/icons/UploadIcon/upload.svg","view/Pages/Data/icons/ProcessingIcon/processing.svg","view/Pages/Data/icons/SignedIcon/signed.svg","view/Pages/Data/icons/TargetIcon/target_logo.png","config/dev-cert/signed_software_statement.js","config/dev-cert/unsigned_software_statement.js","../public/skins sync /^/.//.*//config/.js$","../public/skins/default/config.js","../public/skins/smithfield/config.js","../node_modules/nconf/lib/nconf/stores sync /^/.//.*$","../node_modules/nconf/node_modules/yargs/lib sync","overmind/rules sync","view/SideBar/buisness.svg","overmind/app/state.js","overmind/app/actions.js","config/config.js","config/index.js","overmind/oada/state.js","overmind/oada/actions.js","overmind/oada/websocket.js","overmind/oada/effects.js","overmind/oada/index.js","overmind/oada/onInitialize.js","overmind/urls/actions.ts","overmind/urls/index.ts","overmind/urls/state.ts","overmind/view/state.js","overmind/view/index.js","overmind/view/actions.js","overmind/login/index.js","overmind/login/state.js","overmind/login/actions.js","overmind/utils/index.js","overmind/examples/index.js","overmind/examples/state.js","overmind/examples/actions.js","overmind/partners/index.js","overmind/partners/state.js","overmind/partners/actions.js","overmind/rules/config.js","overmind/rules/config.defaults.js","overmind/rules/state.js","overmind/rules/actions.js","overmind/rules/index.js","overmind/index.ts","overmind/app/index.js","view/TopBar/index.js","view/SideBar/index.js","view/Pages/Data/TopBar.js","view/Pages/Data/icons/UploadIcon/index.js","view/Pages/Data/icons/ProcessingIcon/index.js","view/Pages/Data/icons/SignedIcon/index.js","view/Pages/Data/icons/TargetIcon/index.js","view/Pages/Data/Table.js","view/Pages/Data/Dropzone.js","view/Pages/Data/index.js","view/Pages/Rules/TopBar.js","view/Pages/Rules/index.js","view/Pages/index.js","view/Modals/FileDetailsModal/Header.js","view/Modals/FileDetailsModal/Audit/Organization.js","view/Modals/FileDetailsModal/Audit/Scope.js","view/Modals/FileDetailsModal/Audit/Score.js","view/Modals/FileDetailsModal/Audit/Validity.js","view/Modals/FileDetailsModal/common/Unmask.js","view/Modals/FileDetailsModal/common/Masks.js","view/Modals/FileDetailsModal/Audit/index.js","view/Modals/FileDetailsModal/CoI/Producer.js","view/Modals/FileDetailsModal/CoI/Holder.js","view/Modals/FileDetailsModal/CoI/Policies.js","view/Modals/FileDetailsModal/CoI/index.js","view/Modals/FileDetailsModal/Content.js","view/Modals/FileDetailsModal/Sharing.js","view/Modals/FileDetailsModal/index.js","view/Modals/EditRuleModal/Header.js","view/Modals/EditRuleModal/Content.js","view/Modals/EditRuleModal/index.js","view/Modals/NewRuleModal/Header.js","view/Modals/NewRuleModal/NewRulesList.js","view/Modals/NewRuleModal/List.js","view/Modals/NewRuleModal/Edit.js","view/Modals/NewRuleModal/index.js","view/Modals/PDFViewerModal/index.js","Login/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","defaults","require","nconf","fs","use","argv","env","separator","parseValues","config","get","existsSync","Error","setObject","object","path","Object","keys","forEach","key","set","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","resolve","src","height","logo","loginBackground","webpackEmptyContext","count","skin","skins","namespace","moduleState","state","_","oada","url","devcert","redirect","redirect_uris","default","smithfield","each","v","k","merge","token","data","documents","getAccessToken","Promise","promisify","oadaIdClient","lsKey","logout","effects","websocket","close","window","localStorage","login","actions","console","log","replace","metadata","scope","res","access_token","error","connect","doesResourceExist","createAndPutResource","contentType","watch","actionName","response","filter","startsWith","a","async","loadDocument","rules","initialize","uploadFile","file","request","method","baseURL","headers","Authorization","type","then","split","length","put","filename","name","createAndPostResource","pdf","_id","_rev","onDocumentsChange","documentId","orgData","orgMeta","_meta","pick","catch","err","audits","auditKey","orgAudit","cois","coiKey","orgCoi","createResource","post","createAndPostResourceHTTP","createResourceHTTP","postHTTP","head","status","http","del","action","urlLib","uuid","warnings","myWebsocket","onInitialize","instance","_state","_actions","socket","messages","connected","httpCallbacks","watchCallbacks","sendMessages","message","send","JSON","stringify","reject","WebSocket","onopen","event","onclose","onmessage","parse","requestId","statusText","originalStack","requestStack","callback","urlObj","toLowerCase","entries","value","reduce","b","push","unwatch","ws","axios","urls","Pages","selectedPage","Data","search","openFileBrowser","uploading","Rules","Modals","EditRuleModal","open","NewRuleModal","page","List","category","categories","Edit","template","rule","FileDetailsModal","documentKey","showData","document","chain","audit","values","coi","share","PDFViewerModal","TopBar","view","backClicked","categorySelected","evt","target","newRuleSelected","json","doneClicked","createShare","loadShares","cancelClicked","deleteClicked","deleteShare","searchChanged","result","newText","searchQuery","md5","textChanged","q","list","keyBy","onShareChange","showDocument","resourceId","docKey","findKey","viewPDF","toggleShowData","shareKeys","taskKey","concurrency","onSearch","delay","Dropzone","filesDropped","files","Table","onRowClick","rowData","ruleSelected","selectedRule","addRuleClicked","editRuleClicked","edit","SideBar","pageSelected","domain","loading","match","loggedIn","me","username","domainChange","arr","obj","item","products","utils","partners","email","locations","text","userid","getExamples","examples","dotenv","libConfig","fl_business_id","rules_path","shares_path","rules_tree","bookmarks","_type","services","ainz","documents_tree","trellisfw","tasks_tree","jobs","FL_BUSINESS_ID","templates","temp0","input0","input1","input2","shares","communities","temp1","temp2","emails","local","assign","partner","location","flatten","compact","pattern","SHARES_PATH","processShare","putShare","resource","newShare","cloneDeep","charAt","shareResponse","mapShare","locationStringsFromShare","find","Location","templateId","test","namespaced","app","packagejson","version","title","_namespace","increaseCount","decreaseCount","skinChange","newSkin","createHook","overmind","css","display","flexDirection","justifyContent","alignItems","backgroundColor","borderBottom","paddingLeft","alt","marginRight","Dropdown","Menu","Item","icon","onClick","activeSideSelection","opacity","color","SideSection","props","myActions","className","selected","paddingBottom","fill","children","borderRight","iconData","iconConnections","fontSize","Input","iconPosition","placeholder","style","borderRadius","onChange","Button","Icon","marginLeft","fontWeight","uploadIcon","processingIcon","signedIcon","TargetIcon","Popup","content","position","trigger","marginTop","myState","collection","tasks","fileDetails","task","statuses","identify","format","processingService","shared","every","t","signatures","masked","createdAt","moment","utc","createdAtUnix","signed","fuse","Fuse","weight","shouldSort","substr","orderBy","unshift","width","headerClassName","headerHeight","rowCount","rowGetter","index","rowClassName","classnames","rowHeight","label","dataKey","cellRenderer","ProcessingIcon","SignedIcon","useDropzone","onDrop","noClick","getRootProps","getInputProps","isDragActive","prevOpen","useRef","useEffect","current","flex","padding","paddingTop","border","Rule","r","j","idx","boxShadow","MyHeader","Header","unmask","Organization","org","organization","Row","Cell","collapsing","Scope","p","Chip","Score","trim","Validity","validity","certificate_validity_period","start","end","isValid","now","expired","isAfter","isBefore","Unmask","Masks","masks","maskNumber","d","String","fromCharCode","Audit","celled","striped","Body","Producer","producer","Holder","holder","policies","effective_date","expire_date","textAlign","number","CoI","Policies","Content","jsonData","jsonTitle","isEmpty","collapsed","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","marginBottom","cursor","Sharing","shareOptions","shareValue","approvedList","fluid","multiple","selection","options","primary","labelPosition","disabled","join","Modal","onClose","minHeight","total","created","createdBy","isEditing","NewRulesList","BlankB","pointing","i","flexGrow","httpHeaders","onLoadSuccess","numPages","pageNumber","Login","appState","bg","Form","onSubmit","inverted","size","s","App","Boolean","hostname","createOvermind","devtools","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.29342f4c.chunk.js","sourcesContent":["/* Copyright 2014 Open Ag Data Alliance\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict'\n\nmodule.exports = defaults => {\n  // We use nconf in dependencies, so we have to play games here. If npm/yarn\n  // factors nconf up node_modules then our dependencies get the same nconf\n  // instance as we do, allowing them to mutate each others keys. This ensures we\n  // get our own nconf --- yes it is ugly. Thank you node.js for assuming we\n  // always want your hidden cache.\n  delete require.cache[require.resolve('nconf')]\n\n  var nconf = require('nconf')\n  var fs = require('fs')\n\n  nconf.use('memory')\n\n  // Order of precedence: argv, env, config file, defaults\n\n  nconf.argv()\n  // parseValues: true will parse \"true\" and \"false\" as booleans, numbers as numbers, etc.\n  nconf.env({ separator: '__', parseValues: true })\n\n  // Load an external (optional) config file\n  var config = nconf.get('config')\n  if (config) {\n    if (!fs.existsSync(config)) {\n      throw new Error('Could not find config file: ' + config)\n    }\n    nconf.use('literal', require(config))\n  }\n\n  if (defaults) {\n    nconf.defaults(defaults)\n  }\n\n  nconf.setObject = function (object, path) {\n    path = path || ''\n\n    Object.keys(object).forEach(function (key) {\n      if (typeof object[key] === '[object]') {\n        nconf.setObject(object[key], path + key + ':')\n      } else {\n        nconf.set(path + key, object[key])\n      }\n    })\n  }\n\n  return nconf\n}\n","module.exports = __webpack_public_path__ + \"static/media/data.9d31a249.svg\";","module.exports = __webpack_public_path__ + \"static/media/connections.7c7332c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.0c074248.svg\";","module.exports = __webpack_public_path__ + \"static/media/processing.a0fb5f7a.svg\";","module.exports = __webpack_public_path__ + \"static/media/signed.32666418.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRldjEiLCJqd2siOnsia3R5IjoiUlNBIiwibiI6InJyMzhpSzhGaTBfLUNSTFR2Vks0SUlDbGFyaWk2d1ZIcEU3elpQWG9FUmxfT29oNjRZbWJRY1JhNWVGdzBVUWhVdkVDaEt1OU5vM2ptN0xXOVpjTDFIS3Joa1VXLU9Rb2JPWFVuckNnb0NwYThWWWhfd1JJZFFZYnN2UFFWajVOR3V1TlhhWkJfX3B4Rnktbl9PMklNUzhPR3Jlem0zYlFIREFmLWpuZ0loWkdaZ0xhdkxKeVNIVXlEUUw0RmJRNkQzUXozQU1PcnhGdmE0S0JJUENRS0ZPbVlYVm40enRnVDY4aGd5TW9jMUt5dHhvUmd6VkhuQ2RUcFBXV1Zybk1GY0plZFlELUxtazBYbzVyallPeG1xOEExZWpmeFBNZVJfM1Y3OEFKazJMREk0dkdhSjNmbmFQWlM3Q3ZXOEYzcFdXaWpfQnlWR0NJLTVCcmtxSF9uUSIsImUiOiJBUUFCIn19.eyJyZWRpcmVjdF91cmlzIjpbImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9vYXV0aDIvcmVkaXJlY3QuaHRtbCIsImh0dHBzOi8vdHJlbGxpc2Z3LmdpdGh1Yi5pby9jb25kdWN0b3Ivb2F1dGgyL3JlZGlyZWN0Lmh0bWwiXSwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Y2xpZW50LWFzc2VydGlvbi10eXBlOmp3dC1iZWFyZXIiLCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiXSwicmVzcG9uc2VfdHlwZXMiOlsidG9rZW4iLCJjb2RlIiwiaWRfdG9rZW4iLCJpZF90b2tlbiB0b2tlbiIsImNvZGUgaWRfdG9rZW4iLCJjb2RlIHRva2VuIiwiY29kZSBpZF90b2tlbiB0b2tlbiJdLCJjbGllbnRfbmFtZSI6IlRyZWxsaXMgLSBPcGVuIFNvdXJjZSIsImNsaWVudF91cmkiOiJodHRwczovL2dpdGh1Yi5jb20vdHJlbGxpc2Z3IiwiY29udGFjdHMiOlsiQWFyb24gQXVsdCA8YXVsdGFjQHB1cmR1ZS5lZHU-Il0sImp3a3MiOnsia2V5cyI6W3sia3R5IjoiUlNBIiwibiI6InZ3dzFLcjNIVTk1MHBKTDhOeXh0MVZZN0ZIZTN6eHpSZ1VrZE1udDNCUzZGZ3h5cHZXR29YTWE5UFpYUHcxX3hiUVc1cFdJVU91ZG1Kek1MRnRZMzlrUVFiSW9WdDF1WV9JdEI0NmdrNTIzS0FRVktiQzQtVFgyT25WSGRJLWswY1FlTmZIakl0c0RjZE4tUFhKVlMtNzBEMFlhMEQzV3lpVEhPaHNkWXpXQm1iYUVwbDVEbkRrY0dCbjA4RXBMdzFlWWE4ejlxSHRlNE1Wc01jczJpdjdmeDZ0TTJmbVBlNFB5WUF4ZVJYU0RTMVdKcndReUs5SnJHMVBfQVF1X0xFQ2V6aUp0ZVk2RVZ1aVczbGI1WDhZOW9xM3FwNWV4SkNWWVJ2c3NRVXc1Ti1XdjhENUlpeTdBNmJMLUhKUDFfOWJ5OThSWTh4LVhiSzR6X0VMUjNNUSIsImUiOiJBUUFCIiwia2lkIjoiOTRhYWJiM2FhMTkxNGVjOGE4Y2RhNDU1YTQ3M2NmMGQifV19LCJpYXQiOjE1ODI2OTM5OTR9.NWYV4bi4FAFS6xchooCuZ8yxcVAYeGsZ7Bx5gHnN42-uFLLdbexhYw9f6BMTzES1TAxlKokJxxrFV5mYEMaiJrxS5BbIhz_QOw3i4kNiveLEhq7ljLe-7ivosrHEKgAtWEIFLuqfMX5_f3Nojc3HoN5Ze_oP6FoV7-4Lt2-i3yeaHR_d6u1EzrUWX8TFfqUv7Yu4mSrSLgwOIeUoT8drmBmcZCHPS3RykhWgAq4SUXyXetNx-u_SbP3R8VPk3bJXtVH6q7qzA9kQu0Jy-Gl6ah2ZqH8g2QSUY9rQSa7cGSEBOgFhtjZF9TR4tJ34RYR6vELtcgyG8DGODX5VySpr4Q\";\n","module.exports = {\n  \"redirect_uris\": [\n    \"http://localhost:3000/oauth2/redirect.html\",\n    \"https://trellisfw.github.io/conductor/oauth2/redirect.html\",\n  ],\n  \"token_endpoint_auth_method\": \"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\",\n  \"grant_types\": [\n    \"authorization_code\"\n  ],\n  \"response_types\": [\n    \"token\",\n    \"code\",\n    \"id_token\",\n    \"id_token token\",\n    \"code id_token\",\n    \"code token\",\n    \"code id_token token\"\n  ],\n  \"client_name\": \"Trellis - Open Source\",\n  \"client_uri\": \"https://github.com/trellisfw\",\n  \"contacts\": [\n    \"Aaron Ault <aultac@purdue.edu>\"\n  ],\n  // THERE IS NOTHING PRIVATE ABOUT THIS DEV CERT: IT IS IN GITHUB.  OVERRIDE WITH YOUR OWN FOR PRODUCTION\n  \"jwks\": {\n    \"keys\": [\n      {\"kty\":\"RSA\",\"n\":\"vww1Kr3HU950pJL8Nyxt1VY7FHe3zxzRgUkdMnt3BS6FgxypvWGoXMa9PZXPw1_xbQW5pWIUOudmJzMLFtY39kQQbIoVt1uY_ItB46gk523KAQVKbC4-TX2OnVHdI-k0cQeNfHjItsDcdN-PXJVS-70D0Ya0D3WyiTHOhsdYzWBmbaEpl5DnDkcGBn08EpLw1eYa8z9qHte4MVsMcs2iv7fx6tM2fmPe4PyYAxeRXSDS1WJrwQyK9JrG1P_AQu_LECeziJteY6EVuiW3lb5X8Y9oq3qp5exJCVYRvssQUw5N-Wv8D5Iiy7A6bL-HJP1_9by98RY8x-XbK4z_ELR3MQ\",\"e\":\"AQAB\",\"kid\":\"94aabb3aa1914ec8a8cda455a473cf0d\"}\n    ]\n  }\n}\n","var map = {\n\t\"./default/config.js\": 537,\n\t\"./smithfield/config.js\": 538\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 536;","module.exports = {\n  \"logo\": {\n    src: \"logo.svg\",\n    height: 60,\n  },\n  \"loginBackground\": \"login-background.jpg\",\n}\n","module.exports = {\n  logo: {\n    src: 'logo.svg',\n    height: 50, \n  },\n  loginBackground: 'login-background.jpg',\n};\n","var map = {\n\t\"./argv\": 392,\n\t\"./argv.js\": 392,\n\t\"./env\": 395,\n\t\"./env.js\": 395,\n\t\"./file\": 396,\n\t\"./file.js\": 396,\n\t\"./literal\": 397,\n\t\"./literal.js\": 397,\n\t\"./memory\": 101,\n\t\"./memory.js\": 101\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 715;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 720;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 740;","module.exports = __webpack_public_path__ + \"static/media/buisness.6b54fc90.svg\";","export default {\n  count: 0,\n  skin: 'default',\n  skins: {\n  }\n}\n","import _ from 'lodash';\nvar namespace = null;\nfunction moduleState(state) {\n  return _.get(state, namespace);\n}\nexport default function(_namespace) {\n  namespace = _namespace;\n  return {\n    increaseCount({ state }, test) {\n      moduleState(state).count++;\n    },\n    decreaseCount({ state }) {\n      moduleState(state).count--;\n    },\n    skinChange({state}, newSkin) {\n      state.app.skin = newSkin;\n      // Save this to localStorage to keep for next time:\n      window.localStorage['skin'] = newSkin;\n    }\n  }\n}\n","import _ from 'lodash';\n\nconst config = {\n  oada: {\n    url: 'https://stage.smithfield.trellis.one',\n    devcert: require('./dev-cert/signed_software_statement'), // Don't use this public one in production unless implicit flow is OK for you\n    redirect: require('./dev-cert/unsigned_software_statement').redirect_uris[process.env.NODE_ENV === 'production' ? 1 : 0], // 0 is localhost:3000, 1 is trellisfw.github.io/conductor\n  },\n  skin: 'default', // which of the skins is the default one\n  skins: {\n    default: {}, // filled out from skin-specific config below\n    smithfield: {},\n  },\n};\n\n// Load the skin configs:\n_.each(config.skins, (v,k) => {\n  config.skins[k] = require('../../public/skins/'+k+'/config.js');\n});\n\nexport default config;\n","import _ from 'lodash';\nimport config from './config';\nconst configDev = (process.env.NODE_ENV == 'development') ? require('./config.dev.js').default : null;\n\nexport default _.merge({}, config, configDev);\n","import config from '../../config';\n\nexport default {\n  url: config.oada.url,\n  token: '',\n  data: {\n    documents: {}\n  }\n}\n","import _ from 'lodash'\nimport Promise from 'bluebird'\nimport request from 'axios'\nimport config from '../../config'\nimport { browser as oadaIdClient } from '@oada/oada-id-client/index.js'\n\nconst getAccessToken = Promise.promisify(oadaIdClient.getAccessToken)\n\nconst lsKey = url => 'oada:' + url + ':token' // handy function to make a useful localStorage key\n\nexport default {\n  async logout ({ state, effects }) {\n    await effects.oada.websocket.close()\n    //Clear documents\n    state.oada.data.documents = {}\n    delete window.localStorage[lsKey(state.oada.url)]\n  },\n  async login ({ state, actions }) {\n    /*\n      Connect to my OADA instance\n    */\n    let token;\n    try {\n      if (window.localStorage[lsKey(state.oada.url)]) {\n        console.log(\n          'Already have a token for URL ' + state.oada.url + ', logout to clear'\n        )\n        token = window.localStorage[lsKey(state.oada.url)]\n      } else {\n        // If we don't have a token stored from last time, we'll need to\n        // redirect browser to ask for one\n        console.log('Do not have an access token, redirecting...')\n        let res = await getAccessToken(state.oada.url.replace(/^https?:\\/\\//, ''), {\n          metadata: config.oada.devcert,\n          scope: 'all:all',\n          redirect: config.oada.redirect\n        })\n        token = res.access_token\n      }\n    } catch (err) {\n      state.login.error =\n        'Failed to redirect to ' + state.oada.url + ' for connection'\n      console.log('FAILED TO GET ACCESS TOKEN: err = ', err)\n      token = false;\n    }\n\n    // Have a token now, make sure it's saved to localStorage until we logout:\n    if (token) window.localStorage[lsKey(state.oada.url)] = token\n    state.oada.token = token\n    console.log(token);\n    console.log('Have token, connecting to oada...')\n    let result = await actions.oada.connect()\n    console.log('Websocket connected, checking resources...')\n    //Create /trellisfw if it does not exist\n    let exists = await actions.oada\n      .doesResourceExist('/bookmarks/trellisfw')\n    if (!exists) {\n      console.log('/bookmarks/trellisfw does not exist.  Creating...')\n      //Create /trellisfw\n      await actions.oada.createAndPutResource({\n        url: '/bookmarks/trellisfw',\n        data: {}\n      })\n    }\n\n    //Create /trellisfw/documents if it does not exist\n    exists = await actions.oada\n      .doesResourceExist('/bookmarks/trellisfw/documents')\n    if (!exists) {\n      //Create documents\n      await actions.oada.createAndPutResource({\n        url: '/bookmarks/trellisfw/documents',\n        data: {},\n        contentType: 'application/vnd.trellisfw.documents.1+json'\n      })\n    }\n\n    console.log('Setting watches...')\n    //Watch for changes to /trellisfw/documents\n    await actions.oada\n      .watch({\n        url: '/bookmarks/trellisfw/documents',\n        actionName: 'oada.onDocumentsChange'\n      })\n\n    //Get all the documents ids in /trellisfw/documents\n    let response = await actions.oada\n      .get('/bookmarks/trellisfw/documents')\n    let docKeys = _.filter(\n      Object.keys(response.data),\n      key => _.startsWith(key, '_') === false\n    )\n\n      //Load each of the documents\n    docKeys.forEach(\n      async key => {\n        //Load the documents\n        await actions.oada.loadDocument(key)\n      },\n//      { concurrency: 5 }\n    )\n    actions.rules.initialize()\n  },\n\n  uploadFile ({ state, actions }, file) {\n    //Add file to the file list, flag it as `uploading`\n    //Create the pdf\n    return request\n      .request({\n        url: '/resources',\n        method: 'post',\n        baseURL: state.oada.url,\n        headers: {\n          Authorization: 'Bearer ' + state.oada.token,\n          'Content-Disposition': 'inline',\n          'Content-Type': file.type\n        },\n        data: file\n      })\n      .then(response => {\n        //Pull out location of pdf and link it to the document under the 'pdf' key\n        var id = response.headers['content-location'].split('/')\n        id = id[id.length - 1]\n        //Add filename info to the pdf\n        return actions.oada\n          .put({\n            url: `/resources/${id}/_meta`,\n            data: {\n              filename: file.name\n            },\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then(() => {\n            //Create a document with a `pdf` key linking the pdf, and link the document to `documents`\n            return actions.oada.createAndPostResource({\n              url: '/bookmarks/trellisfw/documents',\n              data: {\n                pdf: {\n                  _id: 'resources/' + id,\n                  _rev: 0\n                }\n              }\n            })\n          })\n      })\n  },\n  onDocumentsChange ({ state, actions }, response) {\n    //If a key was added or changed reload that document\n    console.log('onDocumentsChange', response)\n    //Check if change was a merge\n    if (_.get(response, 'change.type') == 'merge') {\n      //Get all the keys that do not start with _\n      let keys = _.filter(\n        Object.keys(_.get(response, 'change.body')),\n        key => _.startsWith(key, '_') === false\n      )\n      //If these keys are links, then load them as documents\n      return Promise.map(keys, documentId => {\n        return actions.oada.loadDocument(documentId)\n      })\n    } else if (_.get(response, 'change.type') == 'delete') {\n      //Get all the keys that do not start with _\n      let keys = _.filter(\n        Object.keys(_.get(response, 'change.body')),\n        key => _.startsWith(key, '_') === false\n      )\n      //If these keys are links, then load them as documents\n      _.forEach(keys, key => {\n        delete state.oada.data.documents[key]\n      })\n    }\n  },\n  loadDocument ({ state, actions }, documentId) {\n    return actions.oada\n      .get('/bookmarks/trellisfw/documents/' + documentId)\n      .then(response => {\n        //If doc already exists merge in data\n        const orgData = state.oada.data.documents[documentId] || {}\n        state.oada.data.documents[documentId] = _.merge(\n          {},\n          orgData,\n          response.data\n        )\n        //Load the _meta for this document\n        return actions.oada\n          .get(`/bookmarks/trellisfw/documents/${documentId}/_meta`)\n          .then(response => {\n            if (response == null) throw Error('No data')\n            const orgMeta = state.oada.data.documents[documentId]._meta\n            //Merge in status and services\n            state.oada.data.documents[documentId]._meta = _.merge(\n              {},\n              orgMeta,\n              _.pick(response.data, ['stats', 'services'])\n            )\n          })\n          .catch(err => {\n            console.log('Error. Failed to load document _meta', documentId)\n          })\n          .then(() => {\n            //Load the meta for the pdf of this doc\n            if (state.oada.data.documents[documentId].pdf != null) {\n              return actions.oada\n                .get(`/bookmarks/trellisfw/documents/${documentId}/pdf/_meta`)\n                .then(response => {\n                  if (response == null) throw Error('No data')\n                  const orgMeta =\n                    state.oada.data.documents[documentId].pdf._meta || {}\n                  state.oada.data.documents[documentId].pdf._meta = _.merge(\n                    {},\n                    orgMeta,\n                    _.pick(response.data, ['filename'])\n                  )\n                })\n                .catch(err => {\n                  console.log('Error. Failed to load pdf _meta', documentId)\n                })\n            }\n          })\n          .then(() => {\n            //Load the audit info for this document if it exists\n            if (state.oada.data.documents[documentId].audits != null) {\n              return Promise.map(\n                _.keys(state.oada.data.documents[documentId].audits),\n                auditKey => {\n                  return actions.oada\n                    .get(\n                      `/bookmarks/trellisfw/documents/${documentId}/audits/${auditKey}`\n                    )\n                    .then(response => {\n                      if (response == null) throw Error('No data')\n                      const orgAudit =\n                        state.oada.data.documents[documentId].audits[\n                          auditKey\n                        ] || {}\n                      state.oada.data.documents[documentId].audits[\n                        auditKey\n                      ] = _.merge({}, orgAudit, response.data)\n                    })\n                    .catch(err => {\n                      console.log(\n                        'Error. Failed to load audit ',\n                        auditKey,\n                        'from doc',\n                        documentId\n                      )\n                    })\n                }\n              )\n            }\n          })\n          .then(() => {\n            //Load the masked audit info for this document if it exists\n            if (\n              state.oada.data.documents[documentId]['audits-masked'] != null\n            ) {\n              return Promise.map(\n                _.keys(state.oada.data.documents[documentId]['audits-masked']),\n                auditKey => {\n                  return actions.oada\n                    .get(\n                      `/bookmarks/trellisfw/documents/${documentId}/audits-masked/${auditKey}`\n                    )\n                    .then(response => {\n                      if (response == null) throw Error('No data')\n                      const orgAudit =\n                        state.oada.data.documents[documentId]['audits-masked'][\n                          auditKey\n                        ] || {}\n                      state.oada.data.documents[documentId]['audits-masked'][\n                        auditKey\n                      ] = _.merge({}, orgAudit, response.data)\n                    })\n                    .catch(err => {\n                      console.log(\n                        'Error. Failed to load audit ',\n                        auditKey,\n                        'from doc',\n                        documentId\n                      )\n                    })\n                }\n              )\n            }\n          })\n          .then(() => {\n            //Load the cois info for this document if it exists\n            if (state.oada.data.documents[documentId].cois != null) {\n              return Promise.map(\n                _.keys(state.oada.data.documents[documentId].cois),\n                coiKey => {\n                  return actions.oada\n                    .get(\n                      `/bookmarks/trellisfw/documents/${documentId}/cois/${coiKey}`\n                    )\n                    .then(response => {\n                      if (response == null) throw Error('No data')\n                      const orgCoi =\n                        state.oada.data.documents[documentId].cois[coiKey] || {}\n                      state.oada.data.documents[documentId].cois[\n                        coiKey\n                      ] = _.merge({}, orgCoi, response.data)\n                    })\n                    .catch(err => {\n                      console.log(\n                        'Error. Failed to load coi ',\n                        coiKey,\n                        'from doc',\n                        documentId\n                      )\n                    })\n                }\n              )\n            }\n          })\n      })\n      .catch(err => {\n        console.log('Error. Failed to load document', documentId, err)\n      })\n  },\n  createAndPostResource ({ actions }, { url, data, contentType }) {\n    return actions.oada.createResource({ data, contentType }).then(response => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length - 1]\n      return actions.oada\n        .post({\n          url: url,\n          headers: {\n            'Content-Type': contentType || 'application/json'\n          },\n          data: {\n            _id: 'resources/' + id,\n            _rev: 0\n          }\n        })\n        .then(response => {\n          var id = response.headers['content-location'].split('/')\n          id = id[id.length - 1]\n          return id\n        })\n    })\n  },\n  createAndPostResourceHTTP ({ actions }, { url, data, contentType }) {\n    return actions.oada\n      .createResourceHTTP({ data, contentType })\n      .then(response => {\n        //Link this new resource at the url provided\n        var id = response.headers['content-location'].split('/')\n        id = id[id.length - 1]\n        return actions.oada\n          .postHTTP({\n            url: url,\n            headers: {\n              'Content-Type': contentType || 'application/json'\n            },\n            data: {\n              _id: 'resources/' + id,\n              _rev: 0\n            }\n          })\n          .then(response => {\n            var id = response.headers['content-location'].split('/')\n            id = id[id.length - 1]\n            return id\n          })\n      })\n  },\n  createAndPutResource ({ actions }, { url, data, contentType }) {\n    return actions.oada.createResource({ data, contentType }).then(response => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length - 1]\n      return actions.oada.put({\n        url,\n        headers: {\n          'Content-Type': contentType || 'application/json'\n        },\n        data: {\n          _id: 'resources/' + id,\n          _rev: 0\n        }\n      })\n    })\n  },\n  createResource ({ actions }, { data, contentType }) {\n    var headers = {}\n    headers['content-type'] = contentType || 'application/json'\n    return actions.oada.post({ url: '/resources', data, headers })\n  },\n  createResourceHTTP ({ actions }, { data, contentType }) {\n    var headers = {}\n    headers['content-type'] = contentType || 'application/json'\n    return actions.oada.postHTTP({ url: '/resources', data, headers })\n  },\n  doesResourceExist ({ actions }, url) {\n    return actions.oada\n      .head(url)\n      .then(response => {\n        if (response != null) return true\n        return false\n      })\n      .catch(error => {\n        if (error.response && error.response.status === 404) return false\n        throw error\n      })\n  },\n  connect ({ state, effects }) {\n    return effects.oada.websocket.connect(state.oada.url)\n  },\n  get ({ effects, state }, url) {\n    return effects.oada.websocket.http({\n      method: 'GET',\n      url: url,\n      headers: {\n        Authorization: 'Bearer ' + state.oada.token\n      }\n    })\n  },\n  head ({ effects, state }, url) {\n    return effects.oada.websocket.http({\n      method: 'HEAD',\n      url: url,\n      headers: {\n        Authorization: 'Bearer ' + state.oada.token\n      }\n    })\n  },\n  post ({ effects, state }, { url, headers, data }) {\n    console.log('Posting to url ', url)\n    return effects.oada.websocket.http({\n      method: 'POST',\n      url: url,\n      headers: _.merge(\n        {\n          Authorization: 'Bearer ' + state.oada.token\n        },\n        headers\n      ),\n      data: data\n    })\n  },\n  postHTTP ({ effects, state }, { url, headers, data }) {\n    return request.request({\n      url: url,\n      method: 'post',\n      baseURL: state.oada.url,\n      headers: _.merge(\n        {\n          Authorization: 'Bearer ' + state.oada.token\n        },\n        headers\n      ),\n      data: data\n    })\n  },\n  del ({ effects, state }, {url, headers, data }) {\n    return effects.oada.websocket.http({\n      method: 'DELETE',\n      url: url,\n      headers: _.merge(\n        {\n          Authorization: 'Bearer ' + state.oada.token\n        },\n        headers\n      ),\n      data: data\n    })\n\n  },\n  put ({ effects, state }, { url, headers, data }) {\n    return effects.oada.websocket.http({\n      method: 'PUT',\n      url: url,\n      headers: _.merge(\n        {\n          Authorization: 'Bearer ' + state.oada.token\n        },\n        headers\n      ),\n      data: data\n    })\n  },\n  watch ({ effects, actions, state }, { url, actionName }) {\n    var cb = function callback (data) {\n      var action = _.get(actions, actionName)\n      action(data)\n    }\n    return effects.oada.websocket.watch(\n      {\n        url,\n        headers: { Authorization: 'Bearer ' + state.oada.token }\n      },\n      cb\n    )\n  }\n}\n","const Promise = require('bluebird');\nconst urlLib = require('url');\nconst uuid = require('uuid/v4');\nPromise.config({warnings: false})\n\nexport default function websocket(url) {\n\t//Create the message queue\n\tvar messages = [];\n\t//Create the socket\n\turl = url.replace('https://', 'wss://').replace('http://', 'ws://');\n\tconsole.log('Creating WebSocket for', url);\n\tvar socket;\n\tvar connected = false;\n\tvar httpCallbacks = {};\n\tvar watchCallbacks = {};\n\n\tfunction sendMessages() {\n\t\tif (!connected) return;\n\t\tmessages.forEach((message) => {\n      socket.send(JSON.stringify(message));\n\t\t});\n\t\tmessages = [];\n\t}\n\treturn new Promise((resolve, reject) => {\n    console.log('Calling WebSocket(url)');\n    socket = new WebSocket(url);\n    socket.onopen = function(event) {\n\t\t\tconsole.log('We are connected via websocket')\n\t\t\tconnected = true;\n\t\t\tsendMessages();\n\t\t\tresolve(socket)\n\t\t}\n\t\tsocket.onclose = function(event) {\n      console.log('Websocket closed.');\n\t\t}\n    socket.onmessage = function(event) {\n      var response = JSON.parse(event.data);\n\t\t\t//Look for id in httpCallbacks\n\t\t\tif (response.requestId) {\n\t\t\t\tif (httpCallbacks[response.requestId]) {\n          //Resolve Promise\n\t\t\t\t\tif (response.status >= 200 && response.status < 300) {\n\t\t\t\t\t\thttpCallbacks[response.requestId].resolve(response);\n\t\t\t\t\t} else {\n            //Create error like axios\n\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n            err.request = httpCallbacks[response.requestId].request;\n\t\t\t\t\t\terr.response = {\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\tstatusText: response.statusText,\n\t\t\t\t\t\t\theaders: response.headers,\n\t\t\t\t\t\t\tdata: response.data\n            };\n            err.originalStack = httpCallbacks[response.requestId].request.requestStack;\n\t\t\t\t\t\thttpCallbacks[response.requestId].reject(err);\n\t\t\t\t\t}\n\t\t\t\t\tdelete httpCallbacks[response.requestId];\n        } else if (watchCallbacks[response.requestId]) {\n\t\t\t\t\tif (watchCallbacks[response.requestId].resolve) {\n\t\t\t\t\t\tif (response.status === 'success') {\n\t\t\t\t\t\t\t//Successfully setup websocket, resolve promise\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].resolve(response);\n            } else {\n              //error(watchCallbacks[response.requestId].request, response);\n\t\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n\t\t\t\t\t\t\terr.response = response;\n              err.request = watchCallbacks[response.requestId].request;\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].reject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Remove resolve and reject so we process change as a signal next time\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['resolve'];\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['reject'];\n          } else {\n            if (watchCallbacks[response.requestId].callback == null) throw new Error('The given watch function has an undefined callback:', watchCallbacks[response.requestId]);\n\t\t\t\t\t\twatchCallbacks[response.requestId].callback(response);\n\t\t\t\t\t}\n        }\n\t\t\t}\n\t\t}\n\t}).then(() => {\n\t\tconsole.log('Returning websocket obj')\n    function _http(request) {\n\t\t\t//Do a HTTP request\n      return new Promise((resolve, reject) => {\n        let urlObj = urlLib.parse(request.url);\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: request.method.toLowerCase(),\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\tdata: request.data,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tmessages.push(message);\n\t\t\t\thttpCallbacks[message.requestId] = {\n\t\t\t\t\trequest: request,\n\t\t\t\t\tresolve: resolve,\n\t\t\t\t\treject: reject,\n        };\n\t\t\t\tsendMessages();\n\t\t\t});\n    }\n\n    function _unwatch(request, callback) {\n\t\t\t//Unwatch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'unwatch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n        watchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n    function _watch(request, callback) {\n\t\t\t//Watch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'watch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n\t\t\t\twatchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n\t\tfunction _close() {\n\t\t\t//TODO reject all callbacks that have not resolved\n\t\t\t//Clear everything\n\t\t\tmessages = [];\n\t\t\thttpCallbacks = {};\n\t\t\twatchCallbacks = {};\n\t\t\t//Close socket\n\t\t\tsocket.close();\n\t\t}\n\n\t\treturn {\n\t\t\turl,\n\t\t\thttp: _http,\n\t\t\tclose: _close,\n\t\t\twatch: _watch,\n\t\t\tunwatch: _unwatch,\n\t\t}\n\t})\n}\n","import websocket from './websocket';\nimport _ from 'lodash'\nvar myWebsocket = null;\n\nexport default {\n  websocket: {\n    connect(url) {\n      //Connect to OADA with this url\n      return websocket(url).then((ws) => {\n        myWebsocket = ws;\n      })\n    },\n    watch(request, callback) {\n      return myWebsocket.watch(request, callback)\n    },\n    http(request) {\n      return myWebsocket.http(request).catch((err) => {\n        if (err.response && err.response.status) {\n          if (err.response.status == 404) {\n            console.log(\"HTTP 404\", _.get(err, 'response.headers.content-location'));\n          } else if (err.response.status == 403) {\n            console.log(\"HTTP 403\", _.get(err, 'response.headers.content-location'));\n          } else {\n            console.log('HTTP Error: ', err);\n          }\n        } else {\n          console.log('HTTP Error', err)\n        }\n      });\n    },\n    close() {\n      if (myWebsocket) { \n        console.log('Closing web socket...');\n        return myWebsocket.close();\n      }\n      console.log('WARNING: tried to close a null websocket!');\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\nimport _onInitialize from './onInitialize'\nimport _effects from './effects'\n\nexport const onInitialize = _onInitialize;\nexport const state = _state;\nexport const actions = _actions;\nexport const effects = _effects;\n","import _ from 'lodash';\nimport Promise from 'bluebird';\n\nexport default function ({ state, actions, effects }, instance) {\n  \n}\n","import { AsyncAction } from 'overmind'\n\nimport axios from 'axios'\n\nexport const get: AsyncAction<string> = async (\n  { state, actions },\n  url: string\n) => {\n  let data\n  try {\n    ;({ data } = await axios.get(url))\n  } catch {\n    try {\n      ;({ data } = await actions.oada.get(url))\n    } catch {}\n  }\n  state.urls[url] = data\n}\n","import { state as _state } from './state'\nimport * as _actions from './actions'\n\nexport const state = _state\nexport const actions = _actions\n","type State = {\n  [key: string]: object\n}\n\nexport const state: State = {}\n\n","import _ from 'lodash'\n\nexport default {\n  Pages: {\n    selectedPage: 'Data',\n    Data: {\n      search: '',\n      openFileBrowser: false,\n      uploading: {}\n    },\n    Rules: {\n    }\n  },\n  Modals: {\n    EditRuleModal: {\n      open: false,\n    },\n    NewRuleModal: {\n      open: false,\n      page: 'List',\n      List: {\n        category: 'FSQA',\n        categories: ['FSQA','PII','Claims','Sustainability','Supply Chain'],\n      },\n      Edit: {\n        template: {},\n        rule: {},\n      },\n    },\n    FileDetailsModal: {\n      open: false,\n      documentKey: null,\n      showData: false,\n      document: ({ documentKey }, state) => {\n        //Get the document\n        return (\n          _.chain(state)\n            .get(`oada.data.documents.${documentKey}`)\n            .value() || {}\n        )\n      },\n      audit: ({ document }, state) => {\n        //Get the audit from the doc\n        return (\n          _.chain(document)\n            .get(`audits`)\n            .values()\n            .get(0)\n            .value() || {}\n        )\n      },\n      coi: ({ document }, state) => {\n        //Get the cois from the doc\n        return (\n          _.chain(document)\n            .get(`cois`)\n            .values()\n            .get(0)\n            .value() || {}\n        )\n      },\n      share: ({ document }, state) => {\n        return (\n          _.chain(document)\n            .get(`_meta.services.approval.tasks`)\n            .value() || {}\n        )\n      }\n    },\n    PDFViewerModal: {\n      open: false\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import _ from 'lodash';\nimport md5 from 'md5';\nimport uuid from 'uuid/v4';\nimport Promise from 'bluebird';\nimport {json} from 'overmind';\nexport default {\n  TopBar: {\n    logout({state, actions}) {\n      actions.login.logout()\n      actions.oada.logout();\n    }\n  },\n  Modals: {\n    EditRuleModal: {\n      close({state, actions}) {\n        state.view.Modals.EditRuleModal.open = false;\n      }\n    },\n    NewRuleModal: {\n      backClicked({state, actions}) {\n        state.view.Modals.NewRuleModal.page = 'List';\n      },\n      close({state, actions}) {\n        state.view.Modals.NewRuleModal.open = false;\n      },\n      categorySelected({state, actions}, evt) {\n        state.view.Modals.NewRuleModal.category = evt.target;\n      },\n      newRuleSelected({state, actions}, rule) {\n        state.view.Modals.NewRuleModal.Edit = {\n          template: json(rule),\n          rule: json(rule)\n        };\n        state.view.Modals.NewRuleModal.page = 'Edit';\n      },\n      async doneClicked({state, actions}) {\n        state.view.Modals.NewRuleModal.open = false;\n        await actions.rules.createShare();\n        await actions.rules.loadShares();\n\n      },\n      cancelClicked({state, actions}) {\n        state.view.Modals.NewRuleModal.open = false;\n        state.view.Modals.NewRuleModal.Edit = {rule: {}, template: {}};\n      },\n      deleteClicked({state, actions}, rule) {\n        actions.rules.deleteShare(rule);\n        actions.rules.loadShares();\n        actions.view.Modals.NewRuleModal.cancelClicked();\n      },\n      searchChanged({state, actions}, result) {\n        let newText = result.data.searchQuery;\n        state.view.Modals.NewRuleModal.Edit.rule[result.key].searchQuery = {\n          key: md5(JSON.stringify({name: newText})),\n          name: newText\n        }\n      },\n      textChanged({state, actions}, result) {\n        let q = state.view.Modals.NewRuleModal.Edit.rule[result.key].searchQuery;\n        let type = state.view.Modals.NewRuleModal.Edit.template[result.key].type;\n        let list = state.rules[type];\n        let values = result.values.map((key) => \n          q ? (key === q.key ? q : list[key]) : list[key]\n        )\n        state.view.Modals.NewRuleModal.Edit.rule[result.key].values = _.keyBy(values, 'key');\n      },\n    },\n    FileDetailsModal: {\n      onShareChange({state, actions}, data) {\n      },\n      showDocument({state}, {resourceId}) {\n        //Find document key for resourceId\n        let docKey = _.chain(state.oada.data.documents).findKey({_id: resourceId}).value();\n        if (docKey) {\n          state.view.Modals.FileDetailsModal.documentKey = docKey;\n        }\n      },\n      viewPDF({ state, actions }, documentKey) {\n        state.view.Modals.PDFViewerModal.headers = {Authorization: 'Bearer '+state.oada.token}\n        state.view.Modals.PDFViewerModal.url = `${state.oada.url}/bookmarks/trellisfw/documents/${documentKey}/pdf`\n        state.view.Modals.PDFViewerModal.open = true;\n      },\n      toggleShowData({ state }, documentKey) {\n        state.view.Modals.FileDetailsModal.showData = !state.view.Modals.FileDetailsModal.showData;\n      },\n      share({ state, actions }) {\n        //Share to all the share options\n        const shareKeys = _.map(state.view.Modals.FileDetailsModal.share, (share, key) => {\n          return key;\n        });\n        const documentKey = state.view.Modals.FileDetailsModal.documentKey;\n        return Promise.map(shareKeys, (taskKey) => {\n          return actions.oada.put({\n            url: `/bookmarks/trellisfw/documents/${documentKey}/_meta/services/approval/tasks/${taskKey}`,\n            data: {status: \"approved\"},\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          });\n        }, {concurrency: 1})\n      },\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.FileDetailsModal.open = false;\n      }\n    },\n    PDFViewerModal: {\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.PDFViewerModal.open = false;\n      }\n    }\n  },\n  Pages: {\n    Data: {\n      onSearch({ state }, value) {\n        state.view.Pages.Data.search = value;\n      },\n      openFileBrowser({ state }) {\n        state.view.Pages.Data.openFileBrowser = true;\n        return Promise.delay(1000).then(() => {\n          state.view.Pages.Data.openFileBrowser = false;\n        })\n      },\n      Dropzone: {\n        filesDropped({ state, actions }, files) {\n            //Start uploading the files\n            return Promise.map(files, (file) => {\n              //Add an `uploading` file\n              const id = uuid();\n              state.view.Pages.Data.uploading[id] = {\n                filename: file.name\n              };\n              return actions.oada.uploadFile(file).then(() => {\n                delete state.view.Pages.Data.uploading[id];\n              })\n            })\n        }\n      },\n      Table: {\n        onRowClick({ state, actions }, {rowData}) {\n          const documentKey = rowData.documentKey;\n          if (documentKey == null) return; //Uploading doc\n          const doc = state.oada.data.documents[documentKey];\n          if (doc.pdf != null) {\n            //Set view data for audit modal\n            state.view.Modals.FileDetailsModal.documentKey = documentKey;\n            state.view.Modals.FileDetailsModal.open = true;\n          }\n        }\n      }\n    },\n    Rules: {\n      ruleSelected({state, actions}, rule) {\n        state.view.Modals.EditRuleModal.open = true; \n        state.view.Pages.Rules.selectedRule = rule; \n      },\n      addRuleClicked({state, actions}, rule) {\n        state.view.Modals.NewRuleModal.open = true; \n        state.view.Modals.NewRuleModal.page = 'List'; \n        state.view.Pages.Rules.selectedRule = rule; \n      },\n      editRuleClicked({state, actions}, rule) {\n        state.view.Modals.NewRuleModal.Edit = {\n          template: json(rule),\n          rule: json(rule),\n          edit: true,\n          key: rule.key,\n        };\n        state.view.Modals.NewRuleModal.page = 'Edit';\n        state.view.Modals.NewRuleModal.open = true;\n      }\n    }\n  },\n  SideBar: {\n    pageSelected({state, actions}, page) {\n      state.view.Pages.selectedPage = page; \n    },\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import config from '../../config'\nexport default {\n  domain: config.oada && config.oada.url ? config.oada.url : '',\n}\n","export default {\n  async login({ state, actions }) {\n    state.login.loading = true;\n    state.oada.url = state.login.domain.match(/^http/) ? state.login.domain : 'https://'+state.login.domain;\n    await actions.oada.login();\n    state.login.loading = false;\n    if (state.oada.token) {\n      state.login.loggedIn = true;\n      const me = await actions.oada.get('/users/me');\n      state.login.name = me && me.data && me.data.username;\n      // Keep track of the last-used domain URL so refresh doesn't set it back to localhost all the time:\n      window.localStorage['oada:domain'] = state.oada.url;\n    }\n  },\n  async logout({ state, actions }) {\n    await actions.oada.logout();\n    state.login.loggedIn = false;\n  },\n  domainChange({ state }, data) {\n    state.login.domain = data.value;\n  }\n}\n","import md5 from 'md5'\n\nexport default {\n  objFromObjArr(arr) {\n    let obj = {}\n    arr.forEach((item) => {\n      item.key = md5(JSON.stringify(item));\n      obj[item.key] = item;\n    })\n    return obj\n  },\n\n  objFromStrArr(arr) {\n    let obj = {}\n    arr.forEach((item) => {\n      let o = {name: item};\n      o.key = md5(JSON.stringify(o));\n      obj[o.key] = o;\n    })\n    return obj\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import utils from '../utils'\n\nexport default {\n  products: utils.objFromStrArr(\n    ['Bacon', 'Ham', 'Ribs', 'Ground Pork', 'Shoulder', 'Loin', 'Sausage', 'Sausage, Smoked']\n  ),\n  documents: utils.objFromStrArr(\n    ['Audit', 'Certificate of Insurance', 'Advance Shipping Notice']\n  ),\n  partners: {\n    [`McDonald\\'s`]: {\n      email: 'McDonalds <aca+McDonalds@centricity.us>',\n    },\n    Tyson: {\n      email: 'Tyson <aca+Tyson@centricity.us>',\n      locations: utils.objFromObjArr([\n        {\n          text: 'Smithfield Packaged Meats Corp. - Wilson, NC',\n          id: '10151',\n          name: 'Wilson, NC'\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Arnold',\n          id: '10138',\n          name: 'Arnold, PA',\n        }, {\n          text: 'Smithfield Fresh Meats Corp. (North) - Smithfield, VA',\n          id: '10132',\n          name: 'North',\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Martin City',\n          name: 'Martin City'\n        }\n      ]),\n    },\n    Wakefern: {\n      email: 'Wakefern <aca+Wakefern@centricity.us>',\n      userid: 'users/123',\n    }\n  }\n}\n","import md5 from 'md5'\n\nexport default {\n  async initialize({state, actions}) {\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import md5 from 'md5'\n\nexport default {\n\n}\n","import {json} from 'overmind'\n\nexport default {\n  async getExamples({state, actions}) {\n    state.partners = json(state.examples.partners)\n  },\n\n  async initialize({state, actions}) {\n    actions.partners.getExamples();\n  }\n}\n","/* Copyright 2020 Qlever LLC\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport dotenv from 'dotenv'\n\n// TODO: Publish this to npm instead?\nimport libConfig from './lib-config'\nimport config from './config.defaults'\n\ndotenv.config()\n\nexport default libConfig(config)\n","/* Copyright 2020 Qlever LLC\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n  domain: 'localhost',\n  token: 'god',\n  fl_business_id: '5b2a416f6923920001acd471',\n//  rules_path: '/bookmarks/services/ainz/rules',\n  rules_path: '/bookmarks/services/ainz/testrules',\n  shares_path: '/bookmarks/services/ainz/shares',\n  rules_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      services: {\n        _type: 'application/vnd.oada.services.1+json',\n        _rev: 0,\n        ainz: {\n          _type: 'application/vnd.oada.service.1+json',\n          _rev: 0,\n          rules: {\n            _type: 'application/vnd.oada.ainz.rules.1+json',\n            _rev: 0,\n            '*': {\n              _type: 'application/vnd.oada.ainz.rule.1+json',\n              _rev: 0\n            }\n          }\n        }\n      }\n    }\n  },\n  documents_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      trellisfw: {\n        documents: {\n          _type: 'application/vnd.trellis.documents.1+json',\n          _rev: 0,\n          '*': {\n            _type: 'application/vnd.trellis.document.1+json',\n            _rev: 0\n          }\n        }\n      }\n    }\n  },\n  tasks_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      services: {\n        _type: 'application/vnd.oada.services.1+json',\n        _rev: 0,\n        '*': {\n          _type: 'application/vnd.oada.service.1+json',\n          _rev: 0,\n          jobs: {\n            _type: 'application/vnd.oada.service.jobs.1+json'\n          }\n        }\n      }\n    }\n  }\n}\n","import config from './config'\nimport md5 from 'md5'\nimport {json} from 'overmind'\nimport _ from 'lodash';\n\nconst FL_BUSINESS_ID = config.get('fl_business_id')\n\nexport default {\n  templates: {\n    temp0: {\n      id: 'temp0',\n      text: \"When an audit has a location of input0 and a product of input1, sync it to input2 via Food LogiQ.\",\n      input0: {\n        text: 'this location',\n        type: 'locations',\n        values: [],\n      },\n      input1: {\n        text: 'this product',\n        type: 'products',\n        values: [],\n      },\n      input2: {\n        text: 'this partner',\n        type: 'partners',\n        values: [],\n      },\n      categories: ['FSQA', 'PII'],\n      share: {\n        template: 'temp0',\n        type: 'fl',\n        locations: 'input0',\n        products: 'input1',\n        partners: 'input2',\n        shares: {\n          [FL_BUSINESS_ID]: {\n            communities: []\n          }\n        }\n      }\n    },\n    temp1: {\n      id: 'temp1',\n      text: \"When an audit has a location of input0 and a product of input1, sync it to IBM Food Trust.\",\n      input0: {\n        text: 'this location',\n        type: 'locations',\n        values: [],\n      },\n      input1: {\n        text: 'this product',\n        type: 'products',\n        values: [],\n      },\n      categories: ['FSQA', 'PII'],\n      share: {\n        template: 'temp1',\n        type: 'ift',\n        locations: 'input0',\n        products: 'input1',\n      }\n    },\n    temp2: {\n      id: 'temp2',\n      text: \"When an Audit has a location of input0 and a product of input1, email it to input2.\",\n      input0: {\n        text: 'this location',\n        type: 'locations',\n        values: [],\n      },\n      input1: {\n        text: 'this product',\n        type: 'products',\n        values: [],\n      },\n      input2: {\n        text: 'this email',\n        type: 'emails',\n        values: [],\n      },\n      categories: ['FSQA', 'PII'],\n      share: {\n        template: 'temp2',\n        type: 'email',\n        locations: 'input0',\n        products: 'input1',\n        emails: 'input2',\n      }\n    },\n  },\n  rules: {},\n  partners: (local, state) =>\n    _.keyBy(\n      _.keys(state.partners)\n      .map(k => ({name: k}))\n      .map(obj =>\n        _.assign(obj, {key: md5(JSON.stringify(obj))})\n      )\n    ,'key')\n  ,\n\n  documents: (local, state) =>\n    state.examples.documents,\n\n  locations: (local, state) =>\n    _.keyBy(\n      _.chain(state.partners)\n      .map(partner =>\n        _.values(partner.locations || {}).map(location =>\n          _.assign({}, location, {partner: partner.key })\n        ).map(location =>\n          _.assign(location, {key: md5(JSON.stringify(location))})\n        )\n      )\n      .flatten()\n      .compact()\n      .value()\n    , 'key')\n  ,\n  products: (local, state) => state.examples.products,\n  emails: (local, state) =>\n    _.keyBy(\n      _.chain(state.partners)\n      .map(partner => partner.email)\n      .compact()\n      .map(name => ({name}))\n      .map(obj =>\n        _.assign(obj, {key: md5(JSON.stringify(obj))})\n      )\n      .value()\n    , 'key')\n  ,\n}\n","import {shareToRules} from './shareRule';\nimport md5 from 'md5'\nimport {json} from 'overmind'\nimport _ from 'lodash';\nimport config from './config'\n\nconst pattern = /(input[0-9]+)/;\n\nconst SHARES_PATH = config.get('shares_path')\n\nfunction processShare(state, rule, share) {\n  share.text = rule.text;\n\n  if (share.products) {\n    share.products = rule[share.products].values;\n  }\n\n  if (share.locations) {\n    share.locations = rule[share.locations].values;\n  }\n\n  if (share.emails) {\n    share.emails = rule[share.emails].values;\n  }\n\n  if (share.partners) {\n    share.partners = rule[share.partners].values;\n  }\n\n  return share\n}\n\nexport default {\n  async putShare({state, actions}, share) {\n   let id = md5(JSON.stringify(share));\n   share.key = id;\n   let path = `${SHARES_PATH}/${id}`;\n\n\n   let resource = await actions.oada.put({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      url: `/resources/${id}`,\n      data: share,\n    })\n\n    let _id = resource.headers['content-location'].replace(/^\\//, '');\n\n    let putResponse = await actions.oada.put({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      url: path,\n      data: {_id, _rev: 0}\n    })\n    return\n  },\n\n  async deleteShare({state, actions}) {\n    let key = state.view.Modals.NewRuleModal.Edit.key;\n    let path = `${SHARES_PATH}/${key}`;\n    let response = await actions.oada.del({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      url: path,\n    })\n  },\n\n  async createShare({state, actions}) {\n    let rule = json(state.view.Modals.NewRuleModal.Edit.rule);\n    let share = rule.share;\n    let newShare = _.cloneDeep(share);\n    newShare = processShare(state, rule, newShare);\n    await actions.rules.putShare(newShare);\n  },\n\n  async loadShares({state, actions}) {\n    let response = await actions.oada.get(SHARES_PATH);\n    Object.keys(response.data)\n      .filter(key => key.charAt(0) !== '_')\n      .forEach(async (key) => {\n        let shareResponse = await actions.oada.get(`${SHARES_PATH}/${key}`);\n        if (shareResponse.data) actions.rules.mapShare({key, share: shareResponse.data});\n      })\n  },\n\n  async initialize({state, actions}) {\n    await actions.rules.loadShares();\n  },\n\n  locationStringsFromShare({state, actions}, share) {\n    return share.locations.map((location) =>\n      (_.find(state.rules.Location, location)).name\n    )\n  },\n\n  async mapShare({state, actions}, obj) {\n    // Get the template and apply the share to it\n    let key = obj.key;\n    let share = obj.share;\n    let templateId = share.template;\n    let template = json(state.rules.templates[templateId]);\n    let rule = _.cloneDeep(template);\n\n    // Fill out the inputs\n    _.keys(template.share).filter(key =>\n//      /^input/.test(template.share[key])\n      pattern.test(template.share[key])\n    ).forEach(key => {\n      rule[template.share[key]].values = share[key]\n    })\n    rule.key = share.key;\n\n    // Set the state\n    state.rules.rules[key] = rule;\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import { IConfig } from 'overmind'\n\nimport { createHook } from 'overmind-react'\n\nimport { namespaced } from 'overmind/config'\n\nimport app from './app'\nimport * as oada from './oada'\nimport * as urls from './urls'\nimport * as view from './view'\nimport * as login from './login'\nimport * as examples from './examples'\nimport * as partners from './partners'\nimport * as rules from './rules'\n\nexport const config = namespaced({\n  app: app('app'),\n  oada,\n  urls,\n  view,\n  login,\n  examples,\n  partners,\n  rules,\n})\n\ndeclare module 'overmind' {\n  interface Config extends IConfig<typeof config> {}\n}\n\nexport default createHook<typeof config>()\n","import state from './state'\nimport actions from './actions'\nimport config from '../../config'\nimport _ from 'lodash'\nimport packagejson from '../../../package.json';\n\nexport default function (namespace) {\n  return {\n    onInitialize({ state, actions, effects }, instance) {\n      console.log('Started app')\n\n\n      // Add the package.json version to the title\n      if (packagejson && packagejson.version) {\n        document.title = document.title + ' - v'+packagejson.version;\n      }\n\n      // Populate domain from localStorage if there is a saved one:\n      if (window.localStorage['oada:domain']) {\n        console.log('Have saved domain in localStorage, using it');\n        state.login.domain = window.localStorage['oada:domain'];\n      }\n\n      let skin = false;\n      // Populate skin from localStorage if there is a saved one:\n      if (window.localStorage['skin']) {\n        console.log('Have saved skin in localStorage, using it');;\n        skin = window.localStorage['skin'];\n      }\n      if (!config.skins || !config.skins[skin]) {\n        console.log('WARNING: skin in localStorage was ',skin,', but that is not listed in config.skins');\n        skin = false;\n      }\n      if (!skin) skin = config.skin;\n      console.log('Using skin ', skin);\n      // Also push skin options to state:\n      state.app.skins = config.skins;\n      // And select one\n      state.app.skin = skin;\n\n      //Initialize modules\n      actions.examples.initialize();\n      actions.partners.initialize();\n    },\n    state,\n    actions: actions(namespace)\n  }\n}\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx } from '@emotion/core'\n\nimport { Button, Dropdown } from 'semantic-ui-react'\nimport overmind from '../../overmind'\nimport config from '../../config';\n\n\nfunction TopBar() {\n  const { actions, state } = overmind();\n  const skin = state.app.skin;\n  return (\n    <div css={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n      height: '100px',\n      borderBottom: '1px solid #979797'\n    }}>\n      <img css={{\n        height: '50px',\n        paddingLeft: '20px'\n      }} src={'skins/'+skin+'/'+state.app.skins[skin].logo.src} alt=\"logo\" />\n      <div css={{marginRight: 50}}>\n          <Dropdown text={state.login.name}>\n            <Dropdown.Menu>\n              <Dropdown.Item icon='power' text='Logout' value='logout' onClick={actions.view.TopBar.logout} />\n            </Dropdown.Menu>\n          </Dropdown>\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport iconData from './data.svg';\nimport iconBuisness from './buisness.svg';\nimport iconConnections from './connections.svg';\nimport overmind from '../../overmind'\n\nconst activeSideSelection = {\n  'img': {\n    filter: 'invert(22%) sepia(76%) saturate(6476%) hue-rotate(201deg) brightness(92%) contrast(100%)',\n    opacity: 0.6\n  },\n  'div': {\n    color: '#0066CB'\n  }\n}\n\nfunction SideSection(props) {\n  const { state, actions } = overmind();\n  const myActions = actions.view.SideBar\n  return (\n    <div\n      onClick={evt => {myActions.pageSelected(props.name)}}\n      css={css`\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 125px;\n        width: 150px;\n        cursor: pointer;\n        border-bottom: 1px solid #979797;\n        &:hover {\n          ${activeSideSelection}\n        }\n        &.selected {\n          ${activeSideSelection}\n        }\n        & img {\n          opacity: 0.41\n        }\n        & div {\n          opacity: 0.84\n        }\n      `}\n      className={props.selected ? 'selected' : null}\n      >\n      <img\n        css={{\n          height: '41px', paddingBottom: '7px'\n        }}\n        src={props.icon}\n        fill={'#666'}\n      />\n      <div>{props.children}</div>\n    </div>\n  );\n}\n\nfunction SideBar() {\n  const { state, actions } = overmind();\n  const selectedPage = state.view.Pages.selectedPage;\n  const pageSelected = actions.view.SideBar.pageSelected;\n  return (\n    <div css={{\n      display: 'flex',\n      flexDirection: 'column',\n      borderRight: '1px solid #979797'\n    }}>\n      <SideSection selected={(selectedPage == 'Data')} name={'Data'} icon={iconData}>{'Data'}</SideSection>\n      <SideSection selected={(selectedPage == 'Rules')} name={'Rules'} icon={iconConnections}>{'Rules'}</SideSection>\n    </div>\n  );\n}\n\nexport default SideBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Input, Button, Icon  } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport 'semantic-ui-css/semantic.min.css'\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Data;\n  return (\n    <div css={css`\n      display: flex;\n      direction: row;\n      justify-content: space-between;\n      align-items: center;\n      padding-top: 15px;\n      padding-left: 20px;\n      padding-right: 20px;\n      padding-bottom: 10px;\n      & .button {\n        background-color: #fff;\n        border: 1px solid #979797;\n        border-radius: 20px;\n        font-size: 14px;\n        .plus.icon:before {\n          color: #0061C0\n        }\n      }\n    `}>\n      <div css={{display: 'flex', alignItems: 'center'}}>\n        <div css={{fontSize: 27, marginRight: 15}}>{'Data'}</div>\n        <Input type=\"search\" id=\"user-search\" icon='search' iconPosition='left'  placeholder='Search...' style={{borderRadius: 38}}\n          onChange={(evt) => myActions.onSearch(evt.target.value)} />\n      </div>\n      <Button icon onClick={()=>myActions.openFileBrowser()}>\n        <Icon  name='plus' />\n        <span css={{marginLeft: 7, marginRight: 4, color: '#0061C0', fontWeight: 100}}>Add</span>\n      </Button>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './upload.svg';\n\nfunction uploadIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '18px')\n      }}\n      src={icon} />\n  );\n}\n\nexport default uploadIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './processing.svg';\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '20px')\n      }}\n      src={icon} />\n  );\n}\n\nexport default processingIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './signed.svg';\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '18px'),\n        filter: 'invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)'\n      }}\n      src={icon} />\n  );\n}\n\nexport default signedIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './target_logo.png';\nimport { Popup } from 'semantic-ui-react'\n\nfunction TargetIcon(props) {\n  return (\n    <Popup content='Processed by Target' position=\"right center\" trigger={\n      <img\n        css={{\n          height: (props.height || '40px'),\n          marginTop: '3px',\n        }}\n        src={icon} />\n    } />\n\n  );\n}\n\nexport default TargetIcon;\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport 'react-virtualized/styles.css'\nimport { Column, Table as RTable, AutoSizer } from 'react-virtualized'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\nimport UploadingIcon from './icons/UploadIcon'\nimport ProcessingIcon from './icons/ProcessingIcon'\nimport SignedIcon from './icons/SignedIcon'\nimport TargetIcon from './icons/TargetIcon'\nimport classnames from 'classnames'\nimport Fuse from 'fuse.js'\n\nfunction Table () {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Pages.Data.Table\n  const myState = state.view.Pages.Data\n\n  var collection = _.map(\n    _.get(state, 'oada.data.documents'),\n    (document, documentKey) => {\n      //Pull out status from services\n      const tasks = _.get(document, '_meta.services.target.tasks') || {}\n      const fileDetails = {}\n      _.forEach(tasks, task => {\n        const statuses = _.get(task, 'status') || {}\n        const identify = _.find(statuses, { status: 'identified' })\n        if (identify != null) {\n          fileDetails.type = _.get(identify, 'type')\n          fileDetails.format = _.get(identify, 'format')\n          return false\n        } else {\n          const failed = _.find(statuses, { status: 'error' })\n          if (failed != null) {\n            fileDetails.format = 'Unknown'\n            return false\n          }\n        }\n      })\n      if (fileDetails.type == null) {\n        if (_.get(document, 'audits') != null) {\n          fileDetails.type = 'Audit'\n        } else if (_.get(document, 'cois') != null) {\n          fileDetails.type = 'COI'\n        } else {\n          fileDetails.type = 'Unknown'\n        }\n      }\n      // Check if Target service exists and is handling this document:\n      const processingService = _.keys(tasks).length > 0 ? 'target' : false\n\n      //Pull out share status\n      // Aaron changed this to stay bold unless ALL share tasks are approved.\n      const shared = _.chain(document)\n        .get('_meta.services.approval.tasks')\n        .every(t => t.status === 'approved')\n        .value()\n\n      //Pull out signature from audit\n      var signatures =\n        _.chain(document)\n          .get('audits')\n          .values()\n          .get(0)\n          .get('signatures')\n          .value() || []\n      if (signatures.length == 0)\n        signatures =\n          _.chain(document)\n            .get('cois')\n            .values()\n            .get(0)\n            .get('signatures')\n            .value() || []\n\n      // Get masked location\n      var masked = false;\n      if (_.get(document, 'unmask') != null) masked = true;\n\n      return {\n        documentKey: documentKey,\n        filename: _.get(document, 'pdf._meta.filename') || '',\n        type: fileDetails.type,\n        status: fileDetails.type == null ? 'processing' : null,\n        format: fileDetails.format,\n        createdAt: moment\n          .utc(_.get(document, '_meta.stats.created'), 'X')\n          .local()\n          .format('M/DD/YYYY h:mm a'),\n        createdAtUnix: _.get(document, '_meta.stats.created'),\n        signed: signatures.length > 0 ? true : false,\n        masked: masked,\n        shared: shared,\n        processingService\n      }\n    }\n  )\n  //Filter collection by filename\n  const fuseOptions = {keys: [{name: 'filename', weight: 0.3}], shouldSort: false};\n  var fuse = new Fuse(collection, fuseOptions);\n  if (myState.search && myState.search.length > 0) {\n    collection = _.map(fuse.search(myState.search.substr(0, 32)), 'item');\n  }\n  //Sort collection\n  collection = _.orderBy(collection, ['createdAtUnix'], ['desc'])\n  _.forEach(_.get(state, 'view.Pages.Data.uploading'), file => {\n    collection.unshift({\n      filename: file.filename,\n      status: 'uploading'\n    })\n  })\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={'header'}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => collection[index]}\n          rowClassName={({ index }) => {\n            var className = null\n            if (index % 2 === 0) {\n              className = 'row even'\n            } else {\n              className = 'row odd'\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, 'unshared')\n            return className\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=''\n            dataKey='processingService'\n            width={40}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== 'target' ? (\n                ''\n              ) : (\n                <TargetIcon />\n              )\n            }\n          />\n          <Column label='Name' dataKey='filename' width={200} />\n          <Column\n            width={200}\n            label='Type'\n            dataKey='type'\n            cellRenderer={({ rowData }) => {\n              if (rowData.type) {\n                if (rowData.masked) {\n                  return <div>{`${rowData.type} - Masked`}</div>\n                }\n                return <div>{rowData.type}</div>\n              } else if (rowData.status == 'processing') {\n                return (\n                  <div css={{ display: 'flex', alignItems: 'center' }}>\n                    <ProcessingIcon />\n                    <div css={{ marginLeft: 3 }}>{'Processing...'}</div>\n                  </div>\n                )\n              } else if (rowData.status == 'uploading') {\n                return (\n                  <div css={{ display: 'flex', alignItems: 'center' }}>\n                    <UploadingIcon />\n                    <div css={{ marginLeft: 3 }}>{'Uploading...'}</div>\n                  </div>\n                )\n              } else {\n                return <div>{'Unknown'}</div>\n              }\n            }}\n          />\n          <Column width={140} label='Added' dataKey='createdAt' />\n          <Column\n            dataKey='name'\n            className='signature'\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null\n              return (\n                <div css={{ display: 'flex', alignItems: 'center' }}>\n                  <SignedIcon />\n                  <div css={{ marginLeft: 3, color: '#02A12B', marginRight: 7 }}>\n                    {'Signed'}\n                  </div>\n                </div>\n              )\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  )\n}\n\nexport default Table\n","import React, { useEffect, useRef } from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport {useDropzone} from 'react-dropzone'\nimport overmind from '../../../overmind'\n\nfunction Dropzone(props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Data.Dropzone;\n  const {getRootProps, getInputProps, isDragActive, open} = useDropzone({onDrop: myActions.filesDropped, noClick: true})\n\n  const prevOpen = useRef(false);\n  useEffect(() => {\n    if (!prevOpen.current && props.open) open();\n    prevOpen.current = props.open;\n  });\n\n  return (\n    <div css={{flex: 1, display: 'flex'}} {...getRootProps()}>\n      {\n        props.children\n      }\n      {\n        <input id=\"user-search-2\" {...getInputProps()} />\n      }\n    </div>\n  );\n}\n\nexport default Dropzone;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport TopBar from './TopBar';\nimport Table from './Table';\nimport Dropzone from './Dropzone';\nimport overmind from '../../../overmind'\n\nfunction Data() {\n  const { state } = overmind();\n  const myState = state.view.Pages.Data;\n  return (\n    <div css={{\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <TopBar />\n      <div css={css`\n        height: 1px;\n        background: #979797;\n        margin-left: 20px;\n        margin-right: 20px;\n      `}/>\n      <div css={{flex: 1, padding: 30, paddingTop: 15, display: 'flex'}}>\n        <div css={{border: '1px solid #979797', flex: 1, display: 'flex'}}>\n          <Dropzone open={myState.openFileBrowser}>\n            <Table />\n          </Dropzone>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Input, Button, Icon  } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport 'semantic-ui-css/semantic.min.css'\n\nfunction TopBar() {\n  const {actions} = overmind();\n  let myActions = actions.view.Pages.Rules;\n  return (\n    <div css={css`\n      display: flex;\n      direction: row;\n      justify-content: space-between;\n      align-items: center;\n      padding-top: 15px;\n      padding-left: 20px;\n      padding-right: 20px;\n      padding-bottom: 10px;\n      & .button {\n        background-color: #fff;\n        border: 1px solid #979797;\n        border-radius: 20px;\n        font-size: 14px;\n        .plus.icon:before {\n          color: #0061C0\n        }\n      }\n    `}>\n      <div css={{display: 'flex', alignItems: 'center'}}>\n        <div css={{fontSize: 27, marginRight: 15}}>{'Current Rules'}</div>\n      </div>\n      <Button onClick={evt=>{myActions.addRuleClicked()}}icon>\n        <Icon  name='plus' />\n        <span css={{marginLeft: 7, marginRight: 4, color: '#0061C0', fontWeight: 100}}>Add</span>\n      </Button>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from 'react';\nimport _ from 'lodash';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport TopBar from './TopBar';\nimport {Button, Icon} from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nfunction Rule(props) {\n  const {actions} = overmind()\n  const myActions = actions.view.Pages.Rules;\n  const pattern = /(input[0-9]+)/g;\n  let r = props.rule;\n  return (\n    <div\n      onClick={() => {myActions.editRuleClicked(r)}}>\n      <div css={css`\n        position: relative;\n        top: 0px;\n        border: 1px solid rgba(34,36,38,.15);\n        padding: 20px;\n        border-radius: 12px;\n        margin: 7px;\n        cursor: pointer;\n        transition: all 300ms;\n        transition-property: box-shadow, top;\n        &:hover {\n          box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.25);\n          top: -2px;\n          border: 1px solid #fff;\n        }\n      `}>\n        <div css={{fontSize: 16}}>\n        {\n          r.text.split(pattern).map((item, j) => {\n            if (pattern.test(item)) {\n              let text = _.values(r[item].values).map(o => o.name);\n              if (text.length == 0) {\n                return (\n                  <span css={{fontWeight: 800}} key={`newrule-${j}-boldword-${j}`}>\n                    {'anything'}\n                  </span>\n                )\n              } else {\n                return _.map(text, (t, idx) => {\n                  return (\n                    <div css={{display: 'contents'}} key={`newrule-${j}-boldword-${idx}`}>\n                      <span css={{fontWeight: 800}}>{t}</span>\n                      {\n                        (idx == (text.length-1)) ? null :<span>{' or '}</span>\n                      }\n                    </div>\n                  )\n                })\n              }\n            } else {\n              return (\n                <span css={{fontWeight: 100}} key={`newrule-${j}-word-${j}`}>{item}</span>\n              )\n            }\n          })\n        }\n        </div>\n      </div>\n    </div>\n  )\n\n\n  return (\n    <div\n      css={css`\n      padding: 10px;\n      display: flex;\n      flex-direction: row;\n      align-content: center;\n      margin: 10px;\n      border: 1px solid #000000;\n      border-radius: 5px;\n      box-shadow: 5px 5px 5px grey;\n      text-align: center;\n      font-size: 17px;\n      &.hover {\n        border: 2px solid #2a9fd8;\n      }\n    `}>\n      <p\n        key={'current-rule-'+props.id}\n        css={css`\n          flex: 1\n        `}>\n         {props.rule.text.split(pattern).map((item, i) =>\n           pattern.test(item) ?\n           <b key={props.id+'-boldword-'+i}>{(() => {\n             let vals = _.values(props.rule[item].values).map(o => o.name)\n             return vals.length > 2 ?\n               (vals.slice(0,vals.length-1)).join(', ')+', or '+vals[vals.length-1]\n               :\n               vals.length > 1 ?\n                 vals.join(' or ')\n                 :\n                 vals.length === 1 ?\n                   vals\n                   :\n                   'Any'\n           })()}</b>\n           :\n           item\n         )}\n       </p>\n      <Button\n        icon\n        primary\n        onClick={evt => {myActions.editRuleClicked(props.rule)}}>\n      <Icon name='edit'/>\n    </Button>\n    </div>\n  );\n}\n\nfunction Rules() {\n  const {state} = overmind()\n  const rules = state.rules.rules;\n\n  return (\n    <div css={{\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <TopBar />\n      <div css={css`\n        height: 1px;\n        background: #979797;\n        margin-left: 20px;\n        margin-right: 20px;\n      `}/>\n      <div css={{flex: 1, padding: 30, paddingTop: 15, display: 'flex'}}>\n        <div css={{flex: 1,  flexDirection:'column', display: 'flex'}}>\n        {Object.keys(rules).map(key =>\n          <Rule rule={rules[key]} id={key} key={key}/>\n        )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Rules;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport Data from './Data';\nimport Rules from './Rules';\nimport overmind from '../../overmind'\n\nfunction Pages() {\n  const {state} = overmind();\n  const selectedPage = state.view.Pages.selectedPage;\n  return (\n    <div css={{\n      display: 'flex',\n      flex: '1',\n      boxShadow: 'inset 5px 5px 5px #dddddd'\n    }}>\n      {selectedPage === 'Data' ? <Data /> : null}\n      {selectedPage === 'Rules' ? <Rules /> : null}\n    </div>\n  );\n}\n\nexport default Pages;\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Header } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\n\nfunction MyHeader (props) {\n  const { state } = overmind()\n  const myState = state.view.Modals.FileDetailsModal\n  let title = 'Unknown Document Type';\n  if (myState.audit != null && _.keys(myState.audit).length > 0) {\n    title = `FSQA Audit`;\n  } else if (myState.coi != null && _.keys(myState.coi).length > 0) {\n    title = `Certificate of Insurance`;\n  }\n  return (\n    <Header>\n      <div css={{display: 'flex', justifyContent: 'space-between'}}>\n        <div>{title}</div>\n        <div css={{color: 'red', fontWeight: 'bold'}}>\n          {\n            (myState.document && myState.document.unmask) ? 'MASKED' : null\n          }\n        </div>\n      </div>\n    </Header>\n  )\n}\n\nexport default MyHeader\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\n\nfunction Organization (props) {\n  const { audit } = props\n  const org = (audit.organization && audit.organization.name) ? audit.organization.name : 'Unknown';\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Organization\n      </Table.Cell>\n      <Table.Cell>{org}</Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Organization\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\nimport _ from 'lodash'\nimport Chip from '@material-ui/core/Chip'\n\nfunction Scope (props) {\n  const { audit } = props\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Scope (Products)\n      </Table.Cell>\n      <Table.Cell css={css`\n          .MuiChip-root {\n            font-family: inherit;\n            font-size: 14px;\n            line-height: 16px;\n            margin-left: 3px;\n            margin-top: 3px;\n          }\n          .MuiChip-root:first-of-type {\n            margin-left: 0px;\n          }\n        `}>\n        {\n          _.map(_.get(audit, 'scope.products_observed'), (p, idx) => (\n            <Chip key={idx} label={p.name} />\n          ))\n        }\n      </Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Scope\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\nimport _ from 'lodash';\n\nfunction Score (props) {\n  const { audit } = props\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Score\n      </Table.Cell>\n      <Table.Cell>\n      {\n        `${_.get(audit, 'score.final.value', 'Unknown')} `\n      }\n      {!_.get(audit, 'score.rating') ? (\n        ''\n      ) : (\n        <span\n          style={{\n            color: _.get(audit, 'score.rating', '').match(/(good|excellent)/i)\n              ? 'green'\n              : 'red'\n          }}\n        >\n          ({_.get(audit, 'score.rating', 'Unknown').trim()})\n        </span>\n      )}\n      </Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Score\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\nimport moment from 'moment';\n\nfunction Validity (props) {\n  const { audit } = props\n  let validity = null\n  if (\n    audit.certificate_validity_period &&\n    audit.certificate_validity_period.start &&\n    audit.certificate_validity_period.end\n  ) {\n    validity = {\n      start: moment(audit.certificate_validity_period.start, 'M/D/YYYY'),\n      end: moment(audit.certificate_validity_period.end, 'M/D/YYYY')\n    }\n    if (!validity.start || !validity.start.isValid()) validity = null\n    if (!validity.end || !validity.end.isValid()) validity = null\n    const now = moment()\n    // If it starts after today, or ended before today, it's expired\n    validity.expired = validity.start.isAfter(now) || validity.end.isBefore(now)\n  }\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Validity\n      </Table.Cell>\n      <Table.Cell>\n      {\n        (!validity) ? '' :\n        (validity.expired) ?\n          <span style={{ color: 'red' }}>EXPIRED!</span>\n        :\n          <span style={{ color: 'green' }}>\n            {`VALID (from ${validity.start.format('MMM d, YYYY')} to ${validity.end.format('MMM d, YYYY')})`}\n          </span>\n      }</Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Validity\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table, Button} from 'semantic-ui-react'\nimport overmind from '../../../../overmind'\n\nfunction Unmask (props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const { document } = props;\n  if (!document.unmask) return null;\n  const resourceId = (document.unmask) ? document.unmask._id : null;\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Unmask\n      </Table.Cell>\n      <Table.Cell>\n        <Button onClick={()=>{myActions.showDocument({resourceId})}}>View Original</Button>\n      </Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Unmask\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table, Button} from 'semantic-ui-react'\nimport overmind from '../../../../overmind'\nimport _ from 'lodash'\nimport Chip from '@material-ui/core/Chip'\n\nfunction Masks (props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const { document } = props;\n  if (!document.masks) return null;\n  let maskNumber = 0;\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Masked Copies\n      </Table.Cell>\n      <Table.Cell css={css`\n          .MuiChip-root {\n            font-family: inherit;\n            font-size: 14px;\n            line-height: 16px;\n            margin-left: 3px;\n            margin-top: 3px;\n          }\n          .MuiChip-root:first-of-type {\n            margin-left: 0px;\n          }\n        `}>\n        {\n          _.map(document.masks, (d, idx) => {\n            maskNumber++;\n            let resourceId = d._id;\n            return (\n              <Chip key={idx} label={`Masked Copy ${String.fromCharCode(64 + maskNumber)}`} onClick={() => myActions.showDocument({resourceId})} />\n            )\n          })\n        }\n      </Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Masks\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Table } from 'semantic-ui-react'\n\nimport Organization from './Organization'\nimport Scope from './Scope'\nimport Score from './Score'\nimport Validity from './Validity'\nimport Unmask from '../common/Unmask'\nimport Masks from '../common//Masks'\n\nfunction Audit (props) {\n  const { audit, document } = props\n  return (\n    <Table celled striped>\n      <Table.Body css={{fontSize: 16}}>\n        <Organization audit={audit} />\n        <Score audit={audit} />\n        <Scope audit={audit} />\n        <Validity audit={audit} />\n        <Unmask document={document} />\n        <Masks document={document} />\n      </Table.Body>\n    </Table>\n  )\n}\n\nexport default Audit\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\n\nfunction Producer (props) {\n  const { coi } = props\n  const producer = (coi.producer && coi.producer.name) ? coi.producer.name : 'Unknown';\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Producer\n      </Table.Cell>\n      <Table.Cell>{producer}</Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Producer\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\n\nfunction Holder (props) {\n  const { coi } = props\n  const holder = (coi.holder && coi.holder.name) ? coi.holder.name : 'Unknown';\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Holder\n      </Table.Cell>\n      <Table.Cell>{holder}</Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Holder\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Icon, Table } from 'semantic-ui-react'\nimport _ from 'lodash'\nimport moment from 'moment';\nimport Chip from '@material-ui/core/Chip'\nimport { Popup } from 'semantic-ui-react'\n\nfunction Scope (props) {\n  const { coi } = props\n  let policies = _.cloneDeep(coi.policies) || []; // COI has policies\n  // Filter policies whose dates we can't parse\n  policies = _.filter(policies, p => {\n    p.start = moment(p.effective_date);\n    p.end = moment(p.expire_date);\n    if (!p.start.isValid())  return false;\n    if (!p.end.isValid()) return false;\n    const now = moment();\n    p.expired = p.start.isAfter(now) || p.end.isBefore(now);\n    return true; // keep this one in the list\n  });\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{fontWeight: 'bold'}}>\n        Policies\n      </Table.Cell>\n      <Table.Cell css={css`\n          .MuiChip-root {\n            font-family: inherit;\n            font-size: 14px;\n            line-height: 16px;\n            margin-left: 3px;\n            margin-top: 3px;\n          }\n          .MuiChip-root:first-of-type {\n            margin-left: 0px;\n          }\n        `}>\n        {\n          _.map(policies, (p, idx) => (\n            <Popup key={idx} content={\n              <div>\n                <div css={{textAlign: 'center'}}>{'Effective'}</div>\n                <div>{`${p.start.format('MMMM d, YYYY')} to ${p.end.format('MMMM d, YYYY')}`}</div>\n              </div>\n            } trigger={\n              <Chip color={(p.expired) ? 'secondary' : 'default'} label={`${p.number}${p.expired ? ': EXPIRED' : ''}`} />\n            } />\n          ))\n        }\n      </Table.Cell>\n    </Table.Row>\n  )\n}\n\nexport default Scope\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport { Table } from 'semantic-ui-react'\n\nimport Producer from './Producer'\nimport Holder from './Holder'\nimport Policies from './Policies'\nimport Unmask from '../common/Unmask'\nimport Masks from '../common//Masks'\n\nfunction CoI (props) {\n  const { coi, document } = props\n  return (\n    <Table celled striped>\n      <Table.Body css={{fontSize: 16}}>\n        <Producer coi={coi} />\n        <Holder coi={coi} />\n        <Policies coi={coi} />\n        <Unmask document={document} />\n        <Masks document={document} />\n      </Table.Body>\n    </Table>\n  )\n}\n\nexport default CoI\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\nimport ReactJson from 'react-json-view'\nimport Audit from './Audit'\nimport CoI from './CoI'\n\nfunction Content (props) {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Modals.FileDetailsModal\n  const myState = state.view.Modals.FileDetailsModal\n\n  var jsonData = null\n  var jsonTitle = ''\n  if (_.isEmpty(myState.audit) == false) {\n    jsonData = _.get(myState, 'audit')\n    jsonTitle = 'audit'\n  } else if (_.isEmpty(myState.coi) == false) {\n    jsonData = _.get(myState, 'coi')\n    jsonTitle = 'coi'\n  }\n  if (jsonData) {\n    jsonData = _.cloneDeep(jsonData)\n    if (jsonData._id) delete jsonData._id\n    if (jsonData._rev) delete jsonData._rev\n    if (jsonData._type) delete jsonData._type\n    if (jsonData._meta) delete jsonData._meta\n  }\n\n  return (\n    <div>\n      {jsonTitle === 'audit' ? (\n        <Audit audit={myState.audit} document={myState.document} />\n      ) : jsonTitle === 'coi' ? (\n        <CoI coi={myState.coi} document={myState.document} />\n      ) : null}\n\n      {!myState.showData ? (\n        ''\n      ) : jsonData == null ? (\n        <span>&lt; No Data &gt;</span>\n      ) : (\n        <ReactJson\n          src={jsonData}\n          name={jsonTitle}\n          collapsed={1}\n          collapseStringsAfterLength={50}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          enableClipboard={false}\n        />\n      )}\n\n      <div\n        css={{\n          color: '#2439FF',\n          fontSize: 16,\n          marginBottom: 7,\n          display: 'flex',\n          justifyContent: 'center'\n        }}\n      >\n        <div\n          css={{ cursor: 'pointer' }}\n          onClick={() => myActions.viewPDF(_.get(myState, 'documentKey'))}\n        >\n          {'VIEW PDF'}\n        </div>\n        &nbsp;&nbsp;|&nbsp;&nbsp;\n        <div\n          css={{ cursor: 'pointer' }}\n          onClick={() =>\n            myActions.toggleShowData(_.get(myState, 'documentKey'))\n          }\n        >\n          {myState.showData ? 'HIDE DATA' : 'VIEW DATA'}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Content\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Button, Dropdown, Icon } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport ReactJson from 'react-json-view'\n\nfunction Sharing(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  const shareOptions = _.chain(myState.share).map((share, key) => {\n    if (share.status == 'approved') return null;\n    var type = share.type;\n    if (type == 'fl') type = 'FoodLogiQ';\n    if (type == 'shareWf') type = 'Trellis';\n    if (type == 'ift') type = 'IBM Food Trust';\n    return {\n      key,\n      text: `${share['partner']} - ${type}`,\n      value: key\n    }\n  }).compact().value();\n  const shareValue = _.chain(myState.share).map((share, key) => {\n    if (share.status == 'pending') return key;\n  }).compact().value();\n  const approvedList = _.chain(myState.share).map((share) => {\n    var type = share.type;\n    if (type == 'fl') type = 'FoodLogiQ';\n    if (type == 'shareWf') type = 'Trellis';\n    if (type == 'ift') type = 'IBM Food Trust';\n    if (share.status == 'approved') return `${share['with']} - ${type}`;\n  }).compact().value();\n  return (\n    <div css={{display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n      <div css={{fontSize: 27, marginBottom: 10, fontWeight: 'bold'}}>\n        {'Share with others:'}\n      </div>\n      <div css={{display: 'flex'}}>\n        <Dropdown\n          css={{marginRight: 5}}\n          placeholder='Select trading partners...'\n          fluid\n          multiple\n          search\n          selection\n          options={shareOptions}\n          value={shareValue}\n          onChange={(evt, data)=>{myActions.onShareChange(data.value)}}\n        />\n        <Button icon primary labelPosition='left' disabled={(shareValue.length == 0)} onClick={myActions.share}>\n          <Icon name='send' />\n          Share\n        </Button>\n      </div>\n      {\n        (approvedList.length > 0) ?\n        <div css={{fontSize: 15, color: '#787878', marginTop: 5}}>{'Shared with: ' + approvedList.join(', ')}</div>\n        :\n        null\n      }\n    </div>\n  );\n}\nexport default Sharing\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Modal } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport Header from './Header';\nimport Content from './Content';\nimport Sharing from './Sharing'\n\nfunction FileDetailsModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content >\n        <div css={{minHeight: 350, display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n          <Content />\n          <Sharing />\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default FileDetailsModal\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Header } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\n\nfunction MyHeader (props) {\n  return (\n    <Header>\n      Rule Overview\n    </Header>\n  )\n}\n\nexport default MyHeader\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\nimport ReactJson from 'react-json-view'\n//import Table from './Table';\n\nfunction Content (props) {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Modals.EditRuleModal\n  const myState = state.view.Modals.EditRuleModal;\n  const selected = state.view.Pages.Rules.selectedRule;\n  const rule = state.view.Pages.Rules.rules[selected];\n  let pattern = /(input[0-9]+)/g;\n\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <div css={{flexDirection: 'row'}}>\n        <p>\n          {rule.text.split(pattern).map((item, j) => \n            pattern.test(item) ? \n              <b key={`editrule-boldword-${j}`}>{rule[item]}</b> \n              : \n              item\n            )\n          }\n        </p>\n      </div>\n      <span>{`${rule.total} Total Documents Processed`}</span>\n      <span>{`Created ${rule.created} by ${rule.createdBy}`}</span>\n    </div>\n  )\n}\n\nexport default Content\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Modal } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport Header from './Header';\nimport Content from './Content';\n\nfunction EditRuleModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.EditRuleModal;\n  const myState = state.view.Modals.EditRuleModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content >\n        <div css={{minHeight: 350, display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n          <Content />\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default EditRuleModal;\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Button, Header } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\n\nfunction MyHeader (props) {\n  const {state, actions} = overmind();\n  let myState = state.view.Modals.NewRuleModal;\n  let myActions = actions.view.Modals.NewRuleModal;\n  let isEditing = myState.Edit.edit;\n  //TODO deleteClicked()\n  return (\n    <Header>\n      <div css={{display: 'flex', justifyContent: 'space-between'}}>\n        <div css={{display: 'flex', alignItems: 'center'}}>\n          <div css={{fontSize: 24}}>{isEditing ? 'Edit Rule' : 'New Rule'}</div>\n        </div>\n        <div>\n          <Button icon='x'\n            style={{padding: '.78571429em .78571429em .78571429em'}}\n            onClick={evt => {myActions.cancelClicked()}}  />\n        </div>\n      </div>\n    </Header>\n  )\n}\n\nexport default MyHeader\n","/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\n\nfunction NewRulesList(props) {\n  const {state, actions} = overmind();\n  let templates = state.rules.templates;\n  let myActions = actions.view.Modals.NewRuleModal;\n  let pattern = /(input[0-9]+)/g;\n\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex: 1;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      `}\n    >\n    {Object.values(templates).map((r, j) =>\n      <div\n        onClick={(evt) => {myActions.newRuleSelected(r)}}\n        key={'newrulecard'+j}>\n        <div css={css`\n          position: relative;\n          top: 0px;\n          border: 1px solid rgba(34,36,38,.15);\n          padding: 20px;\n          border-radius: 12px;\n          margin: 7px;\n          cursor: pointer;\n          max-width: 350px;\n          transition: all 300ms;\n          transition-property: box-shadow, top;\n          &:hover {\n            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.25);\n            top: -2px;\n            border: 1px solid #fff;\n          }\n        `}>\n          <div css={{fontSize: 16}}>\n          {\n            r.text.split(pattern).map((item, j) =>\n              pattern.test(item) ?\n                <span css={{fontWeight: 800}} key={`newrule-${j}-boldword-${j}`}>{r[item].text}</span>\n                :\n                <span css={{fontWeight: 100}} key={`newrule-${j}-word-${j}`}>{item}</span>\n              )\n          }\n          </div>\n        </div>\n      </div>\n      )}\n    </div>\n  )\n}\n\nexport default NewRulesList;\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport moment from 'moment'\nimport ReactJson from 'react-json-view'\nimport SideBar from './SideBar';\nimport NewRulesList from './NewRulesList';\n\nfunction List (props) {\n\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'start'\n      }}\n    >\n      <NewRulesList />\n    </div>\n  )\n}\n\nexport default List\n","/** @jsx jsx */\nimport {json} from 'overmind'\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport { Button } from 'semantic-ui-react'\nimport { Dropdown } from 'semantic-ui-react'\nimport _ from 'lodash';\n\nfunction Blank (props) {\n  const {state, actions} = overmind();\n  let myState = state.view.Modals.NewRuleModal;\n  let myActions = actions.view.Modals.NewRuleModal;\n  let rule = myState.Edit.rule;\n  let template = myState.Edit.template;\n  let type = template[props.item].type;\n  let list = json(state.rules[type]);\n  let q = rule[props.item].searchQuery;\n  if (q && !list[q.key]) list[q.key] = q;\n\n  return (\n    <Dropdown\n      fluid\n      search\n      selection\n      multiple\n      style={{\n        fontFamily: 'bold',\n        width: 'fit-content',\n      }}\n      options={Object.values(list).map(i => ({key: i.key, text: i.name, value:i.key}))}\n      value={Object.values(rule[props.item].values).map(v => v.key)}\n      placeholder={`E.g., ${Object.values(list)[0].name}`}\n      onChange={(evt, data) => {\n        myActions.textChanged({values: data.value, key:props.item})\n      }}\n    />\n  )\n}\n\nfunction BlankB (props) {\n  const {state, actions} = overmind();\n  let myState = state.view.Modals.NewRuleModal;\n  let myActions = actions.view.Modals.NewRuleModal;\n  let isEditing = myState.Edit.edit;\n  let rule = myState.Edit.rule;\n  let template = myState.Edit.template;\n  let type = template[props.item].type;\n  let list = json(state.rules[type]);\n  const placeholder = template[props.item].text;\n  let selected = Object.values(rule[props.item].values).map(v => v.name).join(' or ');\n  if (selected.length == 0) {\n    if (isEditing) {\n      selected = 'anything';\n    } else {\n      selected = placeholder;\n    }\n  }\n\n  const trigger = (\n    <span css={css`\n      color: rgba(0, 0, 0, 0.4);\n      &:hover {\n        color: #000;\n      }\n      &::before {\n        content: \"\";\n        background: #000;\n        position: absolute;\n        left: 1px;\n        right: 1px;\n        bottom: 3px;\n        height: 2px;\n      }\n    `}>\n      &nbsp;{selected}&nbsp;\n    </span>\n  )\n  return (\n    <Dropdown trigger={trigger} icon={null} pointing='top left'>\n      <Dropdown.Menu>\n        {\n          _.map(list, (i) => {\n            return <Dropdown.Item onClick={()=>{\n              myActions.textChanged({values: [i.key], key: props.item})\n            }} key={i.key}>{i.name}</Dropdown.Item>\n          })\n        }\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n\nfunction Edit (props) {\n  const {state, actions} = overmind();\n  let myState = state.view.Modals.NewRuleModal.Edit;\n  let myActions = actions.view.Modals.NewRuleModal;\n  let isEditing = myState.edit;\n  let rule = myState.rule;\n  let pattern = /(input[0-9]+)/g;\n  return (\n    <div\n      css= {{\n        display: 'flex',\n        flexGrow: 1,\n        flexDirection: 'column',\n      }}>\n      <div\n        css={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <div css={css`\n          text-align: center;\n          font-size: 18px;\n          line-height: 35px;\n          & > span {\n            display: contents;\n          }\n        `}>\n          {\n            rule.text.split(pattern).map((item, j) =>\n            pattern.test(item) ?\n              <BlankB key={'edit-new-rule-'+j} item={item} index={j}/>\n              :\n              <span key={'edit-new-rule-'+j}>{item}</span>\n            )\n          }\n        </div>\n      </div>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-end',\n        }}>\n        <Button onClick={(evt) => {myActions.backClicked()}}>Back</Button>\n        {\n          (!isEditing) ? null :\n          <Button style={{marginLeft: 7}} color='red' onClick={(evt) => {myActions.deleteClicked()}}>Delete</Button>\n        }\n        <Button style={{marginLeft: 7}} primary onClick={(evt) => {myActions.doneClicked()}}>\n        {\n          (isEditing) ? 'Save' : 'Add Rule'\n        }\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Edit\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Modal } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport Header from './Header';\nimport List from './List';\nimport Edit from './Edit';\n\nfunction NewRuleModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.NewRuleModal;\n  const myState = state.view.Modals.NewRuleModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content >\n        <div css={{minHeight: 300, display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n        {myState.page === 'List' ? <List /> : <Edit />}\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default NewRuleModal;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Document, Page } from 'react-pdf';\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport { Modal } from 'semantic-ui-react'\n\nfunction PDFViewerModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.PDFViewerModal;\n  const myState = state.view.Modals.PDFViewerModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Modal.Content>\n        <div css={css`\n            min-height: 350px;\n            &  .pdfPage {\n              display: flex;\n              justify-content: center;\n            }\n          `}>\n          <Document\n            file={\n              {\n                url: myState.url,\n                httpHeaders: myState.headers\n              }\n            }\n            onLoadSuccess={({numPages}) => {}}>\n            <Page className={'pdfPage'} pageNumber={1} />\n          </Document>\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default PDFViewerModal\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport _ from 'lodash'\nimport overmind from '../overmind'\nimport { Input, Button, Form, Dropdown } from 'semantic-ui-react'\nimport 'semantic-ui-css/semantic.min.css'\nimport config from '../config';\n\nfunction Login() {\n  const { state, actions } = overmind();\n  const appState = state.app;\n  const myState = state.login;\n  const myActions = actions.login;\n\n  const bg = appState.skins[appState.skin].loginBackground;\n  const logo = appState.skins[appState.skin].logo;\n  return (\n    <div css={css`\n      height: 100vh;\n      width: 100vw;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background: url(skins/${appState.skin}/${bg}) no-repeat center center fixed;\n      background-size: cover;\n    `}>\n      <div css={css`\n        width: 275px;\n        display: flex;\n        flex-direction: column;\n        background: #fff;\n        padding: 15px;\n        padding-top: 7px;\n        border-radius: 5px;\n      `}>\n        <img css={{\n          height: logo.height,\n          marginBottom: 25\n        }} src={`skins/${appState.skin}/${logo.src}`} alt={logo.alt || 'logo'} />\n        <Form css={css`\n          display: flex;\n          flex-direction: column;\n        `} onSubmit={myActions.login}>\n          <Input placeholder='Trellis Domain...' value={myState.domain} onChange={(evt, data) => myActions.domainChange(data)} />\n          <Button\n            style={{marginTop: 7}} primary\n            loading={myState.loading}\n            disabled={myState.loading}>\n            Connect to Your Trellis\n          </Button>\n        </Form>\n      </div>\n      <a css={css`\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        font-size: 1.2em;\n        color: #FFFFFF;\n        cursor: pointer;\n      `} onClick={myActions.logout}\n      >Logout</a>\n\n      <div css={css`\n        position: absolute;\n        top: 5px;\n        left: 5px;\n      `}>\n        <Dropdown icon={{name: 'bars', inverted: true, size: 'large'}} text=''>\n          <Dropdown.Menu>\n            {_.map(_.keys(state.app.skins), (s,i) =>\n              <Dropdown.Item key={'skindropdownitem'+i} text={s} value={s} onClick={() => actions.app.skinChange(s)} />\n            )}\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n\n\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from './overmind'\n\nimport TopBar from './view/TopBar';\nimport SideBar from './view/SideBar';\nimport Pages from './view/Pages';\nimport FileDetailsModal from './view/Modals/FileDetailsModal';\nimport EditRuleModal from './view/Modals/EditRuleModal';\nimport NewRuleModal from './view/Modals/NewRuleModal';\nimport PDFViewerModal from './view/Modals/PDFViewerModal';\nimport Login from './Login';\n\nfunction App() {\n  const { state, actions } = overmind();\n  if (!state.login.loggedIn) {\n    return <Login />\n  }\n  return (\n    <div css={{\n      height: '100vh',\n      width: '100vw',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'stretch'\n    }}>\n\n      <TopBar />\n      <div css={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'stretch'\n      }}>\n        <SideBar />\n        <Pages />\n        <FileDetailsModal />\n        <EditRuleModal />\n        <NewRuleModal />\n        <PDFViewerModal />\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createOvermind } from \"overmind\";\nimport { Provider } from \"overmind-react\";\nimport { config } from './overmind'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst app = createOvermind(config,\n{\n  devtools: true,\n});\n\nReactDOM.render(\n  <Provider value={app}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}