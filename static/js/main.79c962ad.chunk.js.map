{"version":3,"sources":["overmind/rules sync","overmind/app/state.js","overmind/app/actions.js","config/config.js","config/index.js","overmind/oada/state.js","overmind/oada/actions.js","overmind/oada/websocket.js","overmind/oada/effects.js","overmind/view/actions.js","overmind/oada/index.js","overmind/oada/onInitialize.js","overmind/view/state.js","overmind/view/index.js","overmind/login/index.js","overmind/login/state.js","overmind/login/actions.js","overmind/utils/index.js","overmind/examples/index.js","overmind/examples/state.js","overmind/examples/actions.js","overmind/partners/index.js","overmind/partners/state.js","overmind/partners/actions.js","overmind/rules/config.js","overmind/rules/config.defaults.js","overmind/rules/templates.js","overmind/rules/state.js","overmind/rules/actions.js","overmind/rules/index.js","overmind/index.ts","overmind/app/index.js","view/TopBar/index.jsx","view/SideBar/data.svg","view/SideBar/connections.svg","view/SideBar/index.jsx","view/Pages/Data/TopBar.jsx","view/Pages/Data/icons/UploadIcon/upload.svg","view/Pages/Data/icons/UploadIcon/index.jsx","view/Pages/Data/icons/ProcessingIcon/processing.svg","view/Pages/Data/icons/ProcessingIcon/index.jsx","view/Pages/Data/icons/SignedIcon/signed.svg","view/Pages/Data/icons/SignedIcon/index.jsx","view/Pages/Data/icons/TargetIcon/index.jsx","view/Pages/Data/icons/TargetIcon/target_logo.png","view/Pages/infiniteLoader.js","view/Pages/Data/Table.jsx","view/Pages/Data/RecentsTopBar.jsx","view/Pages/Data/Dropzone.jsx","view/Pages/Data/index.jsx","view/Pages/COIS/TopBar.jsx","view/Pages/COIS/icons/UploadIcon/upload.svg","view/Pages/COIS/icons/ProcessingIcon/processing.svg","view/Pages/COIS/icons/ProcessingIcon/index.jsx","view/Pages/COIS/icons/SignedIcon/signed.svg","view/Pages/COIS/icons/SignedIcon/index.jsx","view/Pages/COIS/icons/TargetIcon/index.jsx","view/Pages/COIS/icons/TargetIcon/target_logo.png","view/Pages/COIS/Table.jsx","view/Pages/COIS/index.jsx","view/Pages/Audits/TopBar.jsx","view/Pages/Audits/icons/UploadIcon/upload.svg","view/Pages/Audits/icons/UploadIcon/index.jsx","view/Pages/Audits/icons/ProcessingIcon/processing.svg","view/Pages/Audits/icons/ProcessingIcon/index.jsx","view/Pages/Audits/icons/SignedIcon/signed.svg","view/Pages/Audits/icons/SignedIcon/index.jsx","view/Pages/Audits/icons/TargetIcon/index.jsx","view/Pages/Audits/icons/TargetIcon/target_logo.png","view/Pages/Audits/Table.jsx","view/Pages/Audits/index.jsx","view/Pages/Certificates/TopBar.jsx","view/Pages/Certificates/icons/UploadIcon/upload.svg","view/Pages/Certificates/icons/ProcessingIcon/processing.svg","view/Pages/Certificates/icons/ProcessingIcon/index.jsx","view/Pages/Certificates/icons/SignedIcon/signed.svg","view/Pages/Certificates/icons/SignedIcon/index.jsx","view/Pages/Certificates/icons/TargetIcon/index.jsx","view/Pages/Certificates/icons/TargetIcon/target_logo.png","view/Pages/Certificates/Table.jsx","view/Pages/Certificates/index.jsx","view/Pages/Rules/TopBar.jsx","view/Pages/Rules/icons/ift.svg","view/Pages/Rules/icons/foodlogiq.svg","view/Pages/Rules/icons/email.svg","view/Pages/Rules/index.jsx","view/Pages/Reports/TopBar.jsx","view/Pages/Reports/ReportSelect.jsx","view/Pages/Reports/EventLogTable.jsx","view/Pages/Reports/UserAccessTable.jsx","view/Pages/Reports/DocumentSharesTable.jsx","view/Pages/Reports/index.jsx","view/Pages/index.jsx","view/icons/SignedIcon/signed.svg","view/icons/SignedIcon/index.jsx","view/Modals/FileDetailsModal/Header.jsx","view/Modals/FileDetailsModal/Audit/Organization.jsx","view/Modals/FileDetailsModal/Audit/Scope.jsx","view/Modals/FileDetailsModal/Audit/Score.jsx","view/Modals/FileDetailsModal/Audit/Validity.jsx","view/Modals/FileDetailsModal/Audit/index.jsx","view/Modals/FileDetailsModal/CoI/Producer.jsx","view/Modals/FileDetailsModal/CoI/Holder.jsx","view/Modals/FileDetailsModal/CoI/Policies.jsx","view/Modals/FileDetailsModal/CoI/index.jsx","view/Modals/FileDetailsModal/Certificate/Organization.jsx","view/Modals/FileDetailsModal/Certificate/index.jsx","view/Modals/FileDetailsModal/Content.jsx","view/Modals/FileDetailsModal/Sharing.jsx","view/Modals/FileDetailsModal/FLSync.jsx","view/Widgets/MessageLog/index.jsx","view/Modals/FileDetailsModal/index.jsx","view/Modals/RulesModal/Header.jsx","view/Modals/RulesModal/SideBar.jsx","view/Modals/RulesModal/NewRulesList.jsx","view/Modals/RulesModal/List.jsx","view/Modals/RulesModal/Edit.jsx","view/Modals/RulesModal/index.jsx","view/Modals/PDFViewerModal/index.jsx","view/Modals/TPSelectModal/index.jsx","Login/index.jsx","App.jsx","serviceWorker.js","index.js","overmind/rules/lib-config.js","config/dev-cert/signed_software_statement.js","config/dev-cert/unsigned_software_statement.js","../public/skins sync /^/.//.*//config/.js$","../public/skins/default/config.js","../public/skins/smithfield/config.js","../node_modules/nconf/lib/nconf/stores sync /^/.//.*$","../node_modules/nconf/node_modules/yargs/lib sync"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","skin","skins","config","tabs","cois","audits","certificates","documents","namespace","moduleState","state","_","get","oada","url","devcert","require","redirect","redirect_uris","default","smithfield","each","v","k","merge","token","path","data","getAccessToken","Promise","promisify","oadaIdClient","DOC_TYPES","LIST_TYPES","EXPAND","getList","type","logout","actions","window","localStorage","connect","effects","domain","console","log","urlLib","parse","host","metadata","scope","res","access_token","login","error","dontSaveToken","options","cache","initialize","oadaHelper","initializeConfig","initializeDocuments","initializeLookups","initializeReports","rules","response","status","app","a","tps","tp","view","pat","paths","doesResourceExist","createAndPutResource","forEach","docType","contentType","oldWatches","defaultConn","Object","key","delete","unwatch","watch","onDocumentsChange","payload","onCOISChange","onAuditsChange","docKeys","filter","startsWith","eventLog","userAccess","documentShares","initializeEventLog","initializeUserAccess","initializeDocumentShares","then","days","day","Reports","checked","undefined","getTradingPartners","docKey","doc","ref","organization","masterid","holder","_meta","lookups","coi","_ref","map","partner","find","with","name","compact","facilities","uploadFile","file","request","method","baseURL","headers","Authorization","split","length","put","filename","pathPrefix","_id","_rev","body","tpPath","types","vdocs","replace","identified","loadDocument","Modals","PDFViewerModal","open","FileDetailsModal","sharedWith","jobs","jobId","fetchTargetJob","shared","test","loadMeta","onTargetJobChange","jobPath","orgJobMeta","newMeta","pick","set","catch","err","orgMeta","orgData","slice","loaded","loadEventLog","getReportStatistics","date","statistics","eventLogRows","getReportRows","eventLogDocuments","eventLogStatistics","reduce","acc","row","numDocuments","numShares","numEmails","numEvents","rows","loadUserAccess","userAccessRows","tradingPartners","userAccessStatistics","numTradingPartners","numTPWODocs","totalShares","loadDocumentShares","documentSharesRows","today","moment","numDocsToShare","numDocsNotShared","vdoc","exprDate","min","values","policies","policy","expire_date","certificate_validity_period","end","isAfter","numExpiredDocuments","documentSharesStatistics","responseType","reportRaw","XLSX","arrayBuffer","wb","read","utils","sheet_to_json","Sheets","SheetNames","createAndPostResource","createResource","post","createAndPostResourceHTTP","createResourceHTTP","postHTTP","head","websocket","http","del","actionName","action","uuid","warnings","fuseSearch","myWebsocket","onInitialize","instance","_state","_actions","socket","messages","connected","httpCallbacks","watchCallbacks","sendMessages","message","send","JSON","stringify","reject","WebSocket","onopen","event","onclose","onmessage","requestId","statusText","originalStack","requestStack","callback","urlObj","toLowerCase","entries","value","b","push","close","ws","warn","Pages","lastSelectedPage","selectedPage","page","showIfEmpty","isEmpty","Documents","startDate","endDate","allSelected","selectedReport","Table","myState","sort","reverse","isValid","reportDate","isSameOrAfter","isSameOrBefore","format","Audits","search","openFileBrowser","unloadedDocs","collection","document","createdAt","utc","local","shares","chain","shareStatus","score","validity","createdAtUnix","fuse","Fuse","weight","shouldSort","substr","concat","COIS","producer","insured","flSync","validStatus","signed","processingService","Certificates","org_location","Data","uploading","tasks","fileDetails","unshift","Rules","EditRuleModal","RulesModal","List","category","categories","Edit","template","rule","TPSelectModal","pending","showData","has","_type","share","sharedSearchValue","sharedWithFiltered","MessageLog","TopBar","tpSelect","toSmithfield","done","changeTP","props","onSearchChange","checkPending","backClicked","categorySelected","evt","target","newRuleSelected","json","clickedMapping","mapping","Mappings","newState","active","handleHeaderClick","sortCol","currentSort","viewMappings","obj","selectedRule","inverse","listType","mappings","list","item","cityAndState","city","partners","tpCityAndState","entry","charAt","uniqBy","x","orderBy","myIndex","createIndex","handleResultSelect","searchMappings","mappingSearchValue","results","mappingSearchResults","refIndex","doneClicked","createShare","loadShares","cancelClicked","deleteClicked","deleteShare","searchChanged","result","newText","searchQuery","md5","textChanged","q","keyBy","onShareChange","onShareSearchChange","showDocument","resourceId","findKey","viewPDF","downloadPDF","fileDownload","Blob","toggleShowData","shareKeys","taskKey","concurrency","nextPage","pageNumber","previousPage","onLoadSuccess","numPages","download","onStart","onEnd","reportSelect","deselectAllReports","saveReports","some","dataState","selectAllReports","tableState","loadDocumentKeys","validDates","toggleCheckbox","book_new","myRows","json_to_sheet","header","book_append_sheet","writeFile","bookType","onSearch","onRowClick","rowData","delay","Dropzone","filesDropped","files","index","ruleSelected","addRuleClicked","editRuleClicked","edit","SideBar","pageSelected","loading","match","me","username","loggedIn","domainChange","arr","o","products","email","locations","text","userid","getExamples","examples","dotenv","libConfig","fl_business_id","rules_path","shares_path","rules_tree","bookmarks","services","ainz","documents_tree","trellisfw","tasks_tree","FL_BUSINESS_ID","templates","tempA","tempB","tempC","tempD","temp0","icons","input0","input1","input2","input3","mask","communities","temp1","temp2","emails","assign","location","flatten","pattern","SHARES_PATH","processShare","putShare","resource","newShare","cloneDeep","shareResponse","mapShare","locationStringsFromShare","Location","templateId","oadaCacheOvermind","namespaced","packagejson","version","title","href","query","d","history","pushState","t","s","_namespace","increaseCount","count","decreaseCount","skinChange","newSkin","createHook","overmind","partnerInfo","css","fontWeight","display","flexDirection","tpItem","Dropdown","Item","icon","onClick","justifyContent","alignItems","backgroundColor","height","borderBottom","paddingLeft","src","logo","alt","marginRight","fluid","Menu","direction","activeSideSelection","img","opacity","div","color","SideSection","myActions","className","selected","paddingBottom","fill","children","borderRight","iconData","lettersOfGuarantee","reports","iconConnections","fontSize","Input","iconPosition","placeholder","style","borderRadius","onChange","Button","Icon","marginLeft","uploadIcon","processingIcon","signedIcon","TargetIcon","Popup","content","position","trigger","marginTop","loaders","infiniteLoader","overmindLoadFunc","loadBatch","omLoadFunc","debouncedLoadRows","debounce","clone","maxWait","getRow","resetLoading","wrapper","c","il","width","headerClassName","headerHeight","rowCount","rowGetter","rowClassName","classnames","rowHeight","label","dataKey","cellRenderer","masked","ProcessingIcon","omit","SignedIcon","RecentsTopBar","useDropzone","onDrop","noClick","getRootProps","getInputProps","isDragActive","prevOpen","useRef","useEffect","current","flex","padding","paddingTop","border","now","start","expired","isBefore","validLabel","validColor","marginBottom","Rule","r","i","iconIFT","iconFoodLogiq","iconEmail","j","idx","tabName","tooltip","ReportTab","ReportSelect","EventLogTable","headerRenderer","Checkbox","UserAccessTable","DocumentSharesTable","boxShadow","MyHeader","validState","unmask","Header","Organization","audit","org","Row","Cell","collapsing","Scope","p","Chip","Score","trim","Validity","Audit","celled","striped","Body","Producer","Holder","effective_date","textAlign","number","CoI","Policies","certificate","Certificate","Content","jsonData","collapsed","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","cursor","SharingTable","HeaderCell","size","Sharing","FLSync","aLink","dLink","valid","aId","aPath","rel","dId","dPath","validText","as","updates","information","meta","time","year","add","fromNow","msg","Message","info","Modal","onClose","minHeight","isEditing","NewRulesList","BlankB","join","pointing","mappingType","toUpperCase","flexGrow","Search","onResultSelect","sortable","val","indexOf","primary","useMemo","httpHeaders","dir","externalLinkTarget","disabled","sortBy","Login","appState","bg","loginBackground","Form","onSubmit","inverted","App","Boolean","hostname","createOvermind","devtools","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","defaults","nconf","fs","use","argv","env","separator","parseValues","existsSync","setObject","object","webpackContext","webpackContextResolve","__webpack_require__"],"mappings":"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","file":"static/js/main.79c962ad.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1006;","export default {\n  skin: 'default',\n  skins: {\n  },\n  config: {\n    tabs: {\n      cois: true,\n      audits: true,\n      certificates: true,\n      documents: true\n    }\n  }\n}\n","import _ from 'lodash';\nvar namespace = null;\nfunction moduleState(state) {\n  return _.get(state, namespace);\n}\nexport default function(_namespace) {\n  namespace = _namespace;\n  return {\n    increaseCount({ state }, test) {\n      moduleState(state).count++;\n    },\n    decreaseCount({ state }) {\n      moduleState(state).count--;\n    },\n    skinChange({state}, newSkin) {\n      state.app.skin = newSkin;\n      // Save this to localStorage to keep for next time:\n      window.localStorage['skin'] = newSkin;\n    }\n  }\n}\n","import _ from 'lodash';\n\nconst config = {\n  oada: {\n    url: 'https://stage.smithfield.trellis.one',\n    devcert: require('./dev-cert/signed_software_statement'), // Don't use this public one in production unless implicit flow is OK for you\n    redirect: require('./dev-cert/unsigned_software_statement').redirect_uris[process.env.NODE_ENV === 'production' ? 1 : 0], // 0 is localhost:3000, 1 is trellisfw.github.io/conductor\n  },\n  skin: 'default', // which of the skins is the default one\n  skins: {\n    default: {}, // filled out from skin-specific config below\n    smithfield: {},\n  },\n};\n\n// Load the skin configs:\n_.each(config.skins, (v,k) => {\n  config.skins[k] = require('../../public/skins/'+k+'/config.js');\n});\n\nexport default config;\n","import _ from 'lodash';\nimport config from './config';\nconst configDev = (process.env.NODE_ENV == 'development') ? require('./config.dev.js').default : null;\n\nexport default _.merge({}, config, configDev);\n","import config from '../../config';\n\nexport default {\n  url: config.oada.url,\n  token: '',\n  path: '/bookmarks/trellisfw',\n  data: {\n  }\n}\n","import urlLib from \"url\";\nimport _ from \"lodash\";\nimport Promise from \"bluebird\";\nimport request from \"axios\";\nimport moment from \"moment\";\nimport XLSX from \"xlsx\";\nimport config from \"../../config\";\nimport { browser as oadaIdClient } from \"@oada/oada-id-client/index.js\";\n\nconst getAccessToken = Promise.promisify(oadaIdClient.getAccessToken);\n\nlet DOC_TYPES = [\n  \"cois\",\n  \"fsqa-certificates\",\n  \"fsqa-audits\",\n  \"letters-of-guarantee\",\n  \"documents\",\n];\nlet LIST_TYPES = [\n  \"coi-holders\",\n  \"facilities\",\n  \"letter-of-guarantee-buyers\",\n  \"trading-partners\",\n];\nlet EXPAND = {};\n\nexport default {\n  getList({}, type) {\n    return EXPAND[type];\n  },\n  async logout({ state, actions }) {\n    //await actions.oada.disconnect({});\n    //Clear documents\n    state.oada.data = {};\n    //Clear the token from state\n    state.oada.token = null;\n    //Clear the token from local storage\n    delete window.localStorage[\"oada:\" + state.oada.url + \":token\"];\n  },\n  async connect({ state, actions, effects }, { domain, token }) {\n    /*\n      Connect to my OADA instance, getting token if we don't have one\n    */\n    state.oada.url = domain;\n    try {\n      if (!token) {\n        // If we don't have a token stored from last time, we'll need to\n        // redirect browser to ask for one\n        console.log(\"Do not have an access token, redirecting...\");\n        console.log(config);\n        let url = urlLib.parse(state.oada.url);\n\n        let res = await getAccessToken(url.host, {\n          metadata: config.oada.devcert,\n          scope: \"all:all\",\n          redirect: config.oada.redirect,\n        });\n        token = res.access_token;\n        console.log('RES', res.access_token);\n      }\n    } catch (err) {\n      state.login.error =\n        \"Failed to redirect to \" + state.oada.url + \" for connection\";\n      console.log(\"FAILED TO GET ACCESS TOKEN: err = \", err);\n      token = null;\n    }\n    // Save the token to localStorage\n    if (token && !state.login.dontSaveToken)\n      window.localStorage[\"oada:\" + state.oada.url + \":token\"] = token;\n    state.oada.token = token;\n    console.log(\"Token: \" + token);\n    console.log(\"Have token, connecting to oada with WebSocket...\");\n    await actions.oada.connect({\n      token,\n      domain: state.oada.url,\n      options: {\n        metadata: config.oada.devcert,\n        scope: \"all:all\",\n        redirect: config.oada.redirect,\n        cache: false,\n      },\n    });\n    console.log(\"Websocket connected\");\n  },\n  async initialize({ state, actions }) {\n    state.oada.data = {};\n    actions.oadaHelper.initializeConfig();\n    actions.oadaHelper.initializeDocuments();\n    actions.oadaHelper.initializeLookups();\n    actions.oadaHelper.initializeReports();\n    actions.rules.initialize();\n  },\n  async initializeConfig({ state, actions }) {\n    //Load config\n    let response = await actions.oada.get({ path: `/bookmarks/conductor` });\n    if (response.error) {\n      if (response.error.response && response.error.response.status === 404) {\n        console.log(\"No config exists for this user. Using defaults.\");\n      }\n    } else {\n      state.app.config = response.data;\n    }\n  },\n  async initializeLookups({ state, actions }) {\n    // Get expanded list of trading partners\n    await Promise.each(LIST_TYPES, async (type) => {\n      let response = await actions.oada.get({\n        path: `/bookmarks/trellisfw/${type}/expand-index`,\n      });\n      if (response.error) {\n        if (response.error.response && response.error.response.status === 404) {\n          console.log(`no ${type} present for current user`);\n        }\n      } else {\n        EXPAND[type] = response.data;\n      }\n    });\n    state.tps = EXPAND[\"trading-partners\"];\n  },\n\n  async initializeDocuments({ state, actions }) {\n    //Create /trellisfw if it does not exist\n    let tp = state.view.tp ? true : false;\n    let pat = state.oadaHelper.path || \"/bookmarks/trellisfw\";\n    let paths = tp\n      ? [`${pat}/shared/trellisfw`, `${pat}/bookmarks/trellisfw`]\n      : [pat];\n    await Promise.each(paths, async (path) => {\n      let exists = await actions.oadaHelper.doesResourceExist(path);\n      if (!exists) {\n        console.log(`${path} does not exist.  Creating...`);\n        //Create /trellisfw\n        await actions.oadaHelper.createAndPutResource({\n          url: path,\n          data: {},\n        });\n      }\n\n      //Create document endpoints if they do not exist\n      DOC_TYPES.forEach(async (docType) => {\n        state.oada.data[docType] = {};\n\n        exists = await actions.oadaHelper.doesResourceExist(\n          `${path}/${docType}`\n        );\n        if (!exists) {\n          //Create documents\n          await actions.oadaHelper.createAndPutResource({\n            url: `${path}/${docType}`,\n            data: {},\n            contentType: `application/vnd.trellisfw.${docType}.1+json`,\n          });\n        }\n\n        //Wipe out all the old watches\n        //TODO: this may be a bit too severe...\n        let oldWatches = _.get(state, [\n          \"oada\",\n          state.oada.defaultConn,\n          \"watches\",\n        ]);\n        await Promise.each(Object.keys(oldWatches || {}), async (key) => {\n          await actions.oada.delete({\n            path: key,\n            unwatch: true,\n          });\n        });\n\n        console.log(\"Setting watches...\");\n        //Watch for changes to /trellisfw/documents\n        //TODO: with multiple document types we need multiple watches; can't just watch /bookmarks/trellisfw because there\n        // are many other keys with changes being made at that level\n        // need to figure out how to pluck docType out of responses\n        if (docType == \"documents\") {\n          await actions.oada.get({\n            path: `${path}/${docType}`,\n            watch: {\n              actions: [actions.oadaHelper.onDocumentsChange],\n              payload: { path },\n            },\n          });\n        } else if (docType == \"cois\") {\n          await actions.oada.get({\n            path: `${path}/${docType}`,\n            watch: {\n              actions: [actions.oadaHelper.onCOISChange],\n              payload: { path },\n            },\n          });\n        } else if (docType == \"fsqa-audits\") {\n          await actions.oada.get({\n            path: `${path}/${docType}`,\n            watch: {\n              actions: [actions.oadaHelper.onAuditsChange],\n              payload: { path },\n            },\n          });\n        }\n\n        //Get all the documents ids in /trellisfw/${docType}\n        let response = await actions.oada.get({ path: `${path}/${docType}` });\n        if (response.data) {\n          let docKeys = _.filter(\n            Object.keys(response.data),\n            (key) => _.startsWith(key, \"_\") === false\n          );\n\n          //Save space for documents\n          _.forEach(docKeys, (key) => {\n            state.oada.data[docType][key] = { path };\n          });\n        }\n      });\n    });\n  },\n\n  async initializeReports({ state, actions }) {\n    const hasReports = await actions.oadaHelper.doesResourceExist(\n      \"/bookmarks/services/trellis-reports\"\n    );\n\n    if (!hasReports) {\n      await actions.oada.createAndPutResource({\n        url: `/bookmarks/services/trellis-reports`,\n        data: {},\n      });\n      await actions.oada.createAndPutResource({\n        url: `/bookmarks/services/trellis-reports/event-log`,\n        data: { \"day-index\": {} },\n      });\n      await actions.oada.createAndPutResource({\n        url: `/bookmarks/services/trellis-reports/current-tradingpartnershares`,\n        data: { \"day-index\": {} },\n      });\n      await actions.oada.createAndPutResource({\n        url: `/bookmarks/services/trellis-reports/current-shareabledocs`,\n        data: { \"day-index\": {} },\n      });\n    }\n\n    //TODO: move all of this to trellis...\n    state.oada.data[\"Reports\"] = {\n      eventLog: {},\n      userAccess: {},\n      documentShares: {},\n    };\n\n    actions.oadaHelper.initializeEventLog();\n    actions.oadaHelper.initializeUserAccess();\n    actions.oadaHelper.initializeDocumentShares();\n  },\n\n  async initializeEventLog({ actions, state }) {\n    let days;\n    try {\n      console.log(\"Getting Event Log\");\n      days = await actions.oada\n        .get({\n          path: \"/bookmarks/services/trellis-reports/event-log/day-index\",\n        })\n        .then((res) => {\n          return Object.keys(res.data);\n        });\n      // console.log(days);\n    } catch (e) {\n      console.error(\"failed to get report day index list\");\n    }\n\n    (days || []).forEach((day) => {\n      state.oada.data.Reports.eventLog[day] = {\n        checked: false,\n        data: undefined,\n      };\n    });\n  },\n\n  async initializeUserAccess({ actions, state }) {\n    let days;\n    try {\n      console.log(\"Getting User Access\");\n      days = await actions.oada\n        .get({\n          path:\n            \"/bookmarks/services/trellis-reports/current-tradingpartnershares/day-index\",\n        })\n        .then((res) => {\n          return Object.keys(res.data);\n        });\n      // console.log(days);\n    } catch (e) {\n      console.error(\"failed to get report day index list\");\n    }\n    (days || []).forEach((day) => {\n      state.oada.data.Reports.userAccess[day] = {\n        checked: false,\n        data: undefined,\n      };\n    });\n  },\n\n  async initializeDocumentShares({ actions, state }) {\n    let days;\n    try {\n      console.log(\"Getting Event Log\");\n      days = await actions.oada\n        .get({\n          path:\n            \"/bookmarks/services/trellis-reports/current-shareabledocs/day-index\",\n        })\n        .then((res) => {\n          return Object.keys(res.data);\n        });\n    } catch (e) {\n      console.error(\"failed to get report day index list\");\n    }\n\n    (days || []).forEach((day) => {\n      state.oada.data.Reports.documentShares[day] = {\n        checked: false,\n        data: undefined,\n      };\n    });\n  },\n\n  async getTradingPartners({ state, actions }, { docType, docKey }) {\n    let doc = state.oada.data[docType][docKey];\n    let ref = null;\n    let organization = null;\n    let masterid = null;\n    let holder = null;\n    let tps = null;\n    switch (docType) {\n      case \"cois\":\n        if (_.get(doc, \"_meta.lookups.coi\") == null) return [];\n        //One CoI holder to many TPs\n        ref = doc._meta.lookups.coi.holder._ref;\n        holder = await actions.oada.get({ path: ref });\n        tps = holder.data[\"trading-partners\"] || {};\n        tps = Object.keys(tps).map((masterid) => {\n          const partner = _.find(EXPAND[\"trading-partners\"], { masterid });\n          if (partner)\n            return {\n              masterid,\n              with: partner.name,\n              type: \"shareWf\",\n            };\n        });\n        tps = _.compact(tps);\n        return tps;\n      case \"fsqa-audits\":\n        if (_.get(doc, \"_meta.lookups.fsqa-audit.organization\") == null)\n          return [];\n        ref = doc._meta.lookups[\"fsqa-audit\"][\"organization\"]._ref;\n        organization = await actions.oada.get({ path: ref });\n        masterid = organization.data.masterid;\n        tps = _.filter(EXPAND[\"trading-partners\"], (tp) => {\n          if (tp.facilities == null) return false;\n          return tp.facilities[masterid] ? true : false;\n        }).map((tp) => {\n          if (tp)\n            return {\n              masterid: tp.id,\n              with: tp.name,\n              type: \"shareWf\",\n            };\n        });\n        tps = _.compact(tps);\n        return tps;\n      case \"fsqa-certificates\":\n        if (_.get(doc, \"_meta.lookups.fsqa-certificate.organization\") == null)\n          return [];\n        ref = doc._meta.lookups[\"fsqa-certificate\"][\"organization\"]._ref;\n        organization = await actions.oada.get({ path: ref });\n        masterid = organization.data.masterid;\n        tps = _.filter(EXPAND[\"trading-partners\"], (tp) => {\n          if (tp.facilities == null) return false;\n          return tp.facilities[masterid] ? true : false;\n        }).map((tp) => {\n          if (tp)\n            return {\n              masterid: tp.id,\n              with: tp.name,\n              type: \"shareWf\",\n            };\n        });\n        return tps;\n      case \"letters-of-guarantee\":\n        return [];\n      case \"documents\":\n        return [];\n    }\n  },\n  uploadFile({ state, actions }, file) {\n    //Add file to the file list, flag it as `uploading`\n    //Create the pdf\n    return request\n      .request({\n        url: \"/resources\",\n        method: \"post\",\n        baseURL: state.oada.url,\n        headers: {\n          Authorization: \"Bearer \" + state.oada.token,\n          \"Content-Disposition\": \"inline\",\n          \"Content-Type\": file.type,\n        },\n        data: file,\n      })\n      .then((response) => {\n        //Pull out location of pdf and link it to the document under the 'pdf' key\n        var id = response.headers[\"content-location\"].split(\"/\");\n        id = id[id.length - 1];\n        console.log(\"Uploaded new PDF at\", id);\n        //Add filename info to the pdf\n        return actions.oada\n          .put({\n            path: `/resources/${id}/_meta`,\n            data: {\n              filename: file.name,\n            },\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          })\n          .then(() => {\n            //Create a link to the new pdf in /documents\n            let pathPrefix = state.oadaHelper.path;\n            if (state.view.tp) pathPrefix += \"/shared/trellisfw\";\n            return actions.oada.put({\n              path: `${pathPrefix}/documents/${id}`,\n              data: {\n                _id: \"resources/\" + id,\n                _rev: 0,\n              },\n              headers: {\n                \"Content-Type\": \"application/vnd.trellisfw.documents.1+json\",\n              },\n            });\n          });\n      });\n  },\n  async onDocumentsChange({ state, actions }, response) {\n    let { payload, type, body } = response;\n    let tpPath = payload ? payload.path : undefined;\n    let path = tpPath || `/bookmarks/trellisfw`;\n    //If a key was added or changed reload that document\n    console.log(\"onDocumentsChange\", response);\n    if (type === \"merge\") {\n      //Get all the keys that do not start with _\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n\n      let types = {\n        cois: \"COI\",\n        \"fsqa-audits\": \"FSQA Audit\",\n        \"fsqa-certificates\": \"FSQA Certificate\",\n      };\n\n      // Once recognized, the unidentified document will contain a _meta\n      // vdoc entry including the type and key in the appropriate\n      // identified docs list\n      let vdocs = _.get(body, [\"_meta\", \"vdoc\"]);\n      await Promise.each(Object.keys(vdocs || {}), async (docType) => {\n        let key = response.path.replace(/^\\//, \"\");\n        await Promise.each(\n          Object.keys(vdocs[docType] || {}),\n          async (docKey) => {\n            state.oada.data.documents[key].identified = {\n              docType,\n              docKey,\n            };\n            // Make the entry for the recently ided table\n            state.oada.data.documents[key].type = types[docType];\n            //          state.oada.data.documents[key].docType = types[docType];\n            state.oada.data.documents[key].key = docKey;\n            console.log('LOADING NOW', key, docType, types[docType])\n            await actions.oadaHelper.loadDocument({ docType, docKey, path });\n\n            // Swap out UI\n            if (state.view.Modals.PDFViewerModal.open) {\n              state.view.Modals.FileDetailsModal.docType = docType;\n              state.view.Modals.FileDetailsModal.docKey = docKey;\n              state.view.Modals.FileDetailsModal.sharedWith = [];\n              state.view.Modals.FileDetailsModal.sharedWith = await actions.oadaHelper.getTradingPartners(\n                { docType, docKey: docKey }\n              );\n              state.view.Modals.PDFViewerModal.open = false;\n              state.view.Modals.FileDetailsModal.open = true;\n            }\n          }\n        );\n      });\n\n      //Load Target job updates\n      let jobs = _.get(body, [\"_meta\", \"services\", \"target\", \"jobs\"]);\n      Object.keys(jobs || {}).forEach(async (jobId) => {\n        await actions.oadaHelper.fetchTargetJob({\n          watch: true,\n          path: \"/\" + jobs[jobId]._ref,\n          docKey: response.path.replace(/^\\//, \"\"),\n          docType: \"documents\",\n          jobId,\n        });\n      });\n\n      // Add new documents to the index\n      if (tpPath) {\n        await Promise.map(keys, (docKey) => {\n          let shared = /shared/.test(tpPath);\n          if (!state.oada.data.documents[docKey])\n            state.oada.data.documents[docKey] = {\n              shared,\n              path: tpPath,\n              _id: body[docKey]._id,\n            };\n        });\n      }\n\n      //Reload meta for all these pdfs\n      await Promise.map(keys, async (docKey) => {\n        await actions.oadaHelper.loadMeta({\n          docType: \"documents\",\n          docKey,\n          path,\n        });\n      });\n    } else if (type === \"delete\") {\n      //Remove documents with these keys\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n      _.forEach(keys, (key) => {\n        //          delete state.oada.data['documents'][key]\n      });\n    }\n  },\n  onCOISChange({ state, actions }, response) {\n    let { payload, type, body } = response;\n    let tpPath = payload ? payload.path : undefined;\n    let path = tpPath || `/bookmarks/trellisfw`;\n    //If a key was added or changed reload that document\n    console.log(\"onCOISChange\", response);\n    if (type === \"merge\") {\n      //Get all the keys that do not start with _\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n      //Reload meta for all these pdfs\n      return Promise.map(keys, (docKey) => {\n        return actions.oadaHelper.loadDocument({\n          docType: \"cois\",\n          docKey,\n          path,\n        });\n      });\n    } else if (type === \"delete\") {\n      //Remove documents with these keys\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n      _.forEach(keys, (key) => {\n        delete state.oada.data[\"cois\"][key];\n      });\n    }\n  },\n  onAuditsChange({ state, actions }, response) {\n    let { payload, type, body } = response;\n    let tpPath = payload ? payload.path : undefined;\n    let path = tpPath || `/bookmarks/trellisfw`;\n    //If a key was added or changed reload that document\n    console.log(\"onAuditsChange\", response);\n    if (type === \"merge\") {\n      //Get all the keys that do not start with _\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n      //Reload meta for all these pdfs\n      return Promise.map(keys, (docKey) => {\n        return actions.oadaHelper.loadDocument({\n          docType: \"fsqa-audits\",\n          docKey,\n          path,\n        });\n      });\n    } else if (type === \"delete\") {\n      //Remove documents with these keys\n      let keys = _.filter(\n        Object.keys(body),\n        (key) => _.startsWith(key, \"_\") === false\n      );\n      _.forEach(keys, (key) => {\n        delete state.oada.data[\"fsqa-audits\"][key];\n      });\n    }\n  },\n  onTargetJobChange({ state, actions }, response) {\n    let { payload, type, body } = response;\n    let { jobId, docType, docKey } = payload;\n    let jobPath = `${docType}.${docKey}._meta.services.target.jobs.${jobId}`;\n    const orgJobMeta = _.get(state.oada.data, jobPath);\n    const newMeta = _.merge(\n      {},\n      orgJobMeta,\n      _.pick(body, [\"updates\", \"result\"])\n      //TODO: Shouldn't this be \"result\"\n    );\n\n    //Merge in stats and services\n    _.set(state.oada.data, jobPath, newMeta);\n  },\n  async fetchTargetJob(\n    { state, actions },\n    { watch, docType, docKey, path, jobId }\n  ) {\n    let jobPath = `${docType}.${docKey}._meta.services.target.jobs.${jobId}`;\n    let request = { path };\n    if (watch)\n      request.watch = {\n        actions: [actions.oadaHelper.onTargetJobChange],\n        payload: { jobId, path, docType, docKey },\n      };\n    let response = await actions.oada\n      .get(request)\n      .then((response) => {\n        if (response == null) throw Error(\"No job resource for job\" + path);\n        const orgJobMeta = _.get(state.oada.data, `${jobPath}`);\n        const newMeta = _.merge(\n          {},\n          orgJobMeta,\n          _.pick(response.data, [\"updates\"])\n        );\n        //Merge in stats and services\n        _.set(state.oada.data, `${jobPath}`, newMeta);\n      })\n      .catch((err) => {\n        console.log(\"Error. Failed to load document _meta\", docKey);\n      });\n  },\n  loadMeta({ state, actions }, { docKey, docType, path }) {\n    path = `${path}/${docType}/${docKey}/_meta`;\n    return actions.oada\n      .get({ path })\n      .then((response) => {\n        if (response == null) throw Error(\"No meta data for \" + docKey);\n        const orgMeta = _.get(state.oada.data, `${docType}.${docKey}._meta`);\n        const newMeta = _.merge(\n          {},\n          orgMeta,\n          _.pick(response.data, [\n            \"stats\",\n            \"services\",\n            \"filename\",\n            \"_type\",\n            \"vdoc\",\n          ])\n        );\n        //Merge in stats and services\n        _.set(state.oada.data, `${docType}.${docKey}._meta`, newMeta);\n      })\n      .catch((err) => {\n        console.log(\"Error. Failed to load document _meta\", docKey);\n      });\n  },\n  loadDocument({ state, actions }, { docKey, docType, path }) {\n    path = `${path}/${docType}/${docKey}`;\n    if (docType === \"documents\") {\n      path =\n        \"/\" + (state.oada.data.documents[docKey]._id || `resources/${docKey}`);\n    }\n    return actions.oada\n      .get({ path })\n      .then((response) => {\n        if (response == null) throw Error(\"No data for \" + docKey);\n        //If doc already exists merge in data\n        const orgData = _.get(state.oada.data, `${docType}.${docKey}`) || {};\n        if (response.error) response = response.error;\n\n          // Don't put pdf data into the state...\n        if (response.headers && response.headers[\"content-type\"] === \"application/pdf\") {\n        //if (response.headers[\"content-type\"] === \"application/pdf\") {\n          const _id = response.headers[\"content-location\"].slice(1);\n          _.set(\n            state.oada.data,\n            `${docType}.${docKey}`,\n            _.merge({ shared: /shared/.test(path), loaded: true }, orgData, {\n              _id,\n            })\n          );\n        } else {\n          _.set(\n            state.oada.data,\n            `${docType}.${docKey}`,\n            _.merge(\n              { shared: /shared/.test(path), loaded: true },\n              orgData,\n              response.data\n            )\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error. Failed to load document\", docKey);\n      })\n      .then(() => {\n        //Load the _meta for this document\n//        return actions.oada.get({ path: path + `/_meta` }).then((response) => {\n        return request.request({\n          method: 'GET',\n          url: `${state.oada.url}${path}/_meta`,\n          headers: {Authorization: `Bearer ${state.oada.token}`,\n            'Cache-Control': 'no-cache',\n            'Pragma': 'no-cache',\n            'Expires': '0',\n          }\n        }).then((response) => {\n          if (response == null) throw Error(\"No meta data for \" + docKey);\n          const orgMeta = _.get(state.oada.data, `${docType}.${docKey}._meta`);\n          const newMeta = _.merge(\n            {},\n            orgMeta,\n            _.pick(response.data, [\n              \"stats\",\n              \"services\",\n              \"filename\",\n              \"_type\",\n              \"vdoc\",\n              \"lookups\",\n            ])\n          );\n          //Merge in stats and services\n          _.set(state.oada.data, `${docType}.${docKey}._meta`, newMeta);\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error. Failed to load document _meta\", docKey);\n      });\n  },\n\n  async loadEventLog({ state, actions }, docKey) {\n    const statistics = await actions.oadaHelper.getReportStatistics({\n      path: \"event-log\",\n      date: docKey,\n    });\n    if (statistics) {\n      state.oada.data.Reports.eventLog[docKey].data = statistics;\n      return;\n    }\n\n    const eventLogRows = actions.oadaHelper.getReportRows({\n      path: \"event-log\",\n      date: docKey,\n    });\n    let eventLogDocuments = {};\n    const eventLogStatistics = eventLogRows.reduce(\n      (acc, row) => {\n        if (eventLogDocuments[row[\"document id\"]] === undefined) {\n          eventLogDocuments[row[\"document id\"]] = {};\n          acc.numDocuments++;\n        }\n        if (row[\"event type\"] === \"share\") {\n          acc.numShares++;\n        } else if (row[\"event type\"] === \"email\") {\n          acc.numEmails++;\n        }\n        return acc;\n      },\n      {\n        numEvents: eventLogRows.length,\n        numDocuments: 0,\n        numEmails: 0,\n        numShares: 0,\n      }\n    );\n    state.oada.data.Reports.eventLog[docKey].data = {\n      rows: eventLogRows,\n      ...eventLogStatistics,\n    };\n  },\n\n  async loadUserAccess({ state, actions }, docKey) {\n    const statistics = await actions.oadaHelper.getReportStatistics({\n      path: \"current-tradingpartnershares\",\n      date: docKey,\n    });\n    if (statistics) {\n      state.oada.data.Reports.userAccess[docKey].data = statistics;\n      return;\n    }\n\n    const userAccessRows = await actions.oadaHelper.getReportRows({\n      path: \"current-tradingpartnershares\",\n      date: docKey,\n    });\n    const tradingPartners = {};\n    const userAccessStatistics = userAccessRows.reduce(\n      (acc, row) => {\n        if (tradingPartners[row[\"trading partner masterid\"]] === undefined) {\n          acc.numTradingPartners++;\n          tradingPartners[row[\"trading partner masterid\"]] = {};\n          if (row[\"document type\"] === undefined) {\n            acc.numTPWODocs++;\n            acc.totalShares--;\n          }\n        }\n        return acc;\n      },\n      {\n        numTradingPartners: 0,\n        numTPWODocs: 0,\n        totalShares: userAccessRows.length,\n      }\n    );\n\n    state.oada.data.Reports.userAccess[docKey].data = {\n      rows: userAccessRows,\n      ...userAccessStatistics,\n    };\n  },\n\n  async loadDocumentShares({ state, actions }, docKey) {\n    const statistics = await actions.oadaHelper.getReportStatistics({\n      path: \"current-shareabledocs\",\n      date: docKey,\n    });\n    if (statistics) {\n      state.oada.data.Reports.documentShares[docKey].data = statistics;\n      return;\n    }\n\n    const documentSharesRows = await actions.oadaHelper.getReportRows({\n      path: \"current-shareabledocs\",\n      date: docKey,\n    });\n    let documents = {};\n    const today = moment();\n    const documentSharesStatistics = await Promise.reduce(\n      documentSharesRows,\n      async (acc, row) => {\n        if (documents[row[\"document id\"]] === undefined) {\n          acc.numDocsToShare++;\n          documents[row[\"document id\"]] = {};\n          // TODO lookup document expiration date\n          if (row[\"trading partner masterid\"] === \"\") {\n            acc.numDocsNotShared++;\n          }\n          const docKey = row[\"document id\"].split(\"/\")[1];\n          let vdoc;\n          if (state.oada.data[\"fsqa-audits\"][docKey] !== undefined) {\n            vdoc = state.oada.data[\"fsqa-audits\"][docKey];\n          } else if (state.oada.data[\"cois\"][docKey] !== undefined) {\n            vdoc = state.oada.data[\"cois\"][docKey];\n          } else {\n            vdoc = await actions.oada.get(row[\"document id\"]).then((res) => {\n              return res.data;\n            });\n          }\n          if (vdoc === null || vdoc === undefined) {\n            return acc;\n          }\n          let exprDate;\n          switch (row[\"document type\"]) {\n            case \"coi\":\n              exprDate = moment.min(\n                Object.values(vdoc.policies).map((policy) => {\n                  return moment(policy.expire_date);\n                })\n              );\n              break;\n            case \"audit\":\n              exprDate = moment(\n                vdoc.certificate_validity_period.end,\n                \"MM/DD/YYYY\"\n              );\n              break;\n          }\n          if (exprDate.isAfter(today)) {\n            acc.numExpiredDocuments++;\n          }\n        }\n        return acc;\n      },\n      {\n        numDocsToShare: 0,\n        numExpiredDocuments: 0,\n        numDocsNotShared: 0,\n      }\n    );\n    state.oada.data.Reports.documentShares[docKey].data = {\n      rows: documentSharesRows,\n      ...documentSharesStatistics,\n    };\n  },\n\n  async getReportRows({ actions, state }, { path, date }) {\n    const reportRaw = await request\n      .request({\n        method: \"GET\",\n        responseType: \"blob\",\n        url: `/bookmarks/services/trellis-reports/${path}/day-index/${date}`,\n        baseURL: state.oada.url,\n        headers: {\n          Authorization: `Bearer ${state.oada.token}`,\n        },\n      })\n      .then((res) => {\n        return res.data;\n      });\n\n    const wb = XLSX.read(await reportRaw.arrayBuffer(), {\n      type: \"array\",\n    });\n    return XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]);\n  },\n\n  async getReportStatistics({ actions }, { path, date }) {\n    try {\n      return actions.oada\n        .get({\n          path: `/bookmarks/services/trellis-reports/${path}/day-index/${date}/_meta`,\n        })\n        .then((res) => _.get(res, \"data.statistics\"));\n    } catch (e) {\n      console.error(\"failed to fetch statistics, building from from report\");\n    }\n  },\n\n  createAndPostResource({ actions }, { url, data, contentType }) {\n    return actions.oada\n      .createResource({ data, contentType })\n      .then((response) => {\n        //Link this new resource at the url provided\n        var id = response.headers[\"content-location\"].split(\"/\");\n        id = id[id.length - 1];\n        return actions.oada\n          .post({\n            path: url,\n            headers: {\n              \"Content-Type\": contentType || \"application/json\",\n            },\n            data: {\n              _id: \"resources/\" + id,\n              _rev: 0,\n            },\n          })\n          .then((response) => {\n            var id = response.headers[\"content-location\"].split(\"/\");\n            id = id[id.length - 1];\n            return id;\n          });\n      });\n  },\n  createAndPostResourceHTTP({ actions }, { url, data, contentType }) {\n    return actions.oada\n      .createResourceHTTP({ data, contentType })\n      .then((response) => {\n        //Link this new resource at the url provided\n        var id = response.headers[\"content-location\"].split(\"/\");\n        id = id[id.length - 1];\n        return actions.oada\n          .postHTTP({\n            url: url,\n            headers: {\n              \"Content-Type\": contentType || \"application/json\",\n            },\n            data: {\n              _id: \"resources/\" + id,\n              _rev: 0,\n            },\n          })\n          .then((response) => {\n            var id = response.headers[\"content-location\"].split(\"/\");\n            id = id[id.length - 1];\n            return id;\n          });\n      });\n  },\n  createAndPutResource({ actions }, { url, data, contentType }) {\n    return actions.oadaHelper\n      .createResource({ data, contentType })\n      .then((response) => {\n        //Link this new resource at the url provided\n        var id = response.headers[\"content-location\"].split(\"/\");\n        id = id[id.length - 1];\n        return actions.oada.put({\n          path: url,\n          headers: {\n            \"Content-Type\": contentType || \"application/json\",\n          },\n          data: {\n            _id: \"resources/\" + id,\n            _rev: 0,\n          },\n        });\n      });\n  },\n  createResource({ actions }, { data, contentType }) {\n    var headers = {};\n    headers[\"content-type\"] = contentType || \"application/json\";\n    return actions.oada.post({ path: \"/resources\", data, headers });\n  },\n  createResourceHTTP({ actions }, { data, contentType }) {\n    var headers = {};\n    headers[\"content-type\"] = contentType || \"application/json\";\n    return actions.oadaHelper.postHTTP({ url: \"/resources\", data, headers });\n  },\n  doesResourceExist({ actions }, url) {\n    return actions.oada\n      .head({ path: url })\n      .then((response) => {\n        if (response.error) {\n          if (response.error && response.error.status === 404) return false;\n        }\n        if (response != null) return true;\n        return false;\n      })\n      .catch((err) => {\n        console.log(\"caught\");\n        return false;\n      });\n  },\n  get({ effects, state }, url) {\n    return effects.oadaHelper.websocket\n      .http({\n        method: \"GET\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + state.oada.token,\n        },\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  head({ effects, state }, url) {\n    return effects.oadaHelper.websocket\n      .http({\n        method: \"HEAD\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + state.oada.token,\n        },\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  post({ effects, state }, { url, headers, data }) {\n    return effects.oada.websocket\n      .http({\n        method: \"POST\",\n        url: url,\n        headers: _.merge(\n          {\n            Authorization: \"Bearer \" + state.oada.token,\n          },\n          headers\n        ),\n        data: data,\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  postHTTP({ effects, state }, { url, headers, data }) {\n    return request\n      .request({\n        url: url,\n        method: \"post\",\n        baseURL: state.oada.url,\n        headers: _.merge(\n          {\n            Authorization: \"Bearer \" + state.oada.token,\n          },\n          headers\n        ),\n        data: data,\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  del({ effects, state }, { url, headers, data }) {\n    return effects.oada.websocket\n      .http({\n        method: \"DELETE\",\n        url: url,\n        headers: _.merge(\n          {\n            Authorization: \"Bearer \" + state.oada.token,\n          },\n          headers\n        ),\n        data: data,\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  put({ effects, state }, { url, headers, data }) {\n    return effects.oada.websocket\n      .http({\n        method: \"PUT\",\n        url: url,\n        headers: _.merge(\n          {\n            Authorization: \"Bearer \" + state.oada.token,\n          },\n          headers\n        ),\n        data: data,\n      })\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n  watch({ effects, actions, state }, { url, actionName }) {\n    var cb = function callback(data) {\n      var action = _.get(actions, actionName);\n      action(data);\n    };\n    return effects.oada.websocket\n      .watch(\n        {\n          url,\n          headers: { Authorization: \"Bearer \" + state.oada.token },\n        },\n        cb\n      )\n      .catch((err) => {\n        return { error: err };\n      });\n  },\n};\n","const Promise = require('bluebird');\nconst urlLib = require('url');\nconst uuid = require('uuid/v4');\nPromise.config({warnings: false})\n\nexport default function websocket(url) {\n\t//Create the message queue\n\tvar messages = [];\n\t//Create the socket\n\turl = url.replace('https://', 'wss://').replace('http://', 'ws://');\n\tconsole.log('Creating WebSocket for', url);\n\tvar socket;\n\tvar connected = false;\n\tvar httpCallbacks = {};\n\tvar watchCallbacks = {};\n\n\tfunction sendMessages() {\n\t\tif (!connected) return;\n\t\tmessages.forEach((message) => {\n      socket.send(JSON.stringify(message));\n\t\t});\n\t\tmessages = [];\n\t}\n\treturn new Promise((resolve, reject) => {\n    console.log('Calling WebSocket(url)');\n    socket = new WebSocket(url);\n    socket.onopen = function(event) {\n\t\t\tconsole.log('We are connected via websocket')\n\t\t\tconnected = true;\n\t\t\tsendMessages();\n\t\t\tresolve(socket)\n\t\t}\n\t\tsocket.onclose = function(event) {\n      console.log('Websocket closed.');\n\t\t}\n    socket.onmessage = function(event) {\n      var response = JSON.parse(event.data);\n\t\t\t//Look for id in httpCallbacks\n\t\t\tif (response.requestId) {\n\t\t\t\tif (httpCallbacks[response.requestId]) {\n          //Resolve Promise\n\t\t\t\t\tif (response.status >= 200 && response.status < 300) {\n\t\t\t\t\t\thttpCallbacks[response.requestId].resolve(response);\n\t\t\t\t\t} else {\n            //Create error like axios\n\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n            err.request = httpCallbacks[response.requestId].request;\n\t\t\t\t\t\terr.response = {\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\tstatusText: response.statusText,\n\t\t\t\t\t\t\theaders: response.headers,\n\t\t\t\t\t\t\tdata: response.data\n            };\n            err.originalStack = httpCallbacks[response.requestId].request.requestStack;\n\t\t\t\t\t\thttpCallbacks[response.requestId].reject(err);\n\t\t\t\t\t}\n\t\t\t\t\tdelete httpCallbacks[response.requestId];\n        } else if (watchCallbacks[response.requestId]) {\n\t\t\t\t\tif (watchCallbacks[response.requestId].resolve) {\n\t\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\t//if (response.status === 'success') {\n\t\t\t\t\t\t\t//Successfully setup websocket, resolve promise\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].resolve(response);\n            } else {\n              //error(watchCallbacks[response.requestId].request, response);\n\t\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n\t\t\t\t\t\t\terr.response = response;\n              err.request = watchCallbacks[response.requestId].request;\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].reject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Remove resolve and reject so we process change as a signal next time\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['resolve'];\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['reject'];\n          } else {\n            if (watchCallbacks[response.requestId].callback == null) throw new Error('The given watch function has an undefined callback:', watchCallbacks[response.requestId]);\n\t\t\t\t\t\twatchCallbacks[response.requestId].callback(response);\n\t\t\t\t\t}\n        }\n\t\t\t}\n\t\t}\n\t}).then(() => {\n\t\tconsole.log('Returning websocket obj')\n    function _http(request) {\n\t\t\t//Do a HTTP request\n      return new Promise((resolve, reject) => {\n        let urlObj = urlLib.parse(request.url);\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: request.method.toLowerCase(),\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\tdata: request.data,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tmessages.push(message);\n\t\t\t\thttpCallbacks[message.requestId] = {\n\t\t\t\t\trequest: request,\n\t\t\t\t\tresolve: resolve,\n\t\t\t\t\treject: reject,\n        };\n\t\t\t\tsendMessages();\n\t\t\t});\n    }\n\n    function _unwatch(request, callback) {\n\t\t\t//Unwatch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'unwatch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n        watchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n    function _watch(request, callback) {\n\t\t\t//Watch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'watch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n\t\t\t\twatchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n\t\tfunction _close() {\n\t\t\t//TODO reject all callbacks that have not resolved\n\t\t\t//Clear everything\n\t\t\tmessages = [];\n\t\t\thttpCallbacks = {};\n\t\t\twatchCallbacks = {};\n\t\t\t//Close socket\n\t\t\tsocket.close();\n\t\t}\n\n\t\treturn {\n\t\t\turl,\n\t\t\thttp: _http,\n\t\t\tclose: _close,\n\t\t\twatch: _watch,\n\t\t\tunwatch: _unwatch,\n\t\t}\n\t})\n}\n","import websocket from './websocket';\nimport _ from 'lodash'\nvar myWebsocket = null;\n\nexport default {\n  websocket: {\n    connect(url) {\n      //Connect to OADA with this url\n      return websocket(url).then((ws) => {\n        myWebsocket = ws;\n        return myWebsocket;\n      })\n    },\n    watch(request, callback) {\n      return myWebsocket.watch(request, callback)\n    },\n    http(request) {\n      return myWebsocket.http(request).catch((err) => {\n        if (err.response && err.response.status) {\n          if (err.response.status == 404) {\n            console.log(\"HTTP 404:\", _.get(err, 'response.headers.content-location'));\n          } else if (err.response.status == 403) {\n            console.log(\"HTTP 403:\", _.get(err, 'response.headers.content-location'));\n          } else if (err.response.status == 401) {\n            console.warn(\"HTTP 401:\", _.get(err, 'request.url'));\n          } else {\n            console.warn('HTTP Error:');\n            console.warn(JSON.stringify(err, null, 2))\n          }\n        } else {\n          console.warn('HTTP Error no response obj:', err)\n          console.warn(JSON.stringify(err, null, 2))\n        }\n        throw err;\n      });\n    },\n    close() {\n      if (myWebsocket) {\n        console.log('Closing web socket...');\n        return myWebsocket.close();\n      }\n      console.log('WARNING: tried to close a null websocket!');\n    }\n  }\n}\n","import _ from 'lodash';\nimport Fuse from 'fuse.js';\nimport md5 from 'md5';\nimport uuid from 'uuid/v4';\nimport Promise from 'bluebird';\nimport {json} from 'overmind';\nimport fileDownload from 'js-file-download';\nimport request from 'axios'\nimport moment from 'moment';\nimport XLSX from 'xlsx';\nimport config from '../../config/config.js'\n\nlet DOC_TYPES = ['cois', 'fsqa-certificates', 'fsqa-audits', 'letters-of-guarantee', 'documents'];\nlet fuseSearch;\nexport default {\n  TopBar: {\n    logout({state, actions}) {\n      actions.login.logout()\n      actions.oadaHelper.logout();\n    },\n    tpSelect({state, actions}) {\n      state.view.Modals.TPSelectModal.open = true;\n    },\n    toSmithfield({state, actions}) {\n      delete state.view.tp;\n      delete state.view.Modals.TPSelectModal.key;\n      state.oadaHelper.path = `/bookmarks/trellisfw`\n      actions.oadaHelper.initializeDocuments();\n    }\n  },\n  Modals: {\n    EditRuleModal: {\n      close({state, actions}) {\n        state.view.Modals.EditRuleModal.open = false;\n      }\n    },\n    TPSelectModal: {\n      done({state, actions}) {\n        if (state.view.Modals.TPSelectModal.tp) {\n          state.view.tp = state.view.Modals.TPSelectModal.tp;\n          let key = state.view.Modals.TPSelectModal.key;\n//          let location = state.view.Modals.TPSelectModal.pending ? 'shared' : 'bookmarks';\n//          state.view.pending = state.view.Modals.TPSelectModal.pending;\n          state.oadaHelper.path = `/bookmarks/trellisfw/trading-partners/${key}`\n          actions.oadaHelper.initializeDocuments();\n        }\n        state.view.Modals.TPSelectModal.open = false;\n      },\n      close({state}) {\n        state.view.Modals.TPSelectModal.open = false;\n      },\n      changeTP({state, actions}, props) {\n        state.view.Modals.TPSelectModal.tp = state.tps[props].name;\n        state.view.Modals.TPSelectModal.key = props;\n      },\n      onSearchChange({state, actions}, props) {\n        state.view.Modals.TPSelectModal.options = props.data;\n      },\n      checkPending({state, actions}, props) {\n        state.view.Modals.TPSelectModal.pending = !state.view.Modals.TPSelectModal.pending;\n      }\n    },\n    RulesModal: {\n      backClicked({state, actions}) {\n        state.view.Modals.RulesModal.page = 'List';\n      },\n      close({state, actions}) {\n        state.view.Modals.RulesModal.open = false;\n      },\n      categorySelected({state, actions}, evt) {\n        state.view.Modals.RulesModal.category = evt.target;\n      },\n      newRuleSelected({state, actions}, rule) {\n        state.view.Modals.RulesModal.Edit = {\n          template: json(rule),\n          rule: json(rule)\n        };\n        state.view.Modals.RulesModal.page = 'Edit';\n      },\n      async clickedMapping({state, actions}, {key}) {\n        let mapping = state.view.Modals.RulesModal.Mappings[key];\n        let newState = false;\n        if (!mapping.active) newState = true;\n        state.view.Modals.RulesModal.Mappings[key].active = newState;\n      },\n      async handleHeaderClick({state}, {value}) {\n        state.view.Modals.RulesModal.Edit.sortCol = value;\n\n        let currentSort = state.view.Modals.RulesModal.Edit[value];\n        if (currentSort && currentSort === 'ascending') {\n          state.view.Modals.RulesModal.Edit[value] = 'descending';\n        } else {\n          state.view.Modals.RulesModal.Edit[value] = 'ascending';\n        }\n      },\n      async viewMappings({state, actions}) {\n        let obj = {};\n        //Get and construct relevant mappings for this rule\n        let tps = await actions.oadaHelper.getList('trading-partners');\n        let selectedRule = state.view.Modals.RulesModal.Edit.rule;\n        let inverse = false;\n        let listType = selectedRule.mappings;\n        if (!listType) return;\n        if (listType === 'facilities') {\n          inverse = true;\n        }\n        let list = await actions.oadaHelper.getList(listType);\n\n\n        if (inverse) {\n          // Loop over trading partners, and for each entry listed,\n          // add an item to obj\n          Object.values(tps).forEach((tp) => {\n            Object.keys(tp[listType] || {}).forEach((masterid) => {\n              let item = _.find(list, {masterid});\n              let cityAndState = item.city && item.state ? true : false;\n              obj[masterid] = obj[masterid] || {\n                name: item.name + (cityAndState ? ' - '+(item.city +', '+item.state) : ''),\n                active: false,\n                partners: [],\n              }\n              let tpCityAndState = tp.city && tp.state ? true : false;\n              let entry = tp.name+(tpCityAndState ? ' - '+tp.city+', '+tp.state : '');\n              obj[masterid].partners.push(entry);\n            })\n          })\n\n        } else {\n          Object.keys(list).filter(key => key.charAt(0) !== '_').forEach((key) => {\n            let cityAndState = list[key].city && list[key].state ? true : false;\n            obj[key] = {\n              name: list[key].name + (cityAndState ? ' - '+(list[key].city +', '+list[key].state) : ''),\n              partners: Object.keys(list[key]['trading-partners'] || {}).map((masterid) => {\n                let tp = _.find(tps, {masterid})\n                if (!tp) return;\n                let tpCityAndState = tp.city && tp.state ? true : false;\n                return tp.name+(tpCityAndState ? ' - '+tp.city+', '+tp.state : '');\n              }),\n              active: false\n            }\n          })\n        }\n        obj = Object.values(obj);\n        obj = _.compact(obj);\n        //TODO: Remove this when the popup properly lists all of the entry's info\n        obj = _.uniqBy(obj, x => x.name);\n        obj = _.orderBy(obj, (item => item.name ? item.name.toLowerCase() : item.name));\n        state.view.Modals.RulesModal.Mappings = obj;\n        let options = {\n          keys: [\n            \"name\",\n            \"partners\"\n          ]\n        };\n        const myIndex = Fuse.createIndex(options.keys, obj);\n        fuseSearch = new Fuse(obj, options, myIndex);\n      },\n\n      async handleResultSelect({state, actions}) {\n\n      },\n\n      async searchMappings({state, actions}, value) {\n        state.view.Modals.RulesModal.Edit.mappingSearchValue = value;\n        // fuseSearch created when mappings are initialized above\n        let results = fuseSearch.search(value);\n        state.view.Modals.RulesModal.Edit.mappingSearchResults = results.map(item => item.refIndex);\n      },\n\n      async doneClicked({state, actions}) {\n        state.view.Modals.RulesModal.open = false;\n        await actions.rules.createShare();\n        await actions.rules.loadShares();\n\n      },\n      cancelClicked({state, actions}) {\n        state.view.Modals.RulesModal.open = false;\n        state.view.Modals.RulesModal.Edit = {rule: {}, template: {}};\n      },\n      deleteClicked({state, actions}, rule) {\n        actions.rules.deleteShare(rule);\n        actions.rules.loadShares();\n        actions.view.Modals.RulesModal.cancelClicked();\n      },\n      searchChanged({state, actions}, result) {\n        let newText = result.data.searchQuery;\n        state.view.Modals.RulesModal.Edit.rule[result.key].searchQuery = {\n          key: md5(JSON.stringify({name: newText})),\n          name: newText\n        }\n      },\n      textChanged({state, actions}, result) {\n        let q = state.view.Modals.RulesModal.Edit.rule[result.key].searchQuery;\n        let type = state.view.Modals.RulesModal.Edit.template[result.key].type;\n        let list = state.rules[type];\n        let values = result.values.map((key) =>\n          q ? (key === q.key ? q : list[key]) : list[key]\n        )\n        state.view.Modals.RulesModal.Edit.rule[result.key].values = _.keyBy(values, 'key');\n      },\n    },\n    FileDetailsModal: {\n      onShareChange({state, actions}, data) {\n      },\n      onShareSearchChange({state, actions}, value) {\n        state.view.Modals.FileDetailsModal.sharedSearchValue = value;\n      },\n      showDocument({state}, {resourceId}) {\n        //Find document key for resourceId\n        DOC_TYPES.forEach((docType) => {\n          let docKey = _.chain(state.oadaHelper.data[docType]).findKey({_id: resourceId}).value();\n          if (docKey) {\n            state.view.Modals.FileDetailsModal.docKey = docKey;\n            state.view.Modals.FileDetailsModal.docType = docType;\n          }\n        })\n      },\n      viewPDF({ state, actions }, {docKey, docType}) {\n        state.view.Modals.PDFViewerModal.headers = {Authorization: 'Bearer '+state.oada.token}\n        console.log('docType for testing: ', docType);\n        if (docType === 'documents' || docType === 'application/pdf') {\n          let _id = state.oada.data.documents[docKey]._id;\n          state.view.Modals.PDFViewerModal.url = `${state.oada.url}/${_id}`\n        } else {\n          let tp = state.view.tp;\n          let shared = state.oada.data[docType][docKey].shared ? 'shared' : 'bookmarks';\n          let path = tp ? `${state.oadaHelper.path}/${shared}/trellisfw` : `/bookmarks/trellisfw`\n          state.view.Modals.PDFViewerModal.url = `${state.oada.url}${path}/${docType}/${docKey}/_meta/vdoc/pdf`\n        }\n        state.view.Modals.PDFViewerModal.open = true;\n      },\n      downloadPDF({state, actions}, {docKey, docType}) {\n        let url;\n\n        if (docType === 'documents' || docType === 'application/pdf') {\n          let _id = state.oada.data.documents[docKey]._id;\n          url = `${state.oada.url}/${_id}`\n        } else {\n          let tp = state.view.tp;\n          let shared = state.oada.data[docType][docKey].shared ? 'shared' : 'bookmarks';\n          let path = tp ? `${state.oadaHelper.path}/${shared}/trellisfw` : `/bookmarks/trellisfw`\n          url = `${state.oada.url}${path}/${docType}/${docKey}/_meta/vdoc/pdf`\n        }\n        return request.request({\n          url: `${url}/_meta`,\n          method: 'get',\n          headers: {\n            Authorization: 'Bearer ' + state.oada.token\n          }\n        }).then(response => {\n          return _.get(response, 'data.filename');\n        }).catch((err) => {\n          return null;\n        }).then((filename) => {\n          if (filename == null) filename = 'file.pdf';\n          return request.request({\n            url: `${url}`,\n            method: 'get',\n            responseType: 'blob',\n            headers: {\n              Authorization: 'Bearer ' + state.oada.token\n            }\n          }).then(response => {\n            //Download the pdf\n            fileDownload(new Blob([response.data]), filename);\n          });\n        })\n      },\n      toggleShowData({ state }, docKey) {\n        state.view.Modals.FileDetailsModal.showData = !state.view.Modals.FileDetailsModal.showData;\n      },\n      share({ state, actions }) {\n        let tp = state.view.tp;\n        let path = tp ? `${state.oadaHelper.path}/bookmarks/trellisfw` : `/bookmarks/trellisfw`\n        //Share to all the share options\n        const shareKeys = _.map(state.view.Modals.FileDetailsModal.share, (share, key) => {\n          return key;\n        });\n        const docKey = state.view.Modals.FileDetailsModal.docKey;\n        const docType = state.view.Modals.FileDetailsModal.docType;\n        return Promise.map(shareKeys, (taskKey) => {\n          return actions.oada.put({\n            url: `${path}/${docType}/${docKey}/_meta/services/approval/tasks/${taskKey}`,\n            data: {status: \"approved\"},\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          });\n        }, {concurrency: 1})\n      },\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.FileDetailsModal.open = false;\n      },\n    },\n    PDFViewerModal: {\n      nextPage({state}) {\n        state.view.Modals.PDFViewerModal.pageNumber++;\n      },\n      previousPage({state}) {\n        state.view.Modals.PDFViewerModal.pageNumber--;\n      },\n      onLoadSuccess({state, actions}, document) {\n        let { numPages } = document;\n        let { pageNumber } = document;\n        state.view.Modals.PDFViewerModal.pageNumber = pageNumber || 1;\n        state.view.Modals.PDFViewerModal.numPages = numPages;\n      },\n      download({state, actions}) {\n        return request.request({\n          url: state.view.Modals.PDFViewerModal.url,\n          method: 'get',\n          responseType: 'blob',\n          headers: {\n            Authorization: 'Bearer ' + state.oada.token\n          }\n        }).then(response => {\n          //Download the pdf\n          fileDownload(new Blob([response.data]), 'file.pdf');\n        });\n      },\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.PDFViewerModal.open = false;\n      }\n    }\n  },\n  Pages: {\n    Reports: {\n      onStart({ state }, value) {\n        const dt = moment(value, 'YYYY-MM-DD');\n        if (dt.isValid()) {\n          state.view.Pages.Reports.startDate = value;\n        } else {\n          state.view.Pages.Reports.startDate = '';\n        }\n      },\n      onEnd({ state }, value) {\n        const dt = moment(value, 'YYYY-MM-DD');\n        if (dt.isValid()) {\n          state.view.Pages.Reports.endDate = value;\n        } else {\n          state.view.Pages.Reports.endDate = '';\n        }\n      },\n\n      reportSelect({ state, actions }, name) {\n        actions.view.Pages.Reports.deselectAllReports();\n        state.view.Pages.Reports.allSelected = false;\n        state.view.Pages.Reports.selectedReport = name;\n      },\n\n      // TODO save different report types differently\n      async saveReports({ state, actions }) {\n        const selectedReport = state.view.Pages.Reports.selectedReport;\n        if (!Object.keys(state.oada.data.Reports[selectedReport]).some((key) => {\n          return state.oada.data.Reports[selectedReport][key].checked;\n        })) {\n          return;\n        }\n        await actions.view.Pages.Reports[selectedReport].Table.saveReports();\n      },\n\n      deselectAllReports({ state }) {\n        const selectedReport = state.view.Pages.Reports.selectedReport;\n        const dataState = state.oada.data.Reports[selectedReport];\n        Object.keys(dataState).filter((date) => {\n          return moment(date, 'YYYY-MM-DD').isValid();\n        }).forEach((docKey) => {\n          state.oada.data.Reports[selectedReport][docKey].checked = false;\n        });\n      },\n\n      selectAllReports({ state, actions }) {\n        const selectedReport = state.view.Pages.Reports.selectedReport;\n        const tableState = state.view.Pages.Reports;\n        const dataState = state.oada.data.Reports[selectedReport];\n        const collection = tableState[selectedReport].Table;\n        const docKeys = collection.map((row) => {\n          return row.docKey;\n        });\n        actions.view.Pages.Reports.deselectAllReports();\n        docKeys.forEach((docKey) => {\n          dataState[docKey].checked = !dataState.allSelected;\n        });\n        dataState.allSelected = !dataState.allSelected;\n      },\n\n      eventLog: {\n        Table: {\n          loadDocumentKeys({ _state, actions }, documents) {\n            console.log('Event Log - loadDocumentKeys', documents);\n            let docKeys = Object.keys(documents);\n            const validDates = docKeys.filter((key) => {\n              return moment(key, 'YYYY-MM-DD').isValid()\n            });\n            return Promise.map(validDates, async (key) => {\n              return actions.oadaHelper.loadEventLog(key);\n            }, { concurrency: 5 });\n          },\n\n          toggleCheckbox({ state, actions }, date) {\n            state.oada.data.Reports.eventLog[date].checked =\n              !state.oada.data.Reports.eventLog[date].checked;\n          },\n\n          async saveReports({ state, actions }) {\n            const myState = state.oada.data.Reports.eventLog;\n            let wb = XLSX.utils.book_new();\n            let rows = [];\n            await Promise.each(\n              Object.keys(myState)\n                .filter((date) => myState[date] !== null\n                  && myState[date] !== undefined)\n                .filter((date) => myState[date].checked),\n              async (date) => {\n                let myRows = myState[date].data.rows;\n                if (myRows === null || myRows === undefined) {\n                  myRows = await actions.oadaHelper.getReportRows({\n                    path: 'event-log',\n                    date\n                  });\n                  myState[date].data.rows = myRows;\n                }\n                rows = rows.concat(myRows);\n              });\n            const ws = XLSX.utils.json_to_sheet(rows, {\n              header: [\n                'share status',\n                'trading partner name',\n                'trading partner masterid',\n                'recipient email address',\n                'event time',\n                'event type',\n                'document type',\n                'document id',\n                'source id',\n                'document name',\n                'upload date',\n                'coi holder',\n                'coi producer',\n                'coi insured',\n                'coi expiration date',\n                'audit organization name',\n                'audit expiration date',\n                'audit score',\n              ],\n            });\n            XLSX.utils.book_append_sheet(wb, ws, 'eventLog');\n            XLSX.writeFile(wb, 'eventLog.xlsx', {\n              bookType: 'xlsx',\n            });\n          },\n        },\n      },\n\n      userAccess: {\n        Table: {\n          loadDocumentKeys({ _state, actions }, documents) {\n            console.log('User Access - loadDocumentKeys', documents);\n            let docKeys = Object.keys(documents);\n            const validDates = docKeys.filter((key) => {\n              return moment(key, 'YYYY-MM-DD').isValid();\n            });\n            return Promise.map(validDates, async (key) => {\n              return actions.oadaHelper.loadUserAccess(key);\n            }, { concurrency: 5 });\n          },\n\n          toggleCheckbox({ state, actions }, date) {\n            state.oada.data.Reports.userAccess[date].checked =\n              !state.oada.data.Reports.userAccess[date].checked;\n          },\n\n          async saveReports({ state, actions }) {\n            const myState = state.oada.data.Reports.userAccess;\n            let wb = XLSX.utils.book_new();\n            await Promise.each(\n              Object.keys(myState)\n                .filter((date) => myState[date] !== null\n                  && myState[date] !== undefined)\n                .filter((date) => myState[date].checked),\n              async (date) => {\n                let myRows = myState[date].data.rows;\n                if (myRows === undefined || myState == null) {\n                  myRows = await actions.oadaHelper.getReportRows({\n                    path: 'current-tradingpartnershares',\n                    date,\n                  });\n                  myState[date].data.rows = myRows;\n                }\n                const ws = XLSX.utils.json_to_sheet(myRows, {\n                  header: [\n                    'trading partner name',\n                    'trading partner masterid',\n                    'document type',\n                    'document id',\n                    'source id',\n                    'document name',\n                    'upload date',\n                    'coi holder',\n                    'coi producer',\n                    'coi insured',\n                    'coi expiration date',\n                    'audit organization name',\n                    'audit expiration date',\n                    'audit score',\n                  ],\n                });\n                XLSX.utils.book_append_sheet(wb, ws, date);\n              });\n            XLSX.writeFile(wb, 'tradingPartnerAccess.xlsx', {\n              bookType: 'xlsx',\n            });\n          },\n        }\n      },\n\n      documentShares: {\n        Table: {\n          loadDocumentKeys({ _state, actions }, documents) {\n            console.log('Document Shares - loadDocumentKeys', documents);\n            let docKeys = Object.keys(documents);\n            const validDates = docKeys.filter((key) => {\n              return moment(key, 'YYYY-MM-DD').isValid();\n            });\n            return Promise.map(validDates, async (key) => {\n              return actions.oadaHelper.loadDocumentShares(key);\n            }, { concurrency: 5 });\n          },\n\n          toggleCheckbox({ state, actions }, date) {\n            state.oada.data.Reports.documentShares[date].checked =\n              !state.oada.data.Reports.documentShares[date].checked;\n          },\n\n          async saveReports({ state, actions }) {\n            const myState = state.oada.data.Reports.documentShares;\n            let wb = XLSX.utils.book_new();\n            await Promise.each(\n              Object.keys(myState)\n                .filter((date) => myState[date] !== null\n                  && myState[date] !== undefined)\n                .filter((date) => myState[date].checked),\n              async (date) => {\n                let myRows = myState[date].data.rows;\n                if (myRows === undefined || myState == null) {\n                  myRows = await actions.oadaHelper.getReportRows({\n                    path: 'current-shareabledocs',\n                    date\n                  });\n                  myState[date].data.rows = myRows;\n                }\n                const ws = XLSX.utils.json_to_sheet(myRows, {\n                  header: [\n                    'document name',\n                    'document id',\n                    'source id',\n                    'document type',\n                    'upload date',\n                    'trading partner name',\n                    'trading partner masterid',\n                    'coi holder',\n                    'coi producer',\n                    'coi insured',\n                    'coi expiration date',\n                    'audit organization name',\n                    'audit expiration date',\n                    'audit score',\n                  ],\n                });\n                XLSX.utils.book_append_sheet(wb, ws, date);\n              });\n            XLSX.writeFile(wb, 'documentRecipientList.xlsx', {\n              bookType: 'xlsx',\n            });\n          },\n        }\n      },\n    },\n\n    Audits: {\n      onSearch({ state }, value) {\n        state.view.Pages.Audits.search = value;\n      },\n      Table: {\n        loadDocumentKeys({state, actions}, documents) {\n          let docKeys = Object.keys(documents);\n          console.log('Audits - loadDocumentKeys', docKeys)\n          const docType = 'fsqa-audits';\n          let keys = docKeys.sort();\n          return Promise.map(keys, async (key) => {\n            return actions.oadaHelper.loadDocument({docType, docKey: key, path: documents[key].path});\n          }, {concurrency: 5})\n        },\n        async onRowClick({ state, actions }, {rowData}) {\n          const docKey = rowData.docKey\n          const docType = rowData.docType;\n          console.log('Selected Document:')\n          console.log('key', docKey, 'data', rowData)\n          if (docKey == null) return; //Uploading doc\n          const doc = state.oada.data[docType][docKey];\n          //Show file detial model\n          state.view.Modals.FileDetailsModal.docType = docType;\n          state.view.Modals.FileDetailsModal.docKey = docKey;\n          state.view.Modals.FileDetailsModal.open = true;\n          state.view.Modals.FileDetailsModal.sharedWith = [];\n          state.view.Modals.FileDetailsModal.sharedWith = await actions.oadaHelper.getTradingPartners({docType, docKey});\n        }\n      }\n    },\n    COIS: {\n      onSearch({ state }, value) {\n        state.view.Pages.COIS.search = value;\n      },\n      Table: {\n        loadDocumentKeys({state, actions}, documents) {\n          let docKeys = Object.keys(documents);\n          const docType = 'cois';\n          let keys = docKeys.sort();\n          return Promise.map(keys, async (key) => {\n            return actions.oadaHelper.loadDocument({docType, docKey: key, path: documents[key].path });\n          }, {concurrency: 5})\n        },\n        async onRowClick({ state, actions }, {rowData}) {\n          const docKey = rowData.docKey\n          const docType = rowData.docType;\n          console.log('Selected Document:')\n          console.log('key', docKey, 'data', rowData)\n          if (docKey == null) return; //Uploading doc\n          const doc = state.oada.data[docType][docKey];\n          //Show file detail model\n          state.view.Modals.FileDetailsModal.docType = docType;\n          state.view.Modals.FileDetailsModal.docKey = docKey;\n          state.view.Modals.FileDetailsModal.open = true;\n          state.view.Modals.FileDetailsModal.sharedWith = [];\n          state.view.Modals.FileDetailsModal.sharedWith = await actions.oadaHelper.getTradingPartners({docType, docKey});\n        }\n      }\n    },\n    Certificates: {\n      onSearch({ state }, value) {\n        state.view.Pages.Certificates.search = value;\n      },\n      Table: {\n        loadDocumentKeys({state, actions}, documents) {\n          let docKeys = Object.keys(documents);\n          console.log('Certificates - loadDocumentKeys', docKeys)\n          const docType = 'fsqa-certificates';\n          let keys = docKeys.sort();\n          return Promise.map(keys, async (key) => {\n            return actions.oadaHelper.loadDocument({docType, docKey: key, path: documents[key].path});\n          }, {concurrency: 5})\n        },\n        async onRowClick({ state, actions }, {rowData}) {\n          const docKey = rowData.docKey\n          const docType = rowData.docType;\n          console.log('Selected Document:')\n          console.log('key', docKey, 'data', rowData)\n          if (docKey == null) return; //Uploading doc\n          const doc = state.oada.data[docType][docKey];\n          //Show file detial model\n          state.view.Modals.FileDetailsModal.docType = docType;\n          state.view.Modals.FileDetailsModal.docKey = docKey;\n          state.view.Modals.FileDetailsModal.open = true;\n          state.view.Modals.FileDetailsModal.sharedWith = [];\n          state.view.Modals.FileDetailsModal.sharedWith = await actions.oadaHelper.getTradingPartners({docType, docKey});\n        }\n      }\n    },\n    Data: {\n      onSearch({ state }, value) {\n        state.view.Pages.Data.search = value;\n      },\n      openFileBrowser({ state }) {\n        state.view.Pages.Data.openFileBrowser = true;\n        return Promise.delay(1000).then(() => {\n          state.view.Pages.Data.openFileBrowser = false;\n        })\n      },\n      Dropzone: {\n        filesDropped({ state, actions }, files) {\n          //TODO upload only 5 at a time\n          //Start uploading the files\n          return Promise.map(files, (file) => {\n            //Add an `uploading` file\n            const id = uuid();\n            /*\n            state.view.Pages.Data.uploading[id] = {\n              filename: file.name,\n              docKey: id,\n            };\n            */\n            return actions.oadaHelper.uploadFile(file).then(() => {\n//              delete state.view.Pages.Data.uploading[id];\n            })\n          });\n        }\n      },\n      Table: {\n        loadDocumentKeys({state, actions}, documents) {\n          let docKeys = Object.keys(documents);\n          console.log('Unidentified Files - loadDocumentKeys', docKeys)\n          const docType = 'documents';\n          let keys = docKeys.sort();\n          return Promise.map(keys, async (key) => {\n            return actions.oadaHelper.loadDocument({docType, docKey: key, path: documents[key].path});\n          }, {concurrency: 5})\n        },\n        async onRowClick({ state, actions }, props) {\n          let {rowData, index} = props;\n          const docKey = rowData.docKey\n          let docType = rowData.docType;\n          console.log('Selected Document:')\n          console.log('key', docKey, 'data', rowData)\n          if (docKey == null) return; //Uploading doc\n          \n          state.view.MessageLog.path = ``\n\n          //If this is a PDF show pdf viewer\n          switch(rowData.type) {\n            case 'application/pdf':\n              let tp = state.view.tp;\n              let shared = rowData.shared ? 'shared' : 'bookmarks';\n              let path = tp ? `${state.oadaHelper.path}/${shared}/trellisfw` : `/bookmarks/trellisfw`\n              state.view.Modals.PDFViewerModal.headers = {Authorization: 'Bearer '+state.oada.token}\n              let _id = state.oada.data.documents[docKey]._id;\n              state.view.Modals.PDFViewerModal.url = `${state.oada.url}/${_id}`\n              state.view.Modals.PDFViewerModal.open = true;\n              state.view.MessageLog.path = `oada.data.documents.${docKey}`\n              break;\n          // Handle modal viewers for all other types\n            default:\n              let doc = state.oada.data.documents[docKey].identified || {};\n              state.view.MessageLog.path = `oada.data.documents.${docKey}`\n              state.view.Modals.FileDetailsModal.docType = doc.docType || rowData.docType;\n              state.view.Modals.FileDetailsModal.docKey = doc.docKey || rowData.docKey;\n              state.view.Modals.FileDetailsModal.open = true;\n              state.view.Modals.FileDetailsModal.sharedWith = [];\n              state.view.Modals.FileDetailsModal.sharedWith = await actions.oadaHelper.getTradingPartners({docType, docKey});\n              break;\n          }\n        }\n      }\n    },\n    Rules: {\n      ruleSelected({state, actions}, rule) {\n        state.view.Modals.EditRuleModal.open = true;\n        state.view.Pages.Rules.selectedRule = rule;\n      },\n      addRuleClicked({state, actions}, rule) {\n        state.view.Modals.RulesModal.open = true;\n        state.view.Modals.RulesModal.page = 'List';\n        state.view.Pages.Rules.selectedRule = rule;\n      },\n      async editRuleClicked({state, actions}, rule) {\n        state.view.Modals.RulesModal.Edit = {\n          template: json(rule),\n          rule: json(rule),\n          edit: true,\n          key: rule.key,\n        };\n        await actions.view.Modals.RulesModal.viewMappings();\n        state.view.Modals.RulesModal.page = 'Edit';\n        state.view.Modals.RulesModal.open = true;\n      }\n    }\n  },\n  SideBar: {\n    pageSelected({state, actions}, page) {\n      state.view.Pages.lastSelectedPage = page;\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\nimport _onInitialize from './onInitialize'\nimport _effects from './effects'\n\nexport const onInitialize = _onInitialize;\nexport const state = _state;\nexport const actions = _actions;\nexport const effects = _effects;\n","import _ from 'lodash';\nimport Promise from 'bluebird';\n\nexport default function ({ state, actions, effects }, instance) {\n  \n}\n","import _ from 'lodash'\nimport Fuse from 'fuse.js'\nimport moment from 'moment'\n\n//let DOC_TYPES = [ 'documents', 'cois', 'fsqa-audits', 'fsqa-certificates', 'letters-of-guarantee'];\n\nexport default {\n  Pages: {\n    lastSelectedPage: null,\n    selectedPage: ({}, state) => {\n      let selectedPage = state.view.Pages.lastSelectedPage;\n      if (selectedPage == null) {\n        //Pick first page that we have data for and access to\n        const pages = [\n          {\n            type: 'documents',\n            page: 'Data',\n            showIfEmpty: true\n          },\n          {\n            type: 'cois',\n            page: 'COIS'\n          },\n          {\n            type: 'fsqa-audits',\n            page: 'Audits'\n          },\n          {\n            type: 'fsqa-certificates',\n            page: 'Certificates'\n          },\n          {\n            type: 'letters-of-guarantee',\n            page: 'LettersOfGuarantee'\n          },\n        ];\n        _.forEach(pages, (page) => {\n          if (_.get(state.app.config, `tabs.${page.type}`) == true) {\n            if (page.showIfEmpty || !_.isEmpty(_.get(state.oada.data, page.type))) {\n              selectedPage = page.page;\n              return false;\n            }\n          }\n        })\n      }\n      return selectedPage;\n    },\n    Documents: {\n\n    },\n    Reports: {\n      startDate: '',\n      endDate: '',\n      allSelected: false,\n      selectedReport: 'eventLog',\n      eventLog: {\n        Table: ({}, state) => {\n          const myState = _.get(state, `oada.data.Reports.eventLog`);\n          const keys = _.keys(myState).sort().reverse();\n          const startDate = moment(state.view.Pages.Reports.startDate, 'YYYY-MM-DD');\n          const endDate = moment(state.view.Pages.Reports.endDate, 'YYYY-MM-DD');\n          const valid = keys.map((key) => {\n            return moment(key, 'YYYY-MM-DD');\n          }).filter((date) => date.isValid()).filter((reportDate) => {\n            const isAfter = !startDate.isValid()\n              ? true\n              : reportDate.isSameOrAfter(startDate)\n            const isBefore = !endDate.isValid()\n              ? true\n              : reportDate.isSameOrBefore(endDate)\n            return isBefore && isAfter;\n          }).map((reportDate) => {\n            return reportDate.format('YYYY-MM-DD');\n          });\n\n          return valid.map((docKey) => {\n            if (!myState[docKey].data) {\n              return { docKey };\n            }\n            try {\n              return {\n                checked: myState[docKey].checked,\n                docKey,\n                numDocuments: myState[docKey].data.numDocuments,\n                numEvents: myState[docKey].data.numEvents,\n                numEmails: myState[docKey].data.numEmails,\n                numShares: myState[docKey].data.numShares,\n              };\n            } catch (e) {\n              return {\n                docKey,\n              };\n            }\n          });\n        }\n      },\n\n      userAccess: {\n        Table: ({}, state) => {\n          // Why is `state.oada.data.Reports` undefinded if I don't use lodash?\n          const myState = _.get(state, `oada.data.Reports.userAccess`);\n          const keys = _.keys(myState).sort().reverse();\n          const startDate = moment(state.view.Pages.Reports.startDate, 'YYYY-MM-DD');\n          const endDate = moment(state.view.Pages.Reports.endDate, 'YYYY-MM-DD');\n          const valid = keys.map((key) => {\n            return moment(key, 'YYYY-MM-DD');\n          }).filter((date) => date.isValid()).filter((reportDate) => {\n            const isAfter = !startDate.isValid()\n              ? true\n              : reportDate.isSameOrAfter(startDate)\n            const isBefore = !endDate.isValid()\n              ? true\n              : reportDate.isSameOrBefore(endDate)\n            return isBefore && isAfter;\n          }).map((date) => {\n            return date.format('YYYY-MM-DD');\n          });\n\n          return valid.map((docKey) => {\n            if (!myState[docKey].data) {\n              return { docKey };\n            }\n            try {\n              return {\n                checked: myState[docKey].checked,\n                docKey,\n                numTradingPartners: myState[docKey].data.numTradingPartners,\n                numTPWODocs: myState[docKey].data.numTPWODocs,\n                totalShares: myState[docKey].data.totalShares,\n              };\n            } catch (e) {\n              return {\n                docKey,\n              };\n            }\n          });\n        }\n      },\n\n      documentShares: {\n        Table: ({}, state) => {\n          // Why is `state.oada.data.Reports` undefinded if I don't use lodash?\n          const myState = _.get(state, `oada.data.Reports.documentShares`);\n          const keys = _.keys(myState).sort().reverse();\n          const startDate = moment(state.view.Pages.Reports.startDate, 'YYYY-MM-DD');\n          const endDate = moment(state.view.Pages.Reports.endDate, 'YYYY-MM-DD');\n          const valid = keys.map((key) => {\n            return moment(key, 'YYYY-MM-DD');\n          }).filter((date) => date.isValid()).filter((reportDate) => {\n            const isAfter = !startDate.isValid()\n              ? true\n              : reportDate.isSameOrAfter(startDate)\n            const isBefore = !endDate.isValid()\n              ? true\n              : reportDate.isSameOrBefore(endDate)\n            return isBefore && isAfter;\n          }).map((date) => {\n            return date.format('YYYY-MM-DD');\n          });\n\n          return valid.map((docKey) => {\n            if (!myState[docKey].data) {\n              return { docKey };\n            }\n            try {\n              return {\n                checked: myState[docKey].checked,\n                docKey,\n                numDocsToShare: myState[docKey].data.numDocsToShare,\n                numExpiredDocuments: myState[docKey].data.numExpiredDocuments,\n                numDocsNotShared: myState[docKey].data.numDocsNotShared,\n              };\n            } catch (e) {\n              return {\n                docKey,\n              };\n            }\n          });\n        }\n      }\n    },\n\n    Audits: {\n      search: '',\n      openFileBrowser: false,\n      Table: ({search}, state) => {\n        let unloadedDocs = [];\n        const documents = _.get(state, `oada.data.fsqa-audits`);\n        const docKeys = _.keys(documents).sort().reverse();\n        const now = moment()\n        let collection = _.map(docKeys,\n          (docKey) => {\n            const document = documents[docKey];\n            if (!document) {\n              unloadedDocs.push({docKey})\n              return {docKey};\n            }\n            let createdAt = moment.utc(_.get(document, '_meta.stats.created'), 'X')\n            if (createdAt.isValid()) {\n              createdAt = createdAt.local().format('M/DD/YYYY h:mm a');\n            } else {\n              createdAt = '';\n            }\n\n            let shares = _.chain(document).get('_meta.services.trellis-shares.share-count').value();\n            if (shares == null) shares = _.chain(document).get('_meta.services.trellis-shares.jobs').keys().value().length;\n\n            return {\n              docKey: docKey,\n              docType: 'fsqa-audits',\n              filename: _.get(document, 'organization.name') || '',\n              path: _.get(document, 'path'),\n              type: 'FSQA Audit',\n              shares,\n              shareStatus: _.get(document, 'shared') ? 'Pending' : 'Approved',\n              score: _.get(document, 'score.final'),\n              validity: _.get(document, 'certificate_validity_period'),\n              createdAt,\n              createdAtUnix: _.get(document, '_meta.stats.created')\n            }\n          }\n        )\n        //Filter collection by filename\n        const fuseOptions = {keys: [{name: 'filename', weight: 0.3}], shouldSort: false};\n        var fuse = new Fuse(collection, fuseOptions);\n        if (search && search.length > 0) {\n          collection = _.map(fuse.search(search.substr(0, 32)), 'item');\n          //Add back in unloaded docs at the end\n          collection = _.concat(collection, unloadedDocs);\n        }\n        return collection;\n      }\n    },\n    COIS: {\n      search: '',\n      openFileBrowser: false,\n      Table: ({search}, state) => {\n        let unloadedDocs = [];\n        const documents = _.get(state, `oada.data.cois`);\n        const docKeys = _.keys(documents).sort().reverse();\n        let collection = _.map(docKeys,\n          (docKey) => {\n            const document = documents[docKey];\n            if (!document) {\n              unloadedDocs.push({docKey})\n              return {docKey};\n            }\n            let createdAt = moment.utc(_.get(document, '_meta.stats.created'), 'X')\n            if (createdAt.isValid()) {\n              createdAt = createdAt.local().format('M/DD/YYYY h:mm a');\n            } else {\n              createdAt = '';\n            }\n            return {\n              docKey: docKey,\n              docType: 'cois',\n              holder: _.get(document, 'holder.name') || '',\n              producer: _.get(document, 'producer.name') || '',\n              insured: _.get(document, 'insured.name') || '',\n              flSync: {\n                validStatus: _.get(document, ['_meta', 'services', 'fl-sync', 'valid', 'status']) ? 'Valid' : 'Invalid',\n                shareStatus: _.get(document, 'shared') ? 'Pending' : 'Approved',\n              },\n              signed: (_.get(document, 'signatures') || []).length > 0,\n              type: 'COI',\n              createdAt,\n              createdAtUnix: _.get(document, '_meta.stats.created'),\n              path: _.get(document, 'path'),\n              processingService: 'target',\n            }\n          }\n        )\n        //Filter collection by filename\n        const fuseOptions = {keys: [{name: 'holder', weight: 0.3}], shouldSort: false};\n        var fuse = new Fuse(collection, fuseOptions);\n        if (search && search.length > 0) {\n          collection = _.map(fuse.search(search.substr(0, 32)), 'item');\n          //Add back in unloaded docs at the end\n          collection = _.concat(collection, unloadedDocs);\n        }\n        return collection;\n      }\n    },\n    Certificates: {\n      search: '',\n      openFileBrowser: false,\n      Table: ({search}, state) => {\n        let unloadedDocs = [];\n        const documents = _.get(state, `oada.data.fsqa-certificates`);\n        const docKeys = _.keys(documents).sort().reverse();\n        let collection = _.map(docKeys,\n          (docKey) => {\n            const document = documents[docKey];\n            if (!document) {\n              unloadedDocs.push({docKey})\n              return {docKey};\n            }\n            let createdAt = moment.utc(_.get(document, '_meta.stats.created'), 'X')\n            if (createdAt.isValid()) {\n              createdAt = createdAt.local().format('M/DD/YYYY h:mm a');\n            } else {\n              createdAt = '';\n            }\n            let org_location = `${_.get(document, 'organization.location.street_address')} - ${_.get(document, 'organization.location.city')}, ${_.get(document, 'organization.location.state')}`\n            return {\n              docKey: docKey,\n              docType: 'fsqa-certificates',\n              organization: _.get(document, 'organization.name') || '',\n              org_location: org_location || '',\n              path: _.get(document, 'path'),\n              signed: (_.get(document, 'signatures') || []).length > 0,\n              type: 'COI',\n              createdAt,\n              createdAtUnix: _.get(document, '_meta.stats.created'),\n              processingService: 'target'\n            }\n          }\n        )\n        //Filter collection by filename\n        const fuseOptions = {keys: [{name: 'organization', weight: 0.3}], shouldSort: false};\n        var fuse = new Fuse(collection, fuseOptions);\n        if (search && search.length > 0) {\n          collection = _.map(fuse.search(search.substr(0, 32)), 'item');\n          //Add back in unloaded docs at the end\n          collection = _.concat(collection, unloadedDocs);\n        }\n        return collection;\n      }\n    },\n    Data: {\n      search: '',\n      openFileBrowser: false,\n      uploading: {},\n      Table: ({search}, state) => {\n        let unloadedDocs = [];\n        const documents = _.get(state, `oada.data.documents`);\n        const docKeys = _.keys(documents).sort().reverse();\n        let collection = _.map(docKeys,\n          (docKey) => {\n            const document = documents[docKey];\n            if (!document) {\n              unloadedDocs.push({docKey})\n              return {docKey};\n            }\n            //Filter out docs with vdoc in meta, don't show them\n            if (_.get(document, '_meta.vdoc') != null) {\n              //return null;\n            }\n            //Pull out status from target\n            const tasks = _.get(document, '_meta.services.target.jobs') || {}\n            const fileDetails = {\n              type: _.get(document, '_meta._type') || ''\n            }\n\n            // Check if Target service exists and is handling this document:\n            const processingService = _.keys(tasks).length > 0 ? 'target' : false\n\n\n            let createdAt = moment.utc(_.get(document, '_meta.stats.created'), 'X')\n            if (createdAt.isValid()) {\n              createdAt = createdAt.local().format('M/DD/YYYY h:mm a');\n            } else {\n              createdAt = '';\n            }\n\n            /*\n            let messages = [];\n            let jobs = _.get(document, `_meta.services.target.jobs`)\n            console.log('COMPUTING', jobs);\n            Object.values(jobs || {}).forEach(({updates}) => {\n              messages.push(...Object.values(updates || {})\n                .filter(obj => obj.information || obj.meta)\n                .map(obj => ({\n                  text: obj.information || obj.meta,\n                  time: moment(obj.time, 'X').fromNow()\n                }))\n              )\n            })\n            */\n\n            return {\n              docKey: docKey,\n              docType: document.docType || 'documents',\n              filename: _.get(document, '_meta.filename') || '',\n              identified: document.identified,\n              type: document.type || fileDetails.type,\n              shareStatus: _.get(document, 'shared') ? 'Pending' : 'Approved',\n              validStatus: _.get(document, ['_meta', 'services', 'fl-sync', 'valid', 'status']) ? 'Valid' : 'Invalid',\n              createdAt,\n              createdAtUnix: _.get(document, '_meta.stats.created'),\n              path: _.get(document, 'path'),\n              processingService,\n              //messages,\n            }\n          }\n        )\n        collection = _.compact(collection); // Remove null docs, ones that have a vdoc\n        //Filter collection by filename\n        const fuseOptions = {keys: [{name: 'filename', weight: 0.3}], shouldSort: false};\n        var fuse = new Fuse(collection, fuseOptions);\n        if (search && search.length > 0) {\n          collection = _.map(fuse.search(search.substr(0, 32)), 'item');\n          //Add back in unloaded docs at the end\n          collection = _.concat(collection, unloadedDocs);\n        }\n        _.forEach(_.get(state, 'view.Pages.Data.uploading'), file => {\n          collection.unshift({\n            docKey: _.get(file, 'docKey'),\n            filename: file.filename,\n            status: 'uploading'\n          })\n        })\n        return collection;\n      },\n    },\n    Rules: {\n    }\n  },\n  Modals: {\n    EditRuleModal: {\n      open: false,\n    },\n    RulesModal: {\n      open: false,\n      page: 'List',\n      List: {\n        category: 'FSQA',\n        categories: ['FSQA','PII','Claims','Sustainability','Supply Chain'],\n      },\n      Edit: {\n        template: {},\n        rule: {},\n      },\n    },\n    TPSelectModal: {\n      open: false,\n      pending: false,\n    },\n    FileDetailsModal: {\n      open: false,\n      docKey: null,\n      docType: null,\n      showData: false,\n      document: ({ docKey, docType }, state) => {\n        //Get the document\n        if (_.has(state, `oada.data.${docType}.${docKey}.identified`)) {\n          let identified = _.get(state, `oada.data.${docType}.${docKey}.identified`)\n          docKey = identified.docKey;\n          docType = identified.docType;\n        }\n        return (\n          _.chain(state)\n            .get(`oada.data.${docType}.${docKey}`)\n            .value() || {}\n        )\n      },\n      type: ({ document }, state) => {\n        if (document._type == 'application/vnd.trellisfw.coi.accord.1+json' || document._type == 'application/vnd.trellisfw.coi.accord+json') { //application/vnd.trellisfw.coi.1+json\n          return 'coi'\n        } else if (document._type == 'application/vnd.trellisfw.fsqa-audit.sqfi.1+json' || document._type == 'application/vnd.trellisfw.audit.sqfi.1+json') {\n          return 'audit'\n        } else if (document._type == 'application/vnd.trellisfw.fsqa-certificate.sqfi.1+json' || document._type == 'application/vnd.trellisfw.certificate.sqfi.1+json') {\n          return 'certificate'\n        } else {\n          return null;\n        }\n      },\n      share: ({ document }, state) => {\n        return (\n          _.chain(document)\n            .get(`_meta.services.approval.tasks`)\n            .value() || {}\n        )\n      },\n      sharedSearchValue: '',\n      sharedWith: [],\n      sharedWithFiltered: ({sharedWith: collection, sharedSearchValue: search}, state) => {\n        if (search.length == 0) return collection;\n        //Filter collection by sharedSearchValue\n        const fuseOptions = {keys: [{name: 'with', weight: 0.8}], shouldSort: true};\n        var fuse = new Fuse(collection, fuseOptions);\n        if (search && search.length > 0) {\n          collection = _.map(fuse.search(search.substr(0, 32)), 'item');\n        }\n        if (collection.length == 0) {\n          return [{type: '', with: 'No Results Found'}]\n        }\n        return collection;\n      }\n    },\n    PDFViewerModal: {\n      open: false\n    },\n  },\n  MessageLog: {}\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import config from '../../config'\nexport default {\n  domain: config.oada && config.oada.url ? config.oada.url : '',\n}\n","export default {\n  async login({ state, actions }) {\n    let domain = state.login.domain;\n    let token = state.login.token;\n    state.login.loading = true;\n    domain = domain.match(/^http/) ? domain : 'https://'+domain;\n\n    //Connect to oada, getting token if we don't have one\n    //TODO catch error (if oada server is down)\n    await actions.oadaHelper.connect({domain, token});\n\n    //See if our token is correct (can we get /users/me)\n    if (state.oada.token) {\n      let me = await actions.oada.get({path:'/users/me'})\n      if (me.error) {\n        const err = me.error;\n        state.login.loading = false;\n        if (me.error.response && me.error.response.status === 401) {\n          //Token no longer valid. Logout\n          console.log('Token no longer valid. Logging out.')\n          await actions.login.logout();\n        } else {\n          throw err;\n        }\n        state.login.loading = false;\n      } else {\n        state.login.loading = false;\n        state.login.name = me && me.data && me.data.username;\n        // Keep track of the last-used domain URL so refresh doesn't set it back to localhost all the time:\n        window.localStorage['oada:domain'] = state.oada.url;\n        await actions.oadaHelper.initialize()\n        state.login.loggedIn = true;\n      }\n    }\n  },\n  async logout({ state, actions }) {\n    await actions.oadaHelper.logout();\n    state.login.token = null;\n    state.login.loggedIn = false;\n  },\n  domainChange({ state }, data) {\n    state.login.domain = data.value;\n  }\n}\n","import md5 from 'md5'\n\nexport default {\n  objFromObjArr(arr) {\n    let obj = {}\n    arr.forEach((item) => {\n      item.key = md5(JSON.stringify(item));\n      obj[item.key] = item;\n    })\n    return obj\n  },\n\n  objFromStrArr(arr) {\n    let obj = {}\n    arr.forEach((item) => {\n      let o = {name: item};\n      o.key = md5(JSON.stringify(o));\n      obj[o.key] = o;\n    })\n    return obj\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import utils from '../utils'\n\nexport default {\n  products: utils.objFromStrArr(\n    ['Bacon', 'Ham', 'Ribs', 'Ground Pork', 'Shoulder', 'Loin', 'Sausage', 'Sausage, Smoked']\n  ),\n  documents: utils.objFromStrArr(\n    ['Audit', 'Certificate of Insurance', 'Advance Shipping Notice']\n  ),\n  partners: {\n    [`McDonald\\'s`]: {\n      email: 'McDonalds <aca+McDonalds@centricity.us>',\n    },\n    Tyson: {\n      email: 'Tyson <aca+Tyson@centricity.us>',\n      locations: utils.objFromObjArr([\n        {\n          text: 'Smithfield Packaged Meats Corp. - Cudahy, WI',\n          id: '45735',\n          name: 'Cudahy, WI'\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Wilson, NC',\n          id: '10151',\n          name: 'Wilson, NC'\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Arnold',\n          id: '10138',\n          name: 'Arnold, PA',\n        }, {\n          text: 'Smithfield Fresh Meats Corp. (North) - Smithfield, VA',\n          id: '10132',\n          name: 'North',\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Martin City',\n          name: 'Martin City'\n        }, {\n          text: 'Smithfield Packaged Meats Corp. - Cudahy, WI',\n          name: 'Cudahy, WI'\n        }\n      ]),\n    },\n    Wakefern: {\n      email: 'Wakefern <aca+Wakefern@centricity.us>',\n      userid: 'users/123',\n    }\n  }\n}\n","import md5 from 'md5'\n\nexport default {\n  async initialize({state, actions}) {\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import md5 from 'md5'\n\nexport default {\n\n}\n","import {json} from 'overmind'\n\nexport default {\n  async getExamples({state, actions}) {\n    state.partners = json(state.examples.partners)\n  },\n\n  async initialize({state, actions}) {\n    actions.partners.getExamples();\n  }\n}\n","/* Copyright 2020 Qlever LLC\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport dotenv from 'dotenv'\n\n// TODO: Publish this to npm instead?\nimport libConfig from './lib-config'\nimport config from './config.defaults'\n\ndotenv.config()\n\nexport default libConfig(config)\n","/* Copyright 2020 Qlever LLC\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n  domain: 'localhost',\n  token: 'god',\n  fl_business_id: '5b2a416f6923920001acd471',\n//  rules_path: '/bookmarks/services/ainz/rules',\n  rules_path: '/bookmarks/services/ainz/testrules',\n  shares_path: '/bookmarks/services/ainz/shares',\n  rules_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      services: {\n        _type: 'application/vnd.oada.services.1+json',\n        _rev: 0,\n        ainz: {\n          _type: 'application/vnd.oada.service.1+json',\n          _rev: 0,\n          rules: {\n            _type: 'application/vnd.oada.ainz.rules.1+json',\n            _rev: 0,\n            '*': {\n              _type: 'application/vnd.oada.ainz.rule.1+json',\n              _rev: 0\n            }\n          }\n        }\n      }\n    }\n  },\n  documents_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      trellisfw: {\n        documents: {\n          _type: 'application/vnd.trellisfw.documents.1+json',\n          _rev: 0,\n          '*': {\n            _type: 'application/vnd.trellisfw.document.1+json',\n            _rev: 0\n          }\n        }\n      }\n    }\n  },\n  tasks_tree: {\n    bookmarks: {\n      _type: 'application/vnd.oada.bookmarks.1+json',\n      services: {\n        _type: 'application/vnd.oada.services.1+json',\n        _rev: 0,\n        '*': {\n          _type: 'application/vnd.oada.service.1+json',\n          _rev: 0,\n          jobs: {\n            _type: 'application/vnd.oada.service.jobs.1+json'\n          }\n        }\n      }\n    }\n  }\n}\n","import config from './config'\nconst FL_BUSINESS_ID = config.get('fl_business_id')\n\nexport default {\n  tempA: {\n    text: \"When a Certificate of Insurance has an identifield holder, share it with the associated trading partners.\",\n    share: {\n      template: 'tempA',\n      type: 'trellis',\n//      locations: 'input0',\n//      products: 'input1',\n//      partners: 'input2',\n//      mask: 'input3',\n//      shares: {\n//        [FL_BUSINESS_ID]: {\n//          communities: []\n//        }\n//      }\n    }\n  },\n  tempB: {\n    text: \"When a FSQA Audit has an identifield facility location, share it with the associated trading partners.\",\n    share: {\n      template: 'tempB',\n      type: 'trellis',\n    }\n  },\n  tempC: {\n    text: \"When a FSQA Certificate has an identifield facility location, share it with the associated trading partners.\",\n    share: {\n      template: 'tempC',\n      type: 'trellis',\n    }\n  },\n  tempD: {\n    text: \"When a Letter of Guarantee has an identifield vendor, share it with the associated trading partners.\",\n    share: {\n      template: 'tempD',\n      type: 'trellis',\n    }\n  },\n  temp0: {\n    id: 'temp0',\n    icons: ['foodlogiq.svg'],\n    text: \"When an audit has a location of input0 and a product of input1, sync it to input2 via Food LogiQ.\",\n    input0: {\n      text: 'this location',\n      type: 'locations',\n      values: {},\n    },\n    input1: {\n      text: 'this product',\n      type: 'products',\n      values: {},\n    },\n    input2: {\n      text: 'this partner',\n      type: 'partners',\n      values: {},\n    },\n    input3: {\n      text: 'masked/unmasked',\n      type: 'mask',\n      values: {},\n    },\n    categories: ['FSQA', 'PII'],\n    share: {\n      template: 'temp0',\n      type: 'fl',\n      locations: 'input0',\n      products: 'input1',\n      partners: 'input2',\n      mask: 'input3',\n      shares: {\n        [FL_BUSINESS_ID]: {\n          communities: []\n        }\n      }\n    }\n  },\n  temp1: {\n    id: 'temp1',\n    icons: ['ift.svg'],\n    text: \"When an audit has a location of input0 and a product of input1, sync the input3 copy to IBM Food Trust.\",\n    input0: {\n      text: 'this location',\n      type: 'locations',\n      values: {},\n    },\n    input1: {\n      text: 'this product',\n      type: 'products',\n      values: {},\n    },\n    input3: {\n      text: 'masked/unmasked',\n      type: 'mask',\n      values: {},\n    },\n    categories: ['FSQA', 'PII'],\n    share: {\n      template: 'temp1',\n      type: 'ift',\n      locations: 'input0',\n      products: 'input1',\n      mask: 'input3'\n    }\n  },\n  temp2: {\n    id: 'temp2',\n    icons: ['email.svg'],\n    text: \"When an audit has a location of input0 and a product of input1, email it to input2.\",\n    input0: {\n      text: 'this location',\n      type: 'locations',\n      values: {},\n    },\n    input1: {\n      text: 'this product',\n      type: 'products',\n      values: {},\n    },\n    input2: {\n      text: 'this email',\n      type: 'emails',\n      values: {},\n    },\n    categories: ['FSQA', 'PII'],\n    share: {\n      template: 'temp2',\n      type: 'email',\n      locations: 'input0',\n      products: 'input1',\n      emails: 'input2',\n    }\n  },\n}\n","import config from './config'\nimport md5 from 'md5'\nimport {json} from 'overmind'\nimport _ from 'lodash';\nimport templates from './templates'\n\nexport default {\n  templates: templates,\n  rules: {},\n  partners: (local, state) =>\n    _.keyBy(\n      _.keys(state.partners)\n      .map(k => ({name: k}))\n      .map(obj =>\n        _.assign(obj, {key: md5(JSON.stringify(obj))})\n      )\n    ,'key')\n  ,\n\n  documents: (local, state) =>\n    state.examples.documents,\n\n  locations: (local, state) =>\n    _.keyBy(\n      _.chain(state.partners)\n      .map(partner =>\n        _.values(partner.locations || {}).map(location =>\n          _.assign({}, location, {partner: partner.key })\n        ).map(location =>\n          _.assign(location, {key: md5(JSON.stringify(location))})\n        )\n      )\n      .flatten()\n      .compact()\n      .value()\n    , 'key')\n  ,\n  products: (local, state) => state.examples.products,\n  emails: (local, state) =>\n    _.keyBy(\n      _.chain(state.partners)\n      .map(partner => partner.email)\n      .compact()\n      .map(name => ({name}))\n      .map(obj =>\n        _.assign(obj, {key: md5(JSON.stringify(obj))})\n      )\n      .value()\n    , 'key')\n  ,\n  mask: (local, state) =>\n    state.examples.mask\n  ,\n}\n","import {shareToRules} from './shareRule';\nimport md5 from 'md5'\nimport {json} from 'overmind'\nimport _ from 'lodash';\nimport config from './config'\n\nconst pattern = /(input[0-9]+)/;\n\nconst SHARES_PATH = config.get('shares_path')\n\nfunction processShare(state, rule, share) {\n  share.text = rule.text;\n\n  if (share.products) {\n    share.products = rule[share.products].values;\n  }\n\n  if (share.locations) {\n    share.locations = rule[share.locations].values;\n  }\n\n  if (share.emails) {\n    share.emails = rule[share.emails].values;\n  }\n\n  if (share.partners) {\n    share.partners = rule[share.partners].values;\n  }\n\n  if (share.mask) {\n    share.mask = rule[share.mask].values;\n  }\n\n  return share\n}\n\nexport default {\n  async putShare({state, actions}, share) {\n   let id = md5(JSON.stringify(share));\n   share.key = id;\n   let path = `${SHARES_PATH}/${id}`;\n\n\n   let resource = await actions.oada.put({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      url: `/resources/${id}`,\n      data: share,\n    })\n\n    let _id = resource.headers['content-location'].replace(/^\\//, '');\n\n    let putResponse = await actions.oada.put({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      path,\n      data: {_id, _rev: 0}\n    })\n    return\n  },\n\n  async deleteShare({state, actions}) {\n    let key = state.view.Modals.RulesModal.Edit.key;\n    let path = `${SHARES_PATH}/${key}`;\n    let response = await actions.oada.delete({\n      headers: { 'Content-Type': 'application/vnd.oada.ainz.rule.1+json' },\n      path,\n    })\n  },\n\n  async createShare({state, actions}) {\n    let rule = json(state.view.Modals.RulesModal.Edit.rule);\n    let share = rule.share;\n    let newShare = _.cloneDeep(share);\n    newShare = processShare(state, rule, newShare);\n    await actions.rules.putShare(newShare);\n  },\n\n  async loadShares({state, actions}) {\n    try {\n      let response = await actions.oada.get({path:SHARES_PATH});\n      let results = Object.keys(response.data)\n        .filter(key => key.charAt(0) !== '_')\n      if (results.length > 0) {\n        state.app.config.tabs.rules = true;\n        results.forEach(async (key) => {\n          let shareResponse = await actions.oada.get({path:`${SHARES_PATH}/${key}`});\n          //TODO: this 404s immediately after deleting\n          if (shareResponse && shareResponse.data) actions.rules.mapShare({key, share: shareResponse.data});\n        })\n      }\n\n    } catch(err) {\n      if (err.response && err.response.status === 404) {\n        console.log('no shares present for current user');\n      }\n    }\n  },\n\n  async initialize({state, actions}) {\n    await actions.rules.loadShares();\n  },\n\n  locationStringsFromShare({state, actions}, share) {\n    return share.locations.map((location) =>\n      (_.find(state.rules.Location, location)).name\n    )\n  },\n\n  async mapShare({state, actions}, obj) {\n    // Get the template and apply the share to it\n    let key = obj.key;\n    let share = obj.share;\n    let templateId = share.template;\n    let template = json(state.rules.templates[templateId]);\n    let rule = _.cloneDeep(template);\n\n    // Fill out the inputs\n    _.keys(template.share).filter(key =>\n//      /^input/.test(template.share[key])\n      pattern.test(template.share[key])\n    ).forEach(key => {\n      rule[template.share[key]].values = share[key]\n    })\n    rule.key = share.key;\n    if (share.mappings) rule.mappings = share.mappings;\n\n    // Set the state\n    state.rules.rules[key] = rule;\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import { IConfig } from 'overmind'\n\nimport { createHook } from 'overmind-react'\n\nimport { namespaced } from 'overmind/config'\n\nimport app from './app'\nimport * as oadaHelper from './oada'\nimport * as view from './view'\nimport * as login from './login'\nimport * as examples from './examples'\nimport * as partners from './partners'\nimport * as rules from './rules'\n\nconst oadaCacheOvermind = require('@oada/oada-cache-overmind').default\nconst oada = oadaCacheOvermind('oada');\n\nexport const config = namespaced({\n  app: app('app'),\n  oada,\n  oadaHelper,\n  view,\n  login,\n  examples,\n  partners,\n  rules,\n})\n\ndeclare module 'overmind' {\n  interface Config extends IConfig<typeof config> {}\n}\n\nexport default createHook<typeof config>()\n","import state from './state'\nimport actions from './actions'\nimport config from '../../config'\nimport _ from 'lodash'\nimport urlLib from 'url'\nimport packagejson from '../../../package.json';\n\nexport default function (namespace) {\n  return {\n    async onInitialize({ state, actions, effects }, instance) {\n      console.log('Started app')\n\n      // Add the package.json version to the title\n      if (packagejson && packagejson.version) {\n        document.title = document.title + ' - v'+packagejson.version;\n      }\n\n      let urlObj = urlLib.parse(window.location.href, true);\n\t\t\tlet query = _.cloneDeep(urlObj.query);\n      console.log('Original URL: ', window.location.href);\n\n      //Check if we have a domain in the query parameters.\n      let domain = null;\n\t\t\tif (query.d) {\n        //Use query parameters domain instead of local storage\n        domain = 'https://' + query.d;\n        delete urlObj.query.d;\n        delete urlObj.search;\n        window.history.pushState({}, document.title, urlLib.format(urlObj.format()));\n        console.log('Have domain in query params, using it instead of local storage:', domain);\n\t\t\t} else if (window.localStorage['oada:domain']) {\n        // Populate domain from localStorage if there is a saved one:\n        domain = window.localStorage['oada:domain'];\n        console.log('Have saved domain in localStorage, using it:', domain);\n      }\n\n      //Check if we have a token in the query parameters\n      let token;\n\t\t\tif (query.t) {\n        //Use token from url instead of local storage\n        token = query.t;\n        delete urlObj.query.t;\n        delete urlObj.search;\n        window.history.pushState({}, document.title, urlLib.format(urlObj.format()));\n        console.log('Token found in query parameter, using it instead of local storage:' + token)\n        state.login.dontSaveToken = true; //Don't save the login token after login\n\t\t\t} else if (window.localStorage['oada:'+domain+':token']) {\n        //Check if we have a token in local storage\n        token = window.localStorage['oada:'+domain+':token']\n        console.log('Already have a token for URL ' + domain+ ', logout to clear:', token)\n      } else {\n        if (domain) console.log('No token found for domain', domain)\n      }\n\n      state.login.domain = domain;\n\n      let skin = false;\n      // Populate skin from 1: query param, or 2: localStorage if there is a saved one:\n      if (query.s) {\n        console.log('Using skin query parameter: ', query.s);\n        skin = query.s;\n        delete urlObj.query.s;\n        delete urlObj.search;\n        window.history.pushState({}, document.title, urlLib.format(urlObj.format()));\n      } else if (window.localStorage['skin']) {\n        console.log('Have saved skin in localStorage, using it');;\n        skin = window.localStorage['skin'];\n      }\n      if (!config.skins || !config.skins[skin]) {\n        console.log('WARNING: skin was ',skin,', but that is not listed in config.skins');\n        skin = false;\n      }\n      if (!skin) skin = config.skin;\n      console.log('Using skin ', skin);\n      // Also push skin options to state:\n      state.app.skins = config.skins;\n      // And select one\n      state.app.skin = skin;\n      //If have a domain and a token, auto-login\n      if (domain && token) {\n        state.login.domain = domain;\n        state.login.token = token;\n        await actions.login.login();\n      }\n      //Initialize modules\n      actions.examples.initialize();\n      actions.partners.initialize();\n    },\n    state,\n    actions: actions(namespace)\n  }\n}\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { Dropdown } from \"semantic-ui-react\";\nimport overmind from \"../../overmind\";\n\nfunction TopBar() {\n  const { actions, state } = overmind();\n  const skin = state.app.skin;\n  const tp = state.view.tp;\n\n  let partnerInfo = tp ? (\n    <div>\n      <div css={{ fontWeight: \"bold\", display: \"flex\", flexDirection: \"row\" }}>\n        Trading Partner:\n        <div css={{ fontWeight: \"normal\" }}>{` ${tp}`}</div>\n      </div>\n    </div>\n  ) : (\n    <div>Smithfield</div>\n  );\n\n  let tpItem = tp ? (\n    <Dropdown.Item\n      icon=\"sign-out\"\n      text=\"Back to Smithfield\"\n      value=\"sf\"\n      onClick={actions.view.TopBar.toSmithfield}\n    />\n  ) : undefined;\n\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        backgroundColor: \"#fff\",\n        height: \"100px\",\n        borderBottom: \"1px solid #979797\",\n      }}\n    >\n      <img\n        css={{\n          height: \"50px\",\n          paddingLeft: \"20px\",\n        }}\n        src={\"skins/\" + skin + \"/\" + state.app.skins[skin].logo.src}\n        alt=\"logo\"\n      />\n      <div css={{ marginRight: 50, display: \"flex\", flexDirection: \"column\" }}>\n        <Dropdown fluid icon=\"user circle\" text={state.login.name}>\n          <Dropdown.Menu direction=\"left\">\n            {tpItem}\n            <Dropdown.Item\n              icon=\"sign-in\"\n              text=\"Login as Trading Partner\"\n              value=\"tp\"\n              onClick={actions.view.TopBar.tpSelect}\n            />\n            <Dropdown.Item\n              icon=\"power\"\n              text=\"Logout\"\n              value=\"logout\"\n              onClick={actions.view.TopBar.logout}\n            />\n          </Dropdown.Menu>\n        </Dropdown>\n        {partnerInfo}\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/data.f52d34dd.svg\";","export default __webpack_public_path__ + \"static/media/connections.709c4a04.svg\";","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport _ from \"lodash\";\n\nimport iconData from \"./data.svg\";\nimport iconConnections from \"./connections.svg\";\nimport overmind from \"../../overmind\";\n\nconst activeSideSelection = {\n  img: {\n    filter:\n      \"invert(22%) sepia(76%) saturate(6476%) hue-rotate(201deg) brightness(92%) contrast(100%)\",\n    opacity: 0.6,\n  },\n  div: {\n    color: \"#0066CB\",\n  },\n};\n\nfunction SideSection(props) {\n  const { actions } = overmind();\n  const myActions = actions.view.SideBar;\n  return (\n    <div\n      onClick={(evt) => {\n        myActions.pageSelected(props.name);\n      }}\n      css={css`\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 125px;\n        width: 150px;\n        cursor: pointer;\n        border-bottom: 1px solid #979797;\n        &:hover {\n          ${activeSideSelection}\n        }\n        &.selected {\n          ${activeSideSelection}\n        }\n        & img {\n          opacity: 0.41;\n        }\n        & div {\n          opacity: 0.84;\n        }\n      `}\n      className={props.selected ? \"selected\" : null}\n    >\n      <img\n        css={{\n          height: \"41px\",\n          paddingBottom: \"7px\",\n        }}\n        src={props.icon}\n        fill={\"#666\"}\n      />\n      <div>{props.children}</div>\n    </div>\n  );\n}\n\nfunction SideBar() {\n  const { state } = overmind();\n  const tp = state.view.tp;\n  let selectedPage = state.view.Pages.selectedPage;\n  if (selectedPage == null) {\n    //Pick first page that we have data for and access to\n    const pages = [\n      {\n        type: \"documents\",\n        page: \"Data\",\n        showIfEmpty: true,\n      },\n      {\n        type: \"cois\",\n        page: \"COIS\",\n      },\n      {\n        type: \"fsqa-audits\",\n        page: \"Audits\",\n      },\n      {\n        type: \"fsqa-certificates\",\n        page: \"Certificates\",\n      },\n      {\n        type: \"letters-of-guarantee\",\n        page: \"LettersOfGuarantee\",\n      },\n    ];\n    _.forEach(pages, (page) => {\n      if (_.get(state.app.config, `tabs.${page.type}`) === true) {\n        if (page.showIfEmpty || !_.isEmpty(_.get(state.oada.data, page.type))) {\n          selectedPage = page.page;\n          return false;\n        }\n      }\n    });\n  }\n\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        borderRight: \"1px solid #979797\",\n      }}\n    >\n      {!state.app.config.tabs.documents ||\n      state.oada.data.documents == null ? null : (\n        <SideSection\n          selected={selectedPage === \"Data\"}\n          name={\"Data\"}\n          icon={iconData}\n        >\n          {\"Unidentified Files\"}\n        </SideSection>\n      )}\n      {!state.app.config.tabs.cois ||\n      state.oada.data.cois == null ||\n      _.isEmpty(state.oada.data.cois) ? null : (\n        <SideSection\n          selected={selectedPage === \"COIS\"}\n          name={\"COIS\"}\n          icon={iconData}\n        >\n          {\"COIS\"}\n        </SideSection>\n      )}\n      {!state.app.config.tabs.audits ||\n      state.oada.data[\"fsqa-audits\"] == null ||\n      _.isEmpty(state.oada.data[\"fsqa-audits\"]) ? null : (\n        <SideSection\n          selected={selectedPage === \"Audits\"}\n          name={\"Audits\"}\n          icon={iconData}\n        >\n          {\"Audits\"}\n        </SideSection>\n      )}\n      {!state.app.config.tabs.certificates ||\n      state.oada.data[\"fsqa-certificates\"] == null ||\n      _.isEmpty(state.oada.data[\"fsqa-certificates\"]) ? null : (\n        <SideSection\n          selected={selectedPage === \"Certificates\"}\n          name={\"Certificates\"}\n          icon={iconData}\n        >\n          {\"Certificates\"}\n        </SideSection>\n      )}\n      {!state.app.config.tabs.lettersOfGuarantee ||\n      state.oada.data[\"letters-of-guarantee\"] == null ||\n      _.isEmpty(state.oada.data[\"letters-of-guarantee\"]) ? null : (\n        <SideSection\n          selected={selectedPage === \"LettersOfGuarantee\"}\n          name={\"Letters of Guarantee\"}\n          icon={iconData}\n        >\n          {\"Letters of Guarantee\"}\n        </SideSection>\n      )}\n      {tp || !state.app.config.tabs.reports ? null : (\n        <SideSection\n          selected={selectedPage === \"Reports\"}\n          name={\"Reports\"}\n          icon={iconData}\n        >\n          {\"Reports\"}\n        </SideSection>\n      )}\n      {tp || !state.app.config.tabs.rules ? null : (\n        <SideSection\n          selected={selectedPage === \"Rules\"}\n          name={\"Rules\"}\n          icon={iconConnections}\n        >\n          {\"Rules\"}\n        </SideSection>\n      )}\n    </div>\n  );\n}\n\nexport default SideBar;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Data;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>\n          {\"Unidentified Files\"}\n        </div>\n        <Input\n          type=\"search\"\n          id=\"user-search\"\n          icon=\"search\"\n          iconPosition=\"left\"\n          placeholder=\"Search...\"\n          style={{ borderRadius: 38 }}\n          onChange={(evt) => myActions.onSearch(evt.target.value)}\n        />\n      </div>\n      <Button icon onClick={() => myActions.openFileBrowser()}>\n        <Icon name=\"plus\" />\n        <span\n          css={{\n            marginLeft: 7,\n            marginRight: 4,\n            color: \"#0061C0\",\n            fontWeight: 100,\n          }}\n        >\n          Add\n        </span>\n      </Button>\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/upload.9df2cb65.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./upload.svg\";\n\nfunction uploadIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default uploadIcon;\n","export default __webpack_public_path__ + \"static/media/processing.b6770070.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./processing.svg\";\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"20px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default processingIcon;\n","export default __webpack_public_path__ + \"static/media/signed.6b93ecff.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./signed.svg\";\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n        filter:\n          \"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default signedIcon;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./target_logo.png\";\nimport { Popup } from \"semantic-ui-react\";\n\nfunction TargetIcon(props) {\n  return (\n    <Popup\n      content=\"Processed by Target\"\n      position=\"right center\"\n      trigger={\n        <img\n          css={{\n            height: props.height || \"40px\",\n            marginTop: \"3px\",\n          }}\n          src={icon}\n        />\n      }\n    />\n  );\n}\n\nexport default TargetIcon;\n","export default \"data:image/png;base64,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\"","import _ from 'lodash'\nlet loaders = {};\n\nfunction wrapper(overmindLoadFunc) {\n  let loading = {}\n  let loadBatch = {};\n  let omLoadFunc = overmindLoadFunc;\n\n  function loadRows() {\n//    const docKeys = _.keys(loadBatch);\n    const documents = _.clone(loadBatch);\n    loadBatch = {};\n    console.log('loading rows', documents);\n    if (omLoadFunc) {\n      return omLoadFunc(documents);\n//      return omLoadFunc(docKeys);\n    } else {\n      if (omLoadFunc == null) {\n        console.warn('No overmind action provided to infiniteLoader')\n      } else {\n        console.warn('Overmind action ', omLoadFunc, ' not found.')\n      }\n    }\n  }\n  let debouncedLoadRows = _.debounce(loadRows, 300, {maxWait: 1000});\n  function getRow(row) {\n    //Check if loaded\n//    if (_.isEmpty(_.omit(row, 'docKey'))) {\n    if (!row.loaded) {\n      //Not loaded, load it\n      if (loading[row.docKey] != true) {\n        loading[row.docKey] = true\n        loadBatch[row.docKey] = row;\n        debouncedLoadRows()\n      }\n    }\n  }\n  function resetLoading(index) {\n    if (index == null) {\n      loading = {}\n    }\n  }\n  return  {\n    getRow,\n    resetLoading\n  }\n}\n\nexport default function infiniteLoader(id, overmindLoadFunc) {\n  if (loaders[id] != null) return loaders[id];\n  loaders[id] = wrapper(overmindLoadFunc);\n  return loaders[id];\n}\n","import React, { useEffect, useRef } from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport { Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport UploadingIcon from \"./icons/UploadIcon\";\nimport ProcessingIcon from \"./icons/ProcessingIcon\";\nimport SignedIcon from \"./icons/SignedIcon\";\nimport TargetIcon from \"./icons/TargetIcon\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction Table({ docType, identified }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Data.Table;\n  const myState = state.view.Pages.Data;\n  let collection = myState.Table || [];\n  collection = identified\n    ? collection.filter((c) => c.identified)\n    : collection.filter((c) => !c.identified);\n  const il = infiniteLoader(\n    identified ? \"IdentifiedDocuments\" : \"Documents\",\n    myActions.loadDocumentKeys\n  );\n  //  if (identified && collection.length === 0) return null;\n\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .ReactVirtualized__Table__Grid {\n              padding-right: 2px;\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=\"\"\n            dataKey=\"processingService\"\n            width={40}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== \"target\" ? (\n                \"\"\n              ) : identified ? (\n                <TargetIcon />\n              ) : (\n                <Icon name=\"circle notched\" loading />\n              )\n            }\n          />\n          <Column label=\"Name\" dataKey=\"filename\" width={200} />\n          <Column\n            width={200}\n            label=\"Type\"\n            dataKey=\"type\"\n            cellRenderer={({ rowData }) => {\n              if (rowData.type) {\n                if (rowData.masked) {\n                  return <div>{`${rowData.type} - Masked`}</div>;\n                }\n                return <div>{rowData.type}</div>;\n              } else if (rowData.status == \"processing\") {\n                return (\n                  <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                    <ProcessingIcon />\n                    <div css={{ marginLeft: 3 }}>{\"Processing...\"}</div>\n                  </div>\n                );\n              } else if (rowData.status == \"uploading\") {\n                return (\n                  <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                    <UploadingIcon />\n                    <div css={{ marginLeft: 3 }}>{\"Uploading...\"}</div>\n                  </div>\n                );\n              } else if (_.isEmpty(_.omit(rowData, \"docKey\"))) {\n                return <div></div>;\n              } else {\n                return <div></div>;\n              }\n            }}\n          />\n          <Column width={140} label=\"Added\" dataKey=\"createdAt\" />\n          <Column\n            dataKey=\"name\"\n            className=\"signature\"\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null;\n              return (\n                <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                  <SignedIcon />\n                  <div\n                    css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}\n                  >\n                    {\"Signed\"}\n                  </div>\n                </div>\n              );\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default Table;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction RecentsTopBar() {\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>\n          {\"Recently Identified Files\"}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RecentsTopBar;\n","import React, { useEffect, useRef } from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { useDropzone } from \"react-dropzone\";\nimport overmind from \"../../../overmind\";\n\nfunction Dropzone(props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Data.Dropzone;\n  const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\n    onDrop: myActions.filesDropped,\n    noClick: true,\n  });\n\n  const prevOpen = useRef(false);\n  useEffect(() => {\n    if (!prevOpen.current && props.open) open();\n    prevOpen.current = props.open;\n  });\n\n  return (\n    <div css={{ flex: 1, display: \"flex\" }} {...getRootProps()}>\n      {props.children}\n      {<input id=\"user-search-2\" {...getInputProps()} />}\n    </div>\n  );\n}\n\nexport default Dropzone;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport Table from \"./Table\";\nimport RecentsTopBar from \"./RecentsTopBar\";\nimport Dropzone from \"./Dropzone\";\nimport overmind from \"../../../overmind\";\n\nfunction Data({}) {\n  const { state } = overmind();\n  const myState = state.view.Pages.Data;\n  const some = myState.Table.some((obj) => obj.identified);\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n        <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n          <Dropzone open={myState.openFileBrowser}>\n            <Table docType=\"documents\" identified={false} />\n          </Dropzone>\n        </div>\n      </div>\n      {some ? <RecentsTopBar /> : undefined}\n      {some ? (\n        <div\n          css={css`\n            height: 1px;\n            background: #979797;\n            margin-left: 20px;\n            margin-right: 20px;\n          `}\n        />\n      ) : undefined}\n      {some ? (\n        <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n          <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n            <Table docType=\"documents\" identified={true} />\n          </div>\n        </div>\n      ) : undefined}\n    </div>\n  );\n}\n\nexport default Data;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.COIS;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>{\"COIS\"}</div>\n        <Input\n          type=\"search\"\n          id=\"user-search\"\n          icon=\"search\"\n          iconPosition=\"left\"\n          placeholder=\"Search...\"\n          style={{ borderRadius: 38 }}\n          onChange={(evt) => myActions.onSearch(evt.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/upload.9df2cb65.svg\";","export default __webpack_public_path__ + \"static/media/processing.b6770070.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./processing.svg\";\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"20px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default processingIcon;\n","export default __webpack_public_path__ + \"static/media/signed.6b93ecff.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./signed.svg\";\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n        filter:\n          \"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default signedIcon;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./target_logo.png\";\nimport { Popup } from \"semantic-ui-react\";\n\nfunction TargetIcon(props) {\n  return (\n    <Popup\n      content=\"Processed by Target\"\n      position=\"right center\"\n      trigger={\n        <img\n          css={{\n            height: props.height || \"40px\",\n            marginTop: \"3px\",\n          }}\n          src={icon}\n        />\n      }\n    />\n  );\n}\n\nexport default TargetIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAZKADAAQAAAABAAAAZAAAAAA9ZvBfAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAANc0lEQVR4Ae1bC1xVRRof1EK0UERIEeUhhoiKCCk+IEk0w3zho7TayhR77Govq1+v3XRra7MtsyzYtsTa2sVAzVZRMBVSFEVBVETw8gzlrchDBGXnf7iD9557zuXe67ly7Dff73fuOfPNN9/M/L8zM983cy4hnDgCHAGOAEeAI8AR4AhwBDgCHAGOAEeAI8AR4AhwBDgCHAGOAEeAI8AR4AhwBDgCHAGOAEeAI8AR4AhwBDgCHAGOAEeAI8AR4AjcLARsblZF5tbT2tpqo6mpsU/aoxlcXl/vXlZT18uum22DU6/bS7z7OeTNnDy8wsbG5pq5etUurzqDUEN0i997avZPqWfWntCUuxgBsCnYz/3NWfe5fhnq61tnRO6WylKVQZLSzt6zYWfG7uzCyjvNQTF0tOfiD58J20BHTKs55dQoqwqDYHqK2XHsxXXxh9dYClJfhzu2JPx90TxqlKuW6lBDuS5qaMTRM+eW3Igx0IfKmrrZC96O/YkaVxV9shTXbpYWVKpcdXXjoCUfbY1WQp/m3IXw16KSPqC6Vor1YRR+FpfqffZc7aLsgvIIYkMcfdzv2urer9f6FXPHZqlluuvUKQsg/e27lPS4fdn+YgCl0t6D+pKhgxyJ/5D+Qvax3HPkdFEVySmq1BNf89xU/1B/jwzGXBt7MGDjrszNND2Q8XTvdrZdT77+0L2h4SFDKnT5nfHcqQbZf6rUbfk/thV01PFJ/u7kiQdGkeEezpKiJ/LLyYYdGWTvsTZVwSPdcj5ZPm0oNXi3dXGH1sckZC6VLKjPvBa1coZvoLfLaX32zU116nyblVv6WEfdfWfxJLLm2amyxkB5GAoykAWlHC/0rmtofvnw6dIyE42BYl1eWb/reFVrqz0SnUVdO6ti1Os1IeLrorKLfeTagFHx6NSRctkG/LsHOpIrLVdJRt554j3IcWp8crYd1S/IOfXuSTz7O5Ae3W8jzVSmucUwpmxqvtq1a/PV7jtiv9ppoPwmMTptUYc3tGhV3GC5fgb5upI/RoyRy5blo8zpwkphXckvrRHkol5+kAR468eY/07MIh/HphrooQaMpG17qbMW+U6ZsrCYUyRm1Fy6bAAIGHiLX1k4QTLPFOYriyaQLE05KamoJUf+GWlgDOh4ZMoI8v6yMAN1RRUXe1JmsLaNBvnWZty0Rb22ttXxZHHx/My88kXlNXVjLtRdtt2fVUxarhpOHXib8VbfCAUujRYADwv0NKrmza9+IQmH8tplbG/vRoKGDSC97+je5OxwR5qfl/P3vgMHbrK3t6lqF7Lig9WnLPqm2X6++cja0Bejl5naDx+3vqaKysr5ejiRjoyBwsEjB+kZpOlKC9mXUYgsW2Rrry8+iz8c9dycwBV0KmtCprXIqgbZn5nn/MjquOycoirZhVvcMY/+vYkiBnGXdpHF9Q11cyLD3J3IqQLjIcg3248uO3CicD7tk88EP69ysR6l0labstJO5vd75uNdGtpQu44aO374QDI5wIMGfX2Jl2sf0rXLjS9t/0s9Q6aPu7ujqtvz4Y2dKa4iB0+VkC0pRkORxi9emOo5xtfjfHthBR+sYpD8/Nbu896NxlvU4a7t6iX3kQfGeinYpTZVBecvEPd+vS3Sm55TSl78bCepv9wsV/7Sj29EOnt42Eh7JXKlTOArbhB4Jwve3rRdc65mWkf1wwNSM01/9XtSVi191EJjmoTYVfPDlXaPb3xuECEaHZ/ub4oxHp48XFTS/CSCOwCG+R8XnqUCPvM1t5WIekne00Mf0VdLdcuVU3RRx+iYtvK7WLnKGH+UVz/y8sPjWdKse+rJEpJ1tkyY64/TuxSNHHwXdV1dyQh6H0cDTEvJ1dmevPTQePLRfw9IqohPzY6lfR6i5ChR1CDb0nLcKy80yEbfrFfTx5u+2LIy9DiX/LA7i+xMO8tYsncYihkr2M+NRIQMpe6tm6y8sYyFYcNJzM4MQvtlIIa+os80I98g00KGogZJOVI005R2wM00h6J/SifR29INiiCA7NurB3Hq3UPIq6CgVV5sIFiUGaVkFhJcj9E9sRXzgxjbrLtrX3tJg0CJts9rzVJoRFhRgxSUXZhrpC4hC9si3nQT0BT6jW59rIpJ1gN48IA+ZHbwUHLvKDfi4ijtxJVWXRKCO7ivZ3+rFqr6dtdxUlXbSP7y5CTSpYt5vswApzuFDUupNmv7rE6DlNXUj5JqtC7PhwZiplBd4xXy52/2kozc6+7+s3PuIQsnjyB2tm3v0cX6JpJXor+j4eXqKBhqIXUaZk8cKkxz6zcfFqrcfjCXVNER9M5TocLIMqUdkBlAR4gcmdJnubJSfEVHSCtpxbaC9GurrV1T2vbGSjVGl7c6Zp+eMWJen0OwHQLCwr6dBn47dPagdMsirgmnQSEW9MXh/mSsjyt5/D0cGBJyKPs38qdPtpO1yx8gzg7YR+yYisvbtvClJLV9lsqyiKeo2+tk3yOro1Zghxe7sMboh6Qssjv9+jqJeIUZYzWdwgConDGgF3mQgSwIZXVjntySajpyTgh5pvwUl8u315Q+m1IHk1HUII69eyYyxcbuafQtlSNsX+gu4Lpb5DNe+4Fs/dXotoaeWsiiDCNdXTD6adFZPJMT342NEFP7LNYpl1bUICEjPLbLVaTL35ycrZvUe8bB0aWGKwIPawbbsX3sr/HkHF2spQhb9XLb9SiDsiDogk4Qtv3j98m3QxCiP+vi0gjWKjkytc9y5cV8RQ3y6P2+J2kFhgccolrpl4mEHq+KuIQcOFFMsCkIgjeFBRyEqQdlLCWUZdMXdEI3CG0wpvc8jfxjEto/XpGq/pq2z1J5FvEUNQiNWFsign2eN6Ul732bYmCUPUevrxtz7/URvCks4HLTVOSMAGFkwHPDhVECnhRBB3TBQ4NuRolH5APN5z9NYGKSd/QVfZbMtJCpqEHQhvt9g7+kN5NcKRgFQR+LgnXPJEL93aGOyE1v374ZQSJnBgjHs4htcCFQBA95UsR0Md2QKaS7wmJClD/5hY0kTxvDiPO16WptX2WyLWMr6vaiCYGBNs3U3/d766tfik1pEhbw+JRsQt82kkMXdBCAxVciNZcayS86o4bpiwjxaT/EAnifa+OMgLv7CwbBARdkxNMidEEndKMORPQF59tc2ixNGdHQjyLKquv1nApWp/hOjw380Fcx/0bTihsEDQoPGlISteVIUPTP6QdNaSBGiK5nhe0QEACSovBxQwR2HnVfF7+/tV0EAHu6OAiLN2TEBoEgdAZ427UHhhghOH83hyIfDAhCH80pY6qs4lMWq3jZ7MBDT0cEDaRpk6YvVg53tjely8Mz86awWwz68D+Gu7Cb9p4S8iDD5AWG6EeuDpGYOFmNPqFv4gyl0lYzCBq4NNyvJOrpyH50OlpOkx16X6Z2qp5uq4Dwna8cMRm5fDP519AH9AV9MrOsWeJWmbJ0W6CdZ9fRc4Mv4pJPjdiVpplZWVM/vaK2YVTD5ebbdGXZM3ZtpWjZmp8F9rrnw4VtkbH0zANxiy6t1J6zHKfb9YjW5UiuDshTB6GZRuAZ9D8n26aO8fh5bsgwfB3f8oacMgX5VjcIa6vWPTxG07jeAR8HWvTWlV4u9Iqd+1bsWMzp2EIHYT2QIhxQYZ8KH0dgWtpP45eT+RXkORr04SMJEGSkiOlkdbjRc/e41QswBS2gF7YQrtG2trKy5q0urJTl95tmEKkmajsOP76IGmci/a9GHjWIGxbnigv1gjd032gPA08LDgDcWxC8JVxi0nUSWB50OdxpJ+hmZya0zkKaP1H7wjDRTrtbdQ0xp1cAhL6tU1iZPccKhMc51H2VInhGiGEALJ36hAvP4Ml5TUwX0w29qFMtxkB7VGMQNGbFvKBcQmyEDUr6Jx7S2NQiTE2z6LmGFGEUYF3JLqwQLjxLjQyUhQ5Mc9AJ3W1kk9hWpzapgpuqDAI85ocMW4I7Tvpwhg566/GQ9kBQYJj5g0AROkDQyU4RWV1mqrOquHlnmVZtynXlocu/+Vdtw5XF4GDLnO34Yitdbsf3emn9p/70mHfb+wsFZtIRDaH/QRSe7Xvc/vWeT598Sl+681OqGyGA5MnpoxG3NOKZAYhnACs3fSFfTJBlxkCejq5GbR3iIp2eVuUIASqvRiWOSDqsOc4QsvQIF+XhErMjXKTD7vEc+cGyKfoBDDJUQKo1CLB59cvEWXSa2cJwMvUjh1498U8COsToAo41g33kAB6d/mZ/8PSU6xtgYKqIVG0Q4PTuhuTJ8b9mt038NG3pZ0DQFTHRJ+yNJ0J241mtpHqDALiNOzOd1246mEwfvXWBREDY0YdyWvkc+pFcyB/u98MX+aqmW8IgQBDbLB9vSg1JOJj7fVXtZcPQXAJmR/vupdOChix6Yf64ZO2ugISUuli3jEEYbDBMamaJy1FNaRiNzOdV1zZNqaptEBYNR/seTX3sbRPpyPlxtKdL0jg/19JbxRCsf7+LO4yE63fRGd4JjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEVAUgf8D7xMgS7xQsnEAAAAASUVORK5CYII=\"","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport UploadingIcon from \"./icons/UploadIcon\";\nimport ProcessingIcon from \"./icons/ProcessingIcon\";\nimport SignedIcon from \"./icons/SignedIcon\";\nimport TargetIcon from \"./icons/TargetIcon\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction Table({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.COIS.Table;\n  const myState = state.view.Pages.COIS;\n  const collection = myState.Table || [];\n  const il = infiniteLoader(\"COIS\", myActions.loadDocumentKeys);\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .ReactVirtualized__Table__Grid {\n              padding-right: 2px;\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=\"\"\n            dataKey=\"processingService\"\n            width={50}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== \"target\" ? (\n                \"\"\n              ) : (\n                <TargetIcon />\n              )\n            }\n          />\n          <Column label=\"Holder\" dataKey=\"holder\" width={400} />\n          <Column label=\"Producer\" dataKey=\"producer\" width={300} />\n          <Column label=\"Insured\" dataKey=\"insured\" width={300} />\n          <Column width={200} label=\"Added\" dataKey=\"createdAt\" />\n          <Column label=\"Share Status\" dataKey=\"shareStatus\" width={300} />\n          <Column\n            dataKey=\"name\"\n            className=\"signature\"\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null;\n              return (\n                <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                  <SignedIcon />\n                  <div\n                    css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}\n                  >\n                    {\"Signed\"}\n                  </div>\n                </div>\n              );\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default Table;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport Table from \"./Table\";\nimport overmind from \"../../../overmind\";\n\nfunction Data() {\n  const { state } = overmind();\n  const myState = state.view.Pages.COIS;\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n        <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n          <Table docType=\"cois\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Audits;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>{\"Audits\"}</div>\n        <Input\n          type=\"search\"\n          id=\"user-search\"\n          icon=\"search\"\n          iconPosition=\"left\"\n          placeholder=\"Search...\"\n          style={{ borderRadius: 38 }}\n          onChange={(evt) => myActions.onSearch(evt.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/upload.9df2cb65.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./upload.svg\";\n\nfunction uploadIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default uploadIcon;\n","export default __webpack_public_path__ + \"static/media/processing.b6770070.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./processing.svg\";\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"20px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default processingIcon;\n","export default __webpack_public_path__ + \"static/media/signed.6b93ecff.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./signed.svg\";\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n        filter:\n          \"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default signedIcon;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./target_logo.png\";\nimport { Popup } from \"semantic-ui-react\";\n\nfunction TargetIcon(props) {\n  return (\n    <Popup\n      content=\"Processed by Target\"\n      position=\"right center\"\n      trigger={\n        <img\n          css={{\n            height: props.height || \"40px\",\n            marginTop: \"3px\",\n          }}\n          src={icon}\n        />\n      }\n    />\n  );\n}\n\nexport default TargetIcon;\n","export default \"data:image/png;base64,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\"","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport UploadingIcon from \"./icons/UploadIcon\";\nimport ProcessingIcon from \"./icons/ProcessingIcon\";\nimport SignedIcon from \"./icons/SignedIcon\";\nimport TargetIcon from \"./icons/TargetIcon\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction Table({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Audits.Table;\n  const myState = state.view.Pages.Audits;\n  const collection = myState.Table || [];\n  const il = infiniteLoader(\"Audits\", myActions.loadDocumentKeys);\n  const now = moment();\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .ReactVirtualized__Table__Grid {\n              padding-right: 2px;\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=\"\"\n            dataKey=\"processingService\"\n            width={40}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== \"target\" ? (\n                \"\"\n              ) : (\n                <TargetIcon />\n              )\n            }\n          />\n          <Column label=\"Name\" dataKey=\"filename\" width={400} />\n          <Column\n            width={200}\n            label=\"Type\"\n            dataKey=\"type\"\n            cellRenderer={({ rowData }) => {\n              if (rowData.type) {\n                if (rowData.masked) {\n                  return <div>{`${rowData.type} - Masked`}</div>;\n                }\n                return <div>{rowData.type}</div>;\n              } else if (rowData.status == \"processing\") {\n                return (\n                  <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                    <ProcessingIcon />\n                    <div css={{ marginLeft: 3 }}>{\"Processing...\"}</div>\n                  </div>\n                );\n              } else if (rowData.status == \"uploading\") {\n                return (\n                  <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                    <UploadingIcon />\n                    <div css={{ marginLeft: 3 }}>{\"Uploading...\"}</div>\n                  </div>\n                );\n              } else if (_.isEmpty(_.omit(rowData, \"docKey\"))) {\n                return <div></div>;\n              } else {\n                return <div>{\"Unknown\"}</div>;\n              }\n            }}\n          />\n          <Column\n            width={80}\n            label=\"Score\"\n            dataKey=\"score\"\n            cellRenderer={({ rowData }) => {\n              return `${_.get(rowData, \"score.value\")}${_.get(\n                rowData,\n                \"score.units\"\n              )}`;\n            }}\n          />\n          <Column\n            width={200}\n            label=\"Valid\"\n            dataKey=\"valid\"\n            cellRenderer={({ rowData }) => {\n              let validity = null;\n              if (rowData.validity) {\n                validity = {\n                  start: moment(rowData.validity.start, \"M/D/YYYY\"),\n                  end: moment(rowData.validity.end, \"M/D/YYYY\"),\n                };\n                if (!validity.start || !validity.start.isValid())\n                  validity = null;\n                if (!validity.end || !validity.end.isValid()) validity = null;\n                // If it starts after today, or ended before today, it's expired\n                validity.expired =\n                  validity.start.isAfter(now) || validity.end.isBefore(now);\n              }\n              let validLabel = \"Unknown\";\n              let validColor = \"red\";\n              if (!validity) {\n                //Do nothing\n              } else if (validity.expired) {\n                if (validity.start.isAfter(now)) {\n                  validLabel = `Begins ${validity.end.format(\"M/D/YYYY\")}`;\n                  validColor = \"yellow\";\n                } else {\n                  validLabel = `Expired ${validity.end.format(\"M/D/YYYY\")}`;\n                  validColor = \"red\";\n                }\n              } else {\n                validLabel = `Until ${validity.end.format(\"M/D/YYYY\")}`;\n                validColor = \"green\";\n              }\n              return <div css={{ color: validColor }}>{validLabel}</div>;\n            }}\n          />\n          <Column width={100} label=\"Shares\" dataKey=\"shares\" />\n          <Column width={200} label=\"Added\" dataKey=\"createdAt\" />\n          <Column\n            dataKey=\"name\"\n            className=\"signature\"\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null;\n              return (\n                <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                  <SignedIcon />\n                  <div\n                    css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}\n                  >\n                    {\"Signed\"}\n                  </div>\n                </div>\n              );\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default Table;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport Table from \"./Table\";\nimport overmind from \"../../../overmind\";\n\nfunction Data() {\n  const { state } = overmind();\n  const myState = state.view.Pages.COIS;\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n        <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n          <Table docType=\"fsqa-audits\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Certificates;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>{\"Certificates\"}</div>\n        <Input\n          type=\"search\"\n          id=\"user-search\"\n          icon=\"search\"\n          iconPosition=\"left\"\n          placeholder=\"Search...\"\n          style={{ borderRadius: 38 }}\n          onChange={(evt) => myActions.onSearch(evt.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/upload.9df2cb65.svg\";","export default __webpack_public_path__ + \"static/media/processing.b6770070.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./processing.svg\";\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"20px\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default processingIcon;\n","export default __webpack_public_path__ + \"static/media/signed.6b93ecff.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./signed.svg\";\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n        filter:\n          \"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default signedIcon;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./target_logo.png\";\nimport { Popup } from \"semantic-ui-react\";\n\nfunction TargetIcon(props) {\n  return (\n    <Popup\n      content=\"Processed by Target\"\n      position=\"right center\"\n      trigger={\n        <img\n          css={{\n            height: props.height || \"40px\",\n            marginTop: \"3px\",\n          }}\n          src={icon}\n        />\n      }\n    />\n  );\n}\n\nexport default TargetIcon;\n","export default \"data:image/png;base64,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\"","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport UploadingIcon from \"./icons/UploadIcon\";\nimport ProcessingIcon from \"./icons/ProcessingIcon\";\nimport SignedIcon from \"./icons/SignedIcon\";\nimport TargetIcon from \"./icons/TargetIcon\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction Table({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Certificates.Table;\n  const myState = state.view.Pages.Certificates;\n  const collection = myState.Table || [];\n  const il = infiniteLoader(\"Certificates\", myActions.loadDocumentKeys);\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .ReactVirtualized__Table__Grid {\n              padding-right: 2px;\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=\"\"\n            dataKey=\"processingService\"\n            width={70}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== \"target\" ? (\n                \"\"\n              ) : (\n                <TargetIcon />\n              )\n            }\n          />\n          <Column label=\"Organization\" dataKey=\"organization\" width={400} />\n          <Column label=\"Location\" dataKey=\"org_location\" width={300} />\n          <Column width={200} label=\"Added\" dataKey=\"createdAt\" />\n          <Column\n            dataKey=\"name\"\n            className=\"signature\"\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null;\n              return (\n                <div css={{ display: \"flex\", alignItems: \"center\" }}>\n                  <SignedIcon />\n                  <div\n                    css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}\n                  >\n                    {\"Signed\"}\n                  </div>\n                </div>\n              );\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default Table;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport Table from \"./Table\";\nimport overmind from \"../../../overmind\";\n\nfunction Data() {\n  const { state } = overmind();\n  const myState = state.view.Pages.Certificates;\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n        <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n          <Table docType=\"fsqa-certificates\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\n//import { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n//  let myActions = actions.view.Pages.Rules;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <div\n          css={{\n            fontSize: 27,\n            marginRight: 15,\n            marginTop: 10,\n            marginBottom: 9,\n          }}\n        >\n          {\"Current Rules\"}\n        </div>\n      </div>\n      {/*\n        <Button onClick={evt=>{myActions.addRuleClicked()}}icon>\n          <Icon  name='plus' />\n          <span css={{marginLeft: 7, marginRight: 4, color: '#0061C0', fontWeight: 100}}>Add</span>\n        </Button>\n        */}\n    </div>\n  );\n}\n\nexport default TopBar;\n","export default __webpack_public_path__ + \"static/media/ift.1e154734.svg\";","export default __webpack_public_path__ + \"static/media/foodlogiq.5211f145.svg\";","export default __webpack_public_path__ + \"static/media/email.ca6dbb21.svg\";","import _ from \"lodash\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport overmind from \"../../../overmind\";\nimport iconIFT from \"./icons/ift.svg\";\nimport iconFoodLogiq from \"./icons/foodlogiq.svg\";\nimport iconEmail from \"./icons/email.svg\";\n\nfunction Rule(props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Rules;\n  const pattern = /(input[0-9]+)/g;\n  let r = props.rule;\n  return (\n    <div\n      onClick={() => {\n        myActions.editRuleClicked(r);\n      }}\n    >\n      <div\n        css={css`\n          position: relative;\n          top: 0px;\n          border: 1px solid rgba(34, 36, 38, 0.15);\n          padding: 20px;\n          border-radius: 12px;\n          margin: 7px;\n          cursor: pointer;\n          transition: all 300ms;\n          transition-property: box-shadow, top;\n          &:hover {\n            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.25);\n            top: -2px;\n            border: 1px solid #fff;\n          }\n        `}\n      >\n        <div css={{ display: \"flex\", alignItems: \"center\" }}>\n          <div css={{ display: \"flex\", alignItems: \"center\", marginRight: 20 }}>\n            {_.map(r.icons, (i) => {\n              if (i === \"ift.svg\") {\n                return (\n                  <img\n                    key={i}\n                    css={{\n                      height: \"25px\",\n                    }}\n                    src={iconIFT}\n                    alt={i}\n                  />\n                );\n              }\n              if (i === \"foodlogiq.svg\") {\n                return (\n                  <img\n                    key={i}\n                    css={{\n                      height: \"25px\",\n                    }}\n                    src={iconFoodLogiq}\n                    alt={i}\n                  />\n                );\n              }\n              if (i === \"email.svg\") {\n                return (\n                  <img\n                    key={i}\n                    css={{\n                      height: \"25px\",\n                    }}\n                    src={iconEmail}\n                    alt={i}\n                  />\n                );\n              }\n            })}\n          </div>\n          <div css={{ fontSize: 16 }}>\n            {r.text.split(pattern).map((item, j) => {\n              if (pattern.test(item)) {\n                let text = _.values(r[item].values).map((o) => o.name);\n                if (text.length === 0) {\n                  return (\n                    <span\n                      css={{ fontWeight: 800 }}\n                      key={`newrule-${j}-boldword-${j}`}\n                    >\n                      {\"anything\"}\n                    </span>\n                  );\n                } else {\n                  return _.map(text, (t, idx) => {\n                    return (\n                      <div\n                        css={{ display: \"contents\" }}\n                        key={`newrule-${j}-boldword-${idx}`}\n                      >\n                        <span css={{ fontWeight: 800 }}>{t}</span>\n                        {idx == text.length - 1 ? null : <span>{\" or \"}</span>}\n                      </div>\n                    );\n                  });\n                }\n              } else {\n                return (\n                  <span\n                    css={{ fontWeight: 100 }}\n                    key={`newrule-${j}-word-${j}`}\n                  >\n                    {item}\n                  </span>\n                );\n              }\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Rules() {\n  const { state } = overmind();\n  const rules = state.rules.rules;\n\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: \"flex\" }}>\n        <div css={{ flex: 1, flexDirection: \"column\", display: \"flex\" }}>\n          {Object.keys(rules).map((key) => (\n            <Rule rule={rules[key]} id={key} key={key} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Rules;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nfunction TopBar() {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Reports;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ fontSize: 27, marginRight: 15 }}>{\"Reports\"}</div>\n      <div\n        css={css`\n          grid-column-start: 2;\n          display: grid;\n          /* grid-column-gap: 10px; */\n          grid-template-columns: 1fr 3fr 1fr 3fr;\n        `}\n      >\n        <div\n          css={css`\n            grid-column-start: 1;\n            place-self: center end;\n          `}\n        >\n          start:{\" \"}\n        </div>\n        <Input\n          css={css`\n            grid-column-start: 2;\n            margin-left: 10px;\n          `}\n          type=\"date\"\n          id=\"user-search\"\n          style={{ borderRadius: 38, paddingBottom: 5, paddingTop: 5 }}\n          onChange={(evt) => myActions.onStart(evt.target.value)}\n        />\n        <div\n          css={css`\n            grid-column-start: 3;\n            place-self: center end;\n          `}\n        >\n          end:{\" \"}\n        </div>\n        <Input\n          css={css`\n            grid-column-start: 4;\n            margin-left: 10px;\n          `}\n          type=\"date\"\n          id=\"user-search\"\n          placeholder=\"End...\"\n          style={{ borderRadius: 38, paddingBottom: 5, paddingTop: 5 }}\n          onChange={(evt) => myActions.onEnd(evt.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Input, Button, Icon, Popup } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport \"semantic-ui-css/semantic.min.css\";\nimport actions from \"src/overmind/app/actions\";\n\nconst tabName = {\n  eventLog: \"History\",\n  userAccess: (\n    <div>\n      <div>{\"Trading Partners Access\"}</div>\n    </div>\n  ),\n  documentShares: (\n    <div>\n      <div>{\"Document Recipient List\"}</div>\n    </div>\n  ),\n};\n\nconst tooltip = {\n  eventLog: (\n    <div>\n      <div\n        css={css`\n          font-weight: bold;\n        `}\n      >\n        History Report\n      </div>\n      <div>{`Shows all documents that were sent out during a set date range.\n    Conatins recipients' emails and the date when documents were sent out.`}</div>\n    </div>\n  ),\n\n  userAccess: (\n    <div>\n      <div\n        css={css`\n          font-weight: bold;\n        `}\n      >\n        <div>Current State:</div>\n        <div>Trading Partner Access</div>\n      </div>\n      <div>{`Shows connections betewen trading partners and documents based on trading partners.\n        Contains a list of all trading partners and the documents they have access to.`}</div>\n    </div>\n  ),\n\n  documentShares: (\n    <div>\n      <div\n        css={css`\n          font-weight: bold;\n        `}\n      >\n        <div>Current State:</div>\n        <div>Document Recipient List</div>\n      </div>\n      <div>{`Shows connections between documents and trading partners based on documents.\n        Contains a list of all documents and the trading partners who have access to them.`}</div>\n    </div>\n  ),\n};\n\nfunction ReportSelect() {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Reports;\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        align-items: center;\n      `}\n    >\n      <div\n        css={css`\n          width: 100%;\n          height: 100%;\n          display: grid;\n          grid-template-columns: 4fr 6fr;\n          grid-column-gap: 20px;\n          alignitems: center;\n        `}\n      >\n        <div\n          css={css`\n            grid-column-start: 1;\n            height: 100%;\n\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n          `}\n        >\n          <ReportTab name=\"eventLog\" />\n          <ReportTab name=\"userAccess\" />\n          <ReportTab name=\"documentShares\" />\n        </div>\n        <div\n          css={css`\n            display: flex;\n            justify-content: flex-end;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            & .button {\n              background-color: #fff;\n              border: 1px solid #979797;\n              border-radius: 20px;\n              font-size: 14px;\n              .download.icon:before {\n                color: #0061c0;\n              }\n            }\n          `}\n        >\n          <Button icon onClick={myActions.saveReports}>\n            <Icon name=\"download\" />\n            <span\n              css={css`\n                margin-left: 10px;\n                margin-right: 4px;\n                color: #0061c0;\n              `}\n            >\n              Download\n            </span>\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ReportTab({ onClick, name }) {\n  const { actions, state } = overmind();\n\n  return (\n    <div\n      css={css`\n        border-top: 1px solid #979797;\n        border-right: 1px solid #979797;\n        border-left: 1px solid #979797;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        ${name === state.view.Pages.Reports.selectedReport\n          ? `background: linear-gradient(\n              180deg,\n              rgba(0, 106, 211, 1) 0%,\n              rgba(0, 84, 166, 1) 100%\n            );\n            color: #fff;`\n          : \"#fff;\"}\n      `}\n      onClick={() => actions.view.Pages.Reports.reportSelect(name)}\n    >\n      <div\n        css={css`\n          margin-left: 10px;\n          margin-right: 5px;\n          place-self: center;\n          font-size: 15;\n        `}\n      >\n        {tabName[name]}\n      </div>\n      <div\n        css={css`\n          width: 20px;\n        `}\n      >\n        {name === state.view.Pages.Reports.selectedReport ? (\n          <Popup\n            trigger={<Icon name=\"question circle\" />}\n            content={tooltip[name]}\n            position=\"right center\"\n          />\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nexport default ReportSelect;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport { Checkbox } from \"semantic-ui-react\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction EventLogTable({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Reports.eventLog.Table;\n  const myState = state.view.Pages.Reports.eventLog;\n  const collection = myState.Table || [];\n\n  const il = infiniteLoader(\"Event Log\", myActions.loadDocumentKeys);\n  const now = moment();\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={({ rowData }) => myActions.toggleCheckbox(rowData.docKey)}\n        >\n          <Column\n            headerRenderer={(data) => {\n              return (\n                <Checkbox\n                  checked={state.oada.data.Reports.allSelected}\n                  onClick={actions.view.Pages.Reports.selectAllReports}\n                />\n              );\n            }}\n            dataKey=\"documentSelect\"\n            width={70}\n            cellRenderer={({ rowData }) => {\n              return (\n                <Checkbox\n                  checked={\n                    state.oada.data.Reports.eventLog[rowData.docKey].checked\n                  }\n                />\n              );\n            }}\n          />\n\n          <Column label=\"Date\" dataKey=\"docKey\" width={300} />\n\n          <Column\n            width={300}\n            label=\"Number of Documents\"\n            dataKey=\"numDocuments\"\n          />\n\n          <Column width={300} label=\"Number of Events\" dataKey=\"numEvents\" />\n\n          <Column width={300} label=\"Number of Emails\" dataKey=\"numEmails\" />\n          <Column width={300} label=\"Number of Shares\" dataKey=\"numShares\" />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default EventLogTable;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport { Checkbox } from \"semantic-ui-react\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction UserAccessTable({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Reports.userAccess.Table;\n  const myState = state.view.Pages.Reports.userAccess;\n  const collection = myState.Table || [];\n\n  const il = infiniteLoader(\"User Access\", myActions.loadDocumentKeys);\n  const now = moment();\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={({ rowData }) => myActions.toggleCheckbox(rowData.docKey)}\n        >\n          <Column\n            headerRenderer={(data) => {\n              return (\n                <Checkbox\n                  checked={state.oada.data.Reports.allSelected}\n                  onClick={actions.view.Pages.Reports.selectAllReports}\n                />\n              );\n            }}\n            dataKey=\"documentSelect\"\n            width={70}\n            cellRenderer={({ rowData }) => {\n              return (\n                <Checkbox\n                  checked={\n                    state.oada.data.Reports.userAccess[rowData.docKey].checked\n                  }\n                />\n              );\n            }}\n          />\n\n          <Column label=\"Date\" dataKey=\"docKey\" width={200} />\n\n          <Column\n            width={400}\n            label=\"Number of Trading Partners\"\n            dataKey=\"numTradingPartners\"\n          />\n\n          <Column\n            width={400}\n            label=\"Trading Partners Without Shares\"\n            dataKey=\"numTPWODocs\"\n          />\n\n          <Column width={400} label=\"Total Shares\" dataKey=\"totalShares\" />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default UserAccessTable;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport \"react-virtualized/styles.css\";\nimport { Checkbox } from \"semantic-ui-react\";\nimport {\n  Column,\n  Table as RTable,\n  AutoSizer,\n  InfiniteLoader,\n} from \"react-virtualized\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport classnames from \"classnames\";\nimport infiniteLoader from \"../infiniteLoader\";\n\nfunction DocumentSharesTable({ docType }) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Reports.documentShares.Table;\n  const myState = state.view.Pages.Reports.documentShares;\n  const collection = myState.Table || [];\n\n  const il = infiniteLoader(\"Document Shares\", myActions.loadDocumentKeys);\n  const now = moment();\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={\"header\"}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => {\n            il.getRow(collection[index]);\n            return collection[index];\n          }}\n          rowClassName={({ index }) => {\n            var className = null;\n            if (index % 2 === 0) {\n              className = \"row even\";\n            } else {\n              className = \"row odd\";\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, \"unshared\");\n            return className;\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={({ rowData }) => myActions.toggleCheckbox(rowData.docKey)}\n        >\n          <Column\n            // label={<Checkbox\n            //   checked={state.oada.data.Reports.allReportsSelected}\n            // />}\n            headerRenderer={(data) => {\n              return (\n                <Checkbox\n                  checked={state.oada.data.Reports.allSelected}\n                  onClick={actions.view.Pages.Reports.selectAllReports}\n                />\n              );\n            }}\n            dataKey=\"documentSelect\"\n            width={70}\n            cellRenderer={({ rowData }) => {\n              return (\n                <Checkbox\n                  // checked={false}\n                  checked={\n                    state.oada.data.Reports.documentShares[rowData.docKey]\n                      .checked\n                  }\n                />\n              );\n            }}\n          />\n\n          <Column label=\"Date\" dataKey=\"docKey\" width={200} />\n\n          <Column\n            width={400}\n            label=\"Number of Documents\"\n            dataKey=\"numDocsToShare\"\n          />\n\n          <Column\n            width={400}\n            label=\"Number of Expired Documents\"\n            dataKey=\"numExpiredDocuments\"\n          />\n\n          <Column\n            width={400}\n            label=\"Number of Documents not Shared\"\n            dataKey=\"numDocsNotShared\"\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  );\n}\n\nexport default DocumentSharesTable;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport TopBar from \"./TopBar\";\nimport ReportSelect from \"./ReportSelect\";\nimport EventLogTable from \"./EventLogTable\";\nimport UserAccessTable from \"./UserAccessTable\";\nimport DocumentSharesTable from \"./DocumentSharesTable\";\nimport overmind from \"../../../overmind\";\n\nfunction Data() {\n  const { state } = overmind();\n  const selectedReport = state.view.Pages.Reports.selectedReport;\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <TopBar />\n\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n\n      <div\n        css={{\n          flex: 1,\n          padding: 30,\n          paddingTop: 15,\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <ReportSelect />\n        <div css={{ flex: 1, display: \"flex\" }}>\n          <div css={{ border: \"1px solid #979797\", flex: 1, display: \"flex\" }}>\n            {selectedReport === \"eventLog\" ? (\n              <EventLogTable docType=\"eventLog\" />\n            ) : null}\n            {selectedReport === \"userAccess\" ? (\n              <UserAccessTable docType=\"userAccess\" />\n            ) : null}\n            {selectedReport === \"documentShares\" ? (\n              <DocumentSharesTable docType=\"documentShares\" />\n            ) : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport Data from \"./Data\";\nimport COIS from \"./COIS\";\nimport Audits from \"./Audits\";\nimport Certificates from \"./Certificates\";\nimport Rules from \"./Rules\";\nimport Reports from \"./Reports\";\nimport overmind from \"../../overmind\";\n\nfunction Pages() {\n  const { state } = overmind();\n  const selectedPage = state.view.Pages.selectedPage;\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flex: \"1\",\n        boxShadow: \"inset 5px 5px 5px #dddddd\",\n      }}\n    >\n      {selectedPage === \"Data\" ? <Data /> : null}\n      {selectedPage === \"COIS\" ? <COIS /> : null}\n      {selectedPage === \"Audits\" ? <Audits /> : null}\n      {selectedPage === \"Certificates\" ? <Certificates /> : null}\n      {selectedPage === \"Reports\" ? <Reports /> : null}\n      {selectedPage === \"Rules\" ? <Rules /> : null}\n    </div>\n  );\n}\n\nexport default Pages;\n","export default __webpack_public_path__ + \"static/media/signed.6b93ecff.svg\";","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport icon from \"./signed.svg\";\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: props.height || \"18px\",\n        filter:\n          \"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)\",\n      }}\n      src={icon}\n    />\n  );\n}\n\nexport default signedIcon;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Header, Icon } from \"semantic-ui-react\";\nimport SignedIcon from \"../../icons/SignedIcon\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\n\nfunction MyHeader(props) {\n  const { state } = overmind();\n  const myState = state.view.Modals.FileDetailsModal;\n  let title = \"Unknown Document Type\";\n  if (myState.docType == \"fsqa-audits\") {\n    title = `FSQA Audit`;\n  } else if (myState.docType == \"cois\") {\n    title = `Certificate of Insurance`;\n  } else if (myState.docType == \"fsqa-certificates\") {\n    title = `FSQA Certificate`;\n  }\n\n  let validState = _.get(myState, [\n    \"document\",\n    \"_meta\",\n    \"services\",\n    \"fl-sync\",\n    \"valid\",\n    \"status\",\n  ]);\n  let valid =\n    validState === true ? (\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <SignedIcon />\n        <div css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}>\n          {\"Valid\"}\n        </div>\n      </div>\n    ) : validState === false ? (\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <Icon name=\"warning circle\" />\n        <div css={{ marginLeft: 3, color: \"#f50057\", marginRight: 7 }}>\n          {\"Invalid\"}\n        </div>\n      </div>\n    ) : null;\n\n  let signed =\n    Object.keys(_.get(myState, [\"document\", \"signatures\"]) || {}).length > 0 ? (\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        <SignedIcon />\n        <div css={{ marginLeft: 3, color: \"#02A12B\", marginRight: 7 }}>\n          {\"Signed\"}\n        </div>\n      </div>\n    ) : undefined;\n\n  let unmask = _.get(myState, [\"document\", \"unmask\"]) ? \"MASKED\" : null;\n\n  return (\n    <Header>\n      <div css={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div>{title}</div>\n        <div css={{ color: \"red\", fontWeight: \"bold\" }}>\n          {unmask}\n          {signed}\n        </div>\n      </div>\n    </Header>\n  );\n}\n\nexport default MyHeader;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\n\nfunction Organization(props) {\n  const { audit } = props;\n  const org =\n    audit.organization && audit.organization.name\n      ? audit.organization.name\n      : \"Unknown\";\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Organization\n      </Table.Cell>\n      <Table.Cell>{org}</Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Organization;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\nimport _ from \"lodash\";\nimport Chip from \"@material-ui/core/Chip\";\n\nfunction Scope(props) {\n  const { audit } = props;\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Scope (Products)\n      </Table.Cell>\n      <Table.Cell\n        css={css`\n          .MuiChip-root {\n            font-family: inherit;\n            font-size: 14px;\n            line-height: 16px;\n            margin-left: 3px;\n            margin-top: 3px;\n          }\n          .MuiChip-root:first-of-type {\n            margin-left: 0px;\n          }\n        `}\n      >\n        {_.map(_.get(audit, \"scope.products_observed\"), (p, idx) => (\n          <Chip key={idx} label={p.name} />\n        ))}\n      </Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Scope;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\nimport _ from \"lodash\";\n\nfunction Score(props) {\n  const { audit } = props;\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Score\n      </Table.Cell>\n      <Table.Cell>\n        {`${_.get(audit, \"score.final.value\", \"Unknown\")} `}\n        {!_.get(audit, \"score.rating\") ? (\n          \"\"\n        ) : (\n          <span\n            style={{\n              color: _.get(audit, \"score.rating\", \"\").match(/(good|excellent)/i)\n                ? \"green\"\n                : \"red\",\n            }}\n          >\n            ({_.get(audit, \"score.rating\", \"Unknown\").trim()})\n          </span>\n        )}\n      </Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Score;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\nimport moment from \"moment\";\n\nfunction Validity(props) {\n  const { audit } = props;\n  let validity = null;\n  if (\n    audit.certificate_validity_period &&\n    audit.certificate_validity_period.start &&\n    audit.certificate_validity_period.end\n  ) {\n    validity = {\n      start: moment(audit.certificate_validity_period.start, \"M/D/YYYY\"),\n      end: moment(audit.certificate_validity_period.end, \"M/D/YYYY\"),\n    };\n    if (!validity.start || !validity.start.isValid()) validity = null;\n    if (!validity.end || !validity.end.isValid()) validity = null;\n    const now = moment();\n    // If it starts after today, or ended before today, it's expired\n    validity.expired =\n      validity.start.isAfter(now) || validity.end.isBefore(now);\n  }\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Validity\n      </Table.Cell>\n      <Table.Cell>\n        {!validity ? (\n          \"\"\n        ) : validity.expired ? (\n          <span style={{ color: \"red\" }}>EXPIRED!</span>\n        ) : (\n          <span style={{ color: \"green\" }}>\n            {`VALID (from ${validity.start.format(\n              \"MMM D, YYYY\"\n            )} to ${validity.end.format(\"MMM D, YYYY\")})`}\n          </span>\n        )}\n      </Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Validity;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Table } from \"semantic-ui-react\";\n\nimport Organization from \"./Organization\";\nimport Scope from \"./Scope\";\nimport Score from \"./Score\";\nimport Validity from \"./Validity\";\n\nfunction Audit(props) {\n  const { audit } = props;\n  return (\n    <Table celled striped>\n      <Table.Body css={{ fontSize: 16 }}>\n        <Organization audit={audit} />\n        <Score audit={audit} />\n        <Scope audit={audit} />\n        <Validity audit={audit} />\n      </Table.Body>\n    </Table>\n  );\n}\n\nexport default Audit;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\n\nfunction Producer(props) {\n  const { coi } = props;\n  const producer =\n    coi.producer && coi.producer.name ? coi.producer.name : \"Unknown\";\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Producer\n      </Table.Cell>\n      <Table.Cell>{producer}</Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Producer;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\n\nfunction Holder(props) {\n  const { coi } = props;\n  const holder = coi.holder && coi.holder.name ? coi.holder.name : \"Unknown\";\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Holder\n      </Table.Cell>\n      <Table.Cell>{holder}</Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Holder;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { Popup } from \"semantic-ui-react\";\n\nfunction Scope(props) {\n  const { coi } = props;\n  let policies = _.cloneDeep(coi.policies) || []; // COI has policies\n  // Filter policies whose dates we can't parse\n  policies = _.filter(policies, (p) => {\n    p.start = moment(p.effective_date);\n    p.end = moment(p.expire_date);\n    if (!p.start.isValid()) return false;\n    if (!p.end.isValid()) return false;\n    const now = moment();\n    p.expired = p.start.isAfter(now) || p.end.isBefore(now);\n    return true; // keep this one in the list\n  });\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Policies\n      </Table.Cell>\n      <Table.Cell\n        css={css`\n          .MuiChip-root {\n            font-family: inherit;\n            font-size: 14px;\n            line-height: 16px;\n            margin-left: 3px;\n            margin-top: 3px;\n          }\n          .MuiChip-root:first-of-type {\n            margin-left: 0px;\n          }\n        `}\n      >\n        {_.map(policies, (p, idx) => (\n          <Popup\n            key={idx}\n            content={\n              <div>\n                <div css={{ textAlign: \"center\" }}>{\"Effective\"}</div>\n                <div>{`${p.start.format(\"MMMM DD, YYYY\")} to ${p.end.format(\n                  \"MMMM DD, YYYY\"\n                )}`}</div>\n              </div>\n            }\n            trigger={\n              <Chip\n                color={p.expired ? \"secondary\" : \"default\"}\n                label={`${p.number}${p.expired ? \": EXPIRED\" : \"\"}`}\n              />\n            }\n          />\n        ))}\n      </Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Scope;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Table } from \"semantic-ui-react\";\n\nimport Producer from \"./Producer\";\nimport Holder from \"./Holder\";\nimport Policies from \"./Policies\";\n\nfunction CoI(props) {\n  const { coi } = props;\n  return (\n    <Table celled striped>\n      <Table.Body css={{ fontSize: 16 }}>\n        <Producer coi={coi} />\n        <Holder coi={coi} />\n        <Policies coi={coi} />\n      </Table.Body>\n    </Table>\n  );\n}\n\nexport default CoI;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Icon, Table } from \"semantic-ui-react\";\n\nfunction Organization(props) {\n  const { certificate } = props;\n  const org =\n    certificate.organization && certificate.organization.name\n      ? certificate.organization.name\n      : \"Unknown\";\n  return (\n    <Table.Row>\n      <Table.Cell collapsing css={{ fontWeight: \"bold\" }}>\n        Organization\n      </Table.Cell>\n      <Table.Cell>{org}</Table.Cell>\n    </Table.Row>\n  );\n}\n\nexport default Organization;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { Table } from \"semantic-ui-react\";\n\nimport Organization from \"./Organization\";\n\nfunction Certificate(props) {\n  const { certificate } = props;\n  return (\n    <Table celled striped>\n      <Table.Body css={{ fontSize: 16 }}>\n        <Organization certificate={certificate} />\n      </Table.Body>\n    </Table>\n  );\n}\n\nexport default Certificate;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport ReactJson from \"react-json-view\";\nimport Audit from \"./Audit\";\nimport CoI from \"./CoI\";\nimport Certificate from \"./Certificate\";\n\nfunction Content(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n\n  var jsonData = _.get(myState, \"document\");\n  if (jsonData) {\n    jsonData = _.cloneDeep(jsonData);\n    if (jsonData._id) delete jsonData._id;\n    if (jsonData._rev) delete jsonData._rev;\n    if (jsonData._type) delete jsonData._type;\n    if (jsonData._meta) delete jsonData._meta;\n  }\n  return (\n    <div>\n      {myState.type === \"audit\" ? <Audit audit={myState.document} /> : null}\n      {myState.type === \"coi\" ? <CoI coi={myState.document} /> : null}\n      {myState.type === \"certificate\" ? (\n        <Certificate certificate={myState.document} />\n      ) : null}\n\n      {!myState.showData ? (\n        \"\"\n      ) : jsonData == null ? (\n        <span>&lt; No Data &gt;</span>\n      ) : (\n        <ReactJson\n          src={jsonData}\n          name={myState.type}\n          collapsed={1}\n          collapseStringsAfterLength={50}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          enableClipboard={false}\n        />\n      )}\n\n      <div\n        css={{\n          color: \"#2439FF\",\n          fontSize: 16,\n          marginBottom: 7,\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n      >\n        <div\n          css={{ cursor: \"pointer\" }}\n          onClick={() =>\n            myActions.viewPDF({\n              docKey: myState.docKey,\n              docType: myState.docType,\n            })\n          }\n        >\n          {\"VIEW PDF\"}\n        </div>\n        &nbsp;&nbsp;|&nbsp;&nbsp;\n        <div\n          css={{ cursor: \"pointer\" }}\n          onClick={() =>\n            myActions.downloadPDF({\n              docKey: myState.docKey,\n              docType: myState.docType,\n            })\n          }\n        >\n          {\"DOWNLOAD PDF\"}\n        </div>\n        &nbsp;&nbsp;|&nbsp;&nbsp;\n        <div\n          css={{ cursor: \"pointer\" }}\n          onClick={() => myActions.toggleShowData(_.get(myState, \"docKey\"))}\n        >\n          {myState.showData ? \"HIDE DATA\" : \"VIEW DATA\"}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Content;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Button, Dropdown, Icon, Table, Input } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\nimport ReactJson from \"react-json-view\";\n\nfunction SharingTable({ list }) {\n  //        <div css={{fontSize: 15, color: '#787878', marginTop: 5}}>{'Shared with: ' + approvedList.join(', ')}</div>\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  list = list || [];\n  if (list.length == 0 && myState.sharedSearchValue.length == 0) return null;\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>\n            {\"Shared with\"}\n            <Input\n              size=\"mini\"\n              css={{ marginLeft: 10 }}\n              icon=\"search\"\n              placeholder=\"Search...\"\n              onChange={(evt) =>\n                myActions.onShareSearchChange(evt.target.value)\n              }\n              value={myState.sharedSearchValue}\n            />\n          </Table.HeaderCell>\n          <Table.HeaderCell>Method</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {_.map(list, (share, index) => {\n          var type = share.type;\n          if (type == \"fl\") type = \"FoodLogiQ\";\n          if (type == \"shareWf\") type = \"Trellis\";\n          if (type == \"ift\") type = \"IBM Food Trust\";\n          return (\n            <Table.Row key={\"share\" + index}>\n              <Table.Cell>{share.with}</Table.Cell>\n              <Table.Cell>{type}</Table.Cell>\n            </Table.Row>\n          );\n        })}\n      </Table.Body>\n    </Table>\n  );\n}\n\nfunction Sharing(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  const shareOptions = _.chain(myState.share)\n    .map((share, key) => {\n      if (share.status == \"approved\") return null;\n      var type = share.type;\n      if (type == \"fl\") type = \"FoodLogiQ\";\n      if (type == \"shareWf\") type = \"Trellis\";\n      if (type == \"ift\") type = \"IBM Food Trust\";\n      return {\n        key,\n        text: `${share[\"with\"]} - ${type}`,\n        value: key,\n      };\n    })\n    .compact()\n    .value();\n  const shareValue = _.chain(myState.share)\n    .map((share, key) => {\n      if (share.status == \"pending\") return key;\n    })\n    .compact()\n    .value();\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        marginTop: 7,\n      }}\n    >\n      {/*<div css={{fontSize: 27, marginBottom: 10, fontWeight: 'bold'}}>\n        {'Share with others:'}\n      </div>*/}\n      {/*<div css={{display: 'flex'}}>\n        <Dropdown\n          css={{marginRight: 5}}\n          placeholder='Select trading partners...'\n          fluid\n          multiple\n          search\n          selection\n          options={shareOptions}\n          value={shareValue}\n          onChange={(evt, data)=>{myActions.onShareChange(data.value)}}\n        />\n        <Button icon primary labelPosition='left' disabled={(shareValue.length == 0)} onClick={myActions.share}>\n          <Icon name='send' />\n          Share\n        </Button>\n      </div>*/}\n      <SharingTable list={myState.sharedWithFiltered} />\n    </div>\n  );\n}\nexport default Sharing;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport { Button, Header, Icon } from \"semantic-ui-react\";\n\nfunction FLSync() {\n  const { actions, state } = overmind();\n  const myState = state.view.Modals.FileDetailsModal;\n  const myActions = actions.view.Modals.FileDetailsModal;\n\n  let valid = _.get(myState, [\n    \"document\",\n    \"_meta\",\n    \"services\",\n    \"fl-sync\",\n    \"valid\",\n    \"status\",\n  ]);\n\n  //Show assessment link if associated\n  let aLink;\n  let aId = _.get(myState, [\n    \"document\",\n    \"_meta\",\n    \"services\",\n    \"fl-sync\",\n    \"assessment\",\n  ]);\n  if (aId) {\n    let aText = \"View the Assessment in FoodLogiQ\";\n    let aPath = `https://sandbox.foodlogiq.com/businesses/5acf7c2cfd7fa00001ce518d/internal-reviews/summary/${aId}`;\n    aLink = (\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={aPath}>\n        {aText}\n      </a>\n    );\n  }\n\n  //Show document link if associated\n  let dLink;\n  let dId = _.get(myState, [\n    \"document\",\n    \"_meta\",\n    \"services\",\n    \"fl-sync\",\n    \"flId\",\n  ]);\n  if (dId) {\n    let dText = \"View the Document in FoodLogiQ\";\n    let dPath = `https://sandbox.foodlogiq.com/businesses/5acf7c2cfd7fa00001ce518d/documents/detail/${dId}`;\n    dLink = (\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={dPath}>\n        {dText}\n      </a>\n    );\n  }\n\n  let validText =\n    valid === true ? (\n      <div css={{ fontWeight: \"bold\", color: \"green\" }}>\n        Trellis-extracted PDF data matches user-entered FoodLogiQ data.\n      </div>\n    ) : valid === false ? (\n      <div css={{ fontWeight: \"bold\", color: \"red\" }}>\n        Document rejected in FoodLogiQ\n      </div>\n    ) : (\n      <div>Awaiting validation of extracted data...</div>\n    );\n\n  return (\n    <div>\n      <Header as=\"h4\">FoodLogiQ</Header>\n      {validText}\n      {dLink}\n      {aLink ? <br /> : null}\n      {aLink}\n    </div>\n  );\n}\n\nexport default FLSync;\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport { Header, Message } from \"semantic-ui-react\";\n\nfunction MessageLog() {\n  const { state } = overmind();\n  const { path } = state.view.MessageLog;\n  let messages = [];\n  if (path) {\n    let document = _.get(state, path) || {};\n    let jobs = _.get(document, `_meta.services.target.jobs`);\n    Object.values(jobs || {}).forEach(({ updates }) => {\n      messages.push(\n        ...Object.values(updates || {})\n          .filter((obj) => obj.information || obj.meta)\n          .map((obj) => ({\n            text: obj.information || obj.meta,\n            type: obj.type,\n            time: (moment(obj.time, \"X\").year() > 2000\n              ? moment(obj.time, \"X\").add(4, \"hours\")\n              : moment(obj.time)\n            ).fromNow(),\n          }))\n          .map((obj) => {\n            if (obj.text === \"Runner started\") obj.text = \"Document received\";\n\n            if (obj.text === \"Runner finshed\")\n              obj.text = \"Document processing complete\";\n\n            if (/^Target returned success/.test(obj.text)) {\n              obj.text = \"Target extraction completed successfully\";\n              obj.color = \"green\";\n            }\n\n            if (/^Job result loaded/.test(obj.text)) obj.text = false;\n\n            if (/^Recognized Type/.test(obj.text))\n              obj.text = `Document recognized by Target as ${obj.type}`;\n\n            if (/^Signed resource/.test(obj.text))\n              obj.text = \"Document signature applied\";\n\n            if (/^Linking doctype/.test(obj.text)) obj.text = false;\n\n            if (/^helper: linking/.test(obj.text)) obj.text = false;\n\n            if (/^Completed all helper/.test(obj.text)) obj.text = false;\n\n            if (/^File format was not/.test(obj.text)) {\n              obj.text = \"File format was not recognized\";\n              obj.color = \"red\";\n            }\n\n            return obj;\n          })\n          .filter(({ text }) => text)\n      );\n    });\n  }\n\n  return (\n    <div>\n      <Header as=\"h4\">Message Log</Header>\n      {(messages || []).map((msg) => (\n        <Message\n          info\n          color={msg.color}\n          css={{ display: \"flex\", flexDirection: \"row\" }}\n        >\n          <p css={{ flex: \"1\" }}>{msg.text}</p>\n          <p>{msg.time}</p>\n        </Message>\n      ))}\n    </div>\n  );\n}\n\nexport default MessageLog;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Modal } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport Header from \"./Header\";\nimport Content from \"./Content\";\nimport Sharing from \"./Sharing\";\nimport FLSync from \"./FLSync\";\nimport MessageLog from \"../../Widgets/MessageLog\";\n\nfunction FileDetailsModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content>\n        <div css={{ minHeight: 350, display: \"flex\", flexDirection: \"column\" }}>\n          <Content />\n          <Sharing />\n          <FLSync />\n          <MessageLog />\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default FileDetailsModal;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Button, Header } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\n\nfunction MyHeader(props) {\n  const { state, actions } = overmind();\n  let myState = state.view.Modals.RulesModal;\n  let myActions = actions.view.Modals.RulesModal;\n  let isEditing = myState.Edit.edit;\n  //TODO deleteClicked()\n  return (\n    <Header>\n      <div css={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div css={{ display: \"flex\", alignItems: \"center\" }}>\n          <div css={{ fontSize: 24 }}>\n            {isEditing ? \"View Rule\" : \"New Rule\"}\n          </div>\n        </div>\n        <div>\n          <Button\n            icon=\"x\"\n            style={{ padding: \".78571429em .78571429em .78571429em\" }}\n            onClick={(evt) => {\n              myActions.cancelClicked();\n            }}\n          />\n        </div>\n      </div>\n    </Header>\n  );\n}\n\nexport default MyHeader;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport _ from \"lodash\";\n\nfunction SideBar(props) {\n  const { state, actions } = overmind();\n  let myActions = actions.view.Modals.RulesModal;\n  let myState = state.view.Modals.RulesModal.List;\n  let templates = state.rules.templates;\n  let categories = _.clone(myState.categories);\n  Object.values(templates).forEach((r) => categories.push(...r.categories));\n  categories = _.uniq(categories);\n\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      {categories.map((c) => (\n        <span\n          onClick={(evt) => {\n            myActions.categorySelected(evt);\n          }}\n          key={\"new-rule-category-\" + c}\n        >\n          {c}\n        </span>\n      ))}\n    </div>\n  );\n}\n\nexport default SideBar;\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\n\nfunction NewRulesList(props) {\n  const { state, actions } = overmind();\n  let templates = state.rules.templates;\n  let myActions = actions.view.Modals.RulesModal;\n  let pattern = /(input[0-9]+)/g;\n\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex: 1;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      `}\n    >\n      {Object.values(templates).map((r, j) => (\n        <div\n          onClick={(evt) => {\n            myActions.newRuleSelected(r);\n          }}\n          key={\"newrulecard\" + j}\n        >\n          <div\n            css={css`\n              position: relative;\n              top: 0px;\n              border: 1px solid rgba(34, 36, 38, 0.15);\n              padding: 20px;\n              border-radius: 12px;\n              margin: 7px;\n              cursor: pointer;\n              max-width: 350px;\n              transition: all 300ms;\n              transition-property: box-shadow, top;\n              &:hover {\n                box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.25);\n                top: -2px;\n                border: 1px solid #fff;\n              }\n            `}\n          >\n            <div css={{ fontSize: 16 }}>\n              {r.text.split(pattern).map((item, j) =>\n                pattern.test(item) ? (\n                  <span\n                    css={{ fontWeight: 800 }}\n                    key={`newrule-${j}-boldword-${j}`}\n                  >\n                    {r[item].text}\n                  </span>\n                ) : (\n                  <span\n                    css={{ fontWeight: 100 }}\n                    key={`newrule-${j}-word-${j}`}\n                  >\n                    {item}\n                  </span>\n                )\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default NewRulesList;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport moment from \"moment\";\nimport ReactJson from \"react-json-view\";\nimport SideBar from \"./SideBar\";\nimport NewRulesList from \"./NewRulesList\";\n\nfunction List(props) {\n  return (\n    <div\n      css={{\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"start\",\n      }}\n    >\n      <NewRulesList />\n    </div>\n  );\n}\n\nexport default List;\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { json } from \"overmind\";\nimport { jsx, css } from \"@emotion/core\";\n\nimport overmind from \"../../../overmind\";\nimport { Button, Dropdown, Popup, Search, Table } from \"semantic-ui-react\";\nimport _ from \"lodash\";\n\nfunction BlankB(props) {\n  const { state, actions } = overmind();\n  let myState = state.view.Modals.RulesModal;\n  let myActions = actions.view.Modals.RulesModal;\n  let isEditing = myState.Edit.edit;\n  let rule = myState.Edit.rule;\n  let template = myState.Edit.template;\n  let type = template[props.item].type;\n  let list = json(state.rules[type]);\n  const placeholder = template[props.item].text;\n  let selected = Object.values(rule[props.item].values)\n    .map((v) => v.name)\n    .join(\" or \");\n  if (selected.length == 0) {\n    if (isEditing) {\n      selected = \"anything\";\n    } else {\n      selected = placeholder;\n    }\n  }\n\n  const trigger = (\n    <span\n      css={css`\n        color: rgba(0, 0, 0, 0.4);\n        &:hover {\n          color: #000;\n        }\n        &::before {\n          content: \"\";\n          background: #000;\n          position: absolute;\n          left: 1px;\n          right: 1px;\n          bottom: 3px;\n          height: 2px;\n        }\n      `}\n    >\n      &nbsp;{selected}&nbsp;\n    </span>\n  );\n  return (\n    <Dropdown trigger={trigger} icon={null} pointing=\"top left\">\n      <Dropdown.Menu>\n        {_.map(list, (i) => {\n          return (\n            <Dropdown.Item\n              onClick={() => {\n                myActions.textChanged({ values: [i.key], key: props.item });\n              }}\n              key={i.key}\n            >\n              {i.name}\n            </Dropdown.Item>\n          );\n        })}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n\nfunction Edit(props) {\n  const { state, actions } = overmind();\n  let myState = state.view.Modals.RulesModal.Edit;\n  let myActions = actions.view.Modals.RulesModal;\n  let isEditing = myState.edit;\n  let rule = myState.rule;\n  let pattern = /(input[0-9]+)/g;\n  let mappings = state.view.Modals.RulesModal.Mappings || {};\n  let mappingType = state.view.Modals.RulesModal.Edit.rule.mappings;\n  mappingType = mappingType.charAt(0).toUpperCase() + mappingType.slice(1);\n  let results = state.view.Modals.RulesModal.Edit.mappingSearchResults || [];\n  console.log(myState.sortCol, myState.list, myState.partners);\n\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        flexGrow: 1,\n        flexDirection: \"column\",\n      }}\n    >\n      <div\n        css={{\n          flex: 1,\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <div\n          css={css`\n            text-align: center;\n            font-size: 18px;\n            line-height: 35px;\n            & > span {\n              display: contents;\n            }\n          `}\n        >\n          {rule.text\n            .split(pattern)\n            .map((item, j) =>\n              pattern.test(item) ? (\n                <BlankB key={\"edit-new-rule-\" + j} item={item} index={j} />\n              ) : (\n                <span key={\"edit-new-rule-\" + j}>{item}</span>\n              )\n            )}\n        </div>\n      </div>\n      <Search\n        onResultSelect={(evt, { result }) =>\n          myActions.handleResultSelect(result)\n        }\n        onSearchChange={_.debounce(\n          (evt, { value }) => myActions.searchMappings(value),\n          500\n        )}\n        open={false}\n        value={myState.mappingSearchValue}\n      />\n      <Table striped celled compact sortable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>{mappingType}</Table.HeaderCell>\n            <Table.HeaderCell>Trading Partners</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {results.length > 0\n            ? results\n                .filter((val) => (mappings[val].name ? true : false))\n                .map((refIndex) =>\n                  mappings[refIndex].partners.map((p) => (\n                    <Table.Row key={mappings[refIndex].name + p}>\n                      <Table.Cell>\n                        <Popup\n                          content={mappings[refIndex].name}\n                          trigger={<p>{mappings[refIndex].name}</p>}\n                        />\n                      </Table.Cell>\n                      <Table.Cell>\n                        <Popup content={p} trigger={<p>{p}</p>} />\n                      </Table.Cell>\n                    </Table.Row>\n                  ))\n                )\n            : mappings\n                .filter((item, i) => results.indexOf(i) < 0)\n                .filter((item) => (item.name ? true : false))\n                .map((item) =>\n                  item.partners.map((p) => (\n                    <Table.Row key={item.name + p}>\n                      <Table.Cell>\n                        <Popup\n                          content={item.name}\n                          trigger={<p>{item.name}</p>}\n                        />\n                      </Table.Cell>\n                      <Table.Cell>\n                        <Popup content={p} trigger={<p>{p}</p>} />\n                      </Table.Cell>\n                    </Table.Row>\n                  ))\n                )}\n        </Table.Body>\n      </Table>\n      <div\n        css={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"flex-end\",\n          marginTop: 10,\n        }}\n      >\n        {isEditing ? (\n          <Button\n            onClick={(evt) => {\n              myActions.cancelClicked();\n            }}\n          >\n            Cancel\n          </Button>\n        ) : (\n          <Button\n            onClick={(evt) => {\n              myActions.backClicked();\n            }}\n          >\n            Back\n          </Button>\n        )}\n        {true /*!isEditing*/ ? null : (\n          <Button\n            style={{ marginLeft: 7 }}\n            color=\"red\"\n            onClick={(evt) => {\n              myActions.deleteClicked();\n            }}\n          >\n            Delete\n          </Button>\n        )}\n        <Button\n          style={{ marginLeft: 7 }}\n          primary\n          onClick={(evt) => {\n            myActions.doneClicked();\n          }}\n        >\n          {isEditing ? \"Save\" : \"Add Rule\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Edit;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\n\nimport { Modal } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nimport Header from \"./Header\";\nimport List from \"./List\";\nimport Edit from \"./Edit\";\n\nfunction RulesModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.RulesModal;\n  const myState = state.view.Modals.RulesModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content>\n        <div\n          css={{\n            minHeight: 300,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          {myState.page === \"List\" ? <List /> : <Edit />}\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default RulesModal;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\n\nimport MessageLog from \"../../Widgets/MessageLog\";\n\nimport { Document, Page } from \"react-pdf/dist/esm/entry.webpack\";\n\nimport overmind from \"../../../overmind\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport { Header, Message, Modal, Icon, Button } from \"semantic-ui-react\";\nimport { useMemo } from \"react\";\n\nfunction PDFViewerModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.PDFViewerModal;\n  const myState = state.view.Modals.PDFViewerModal;\n  const { pageNumber = 1, numPages, url, headers } = myState;\n\n  const file = useMemo(() => ({ url, httpHeaders: headers }), [url]);\n\nconsole.dir(file)\n\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Modal.Content>\n        <div\n          css={css`\n            min-height: 350px;\n          `}\n        >\n          <div css={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <Button onClick={myActions.download} icon=\"download\" />\n            <Button onClick={myActions.close} icon=\"close\" />\n          </div>\n          <div\n            css={css`\n              display: flex;\n              justify-content: center;\n            `}\n          >\n            <Document\n              externalLinkTarget={\"_blank\"}\n              file={file}\n              onLoadSuccess={myActions.onLoadSuccess}\n            >\n              <Page pageNumber={pageNumber} />\n            </Document>\n          </div>\n          <div css={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <div>\n              Page {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\n            </div>\n            <div>\n              <Button\n                disabled={pageNumber <= 1}\n                onClick={myActions.previousPage}\n              >\n                Previous\n              </Button>\n              <Button\n                disabled={pageNumber >= numPages}\n                onClick={myActions.nextPage}\n              >\n                Next\n              </Button>\n            </div>\n          </div>\n        </div>\n        <MessageLog />\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default PDFViewerModal;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport _ from \"lodash\";\n\nimport { Button, Checkbox, Dropdown, Header, Modal } from \"semantic-ui-react\";\nimport overmind from \"../../../overmind\";\n\nfunction TPSelectModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.TPSelectModal;\n  const myState = state.view.Modals.TPSelectModal;\n  const tps = state.tps || {};\n  const tp = myState.tp;\n  let options =\n    myState.options ||\n    Object.keys(tps)\n      .map((key) => ({\n        key,\n        text: tps[key].name,\n        value: key,\n      }))\n      .filter((o) => o.text);\n  options = _.sortBy(options, [\"text\"]);\n\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Modal.Content\n        css={{\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Header>Log in as Trading Partner...</Header>\n        <Dropdown\n          placeholder=\"Select trading partner\"\n          fluid\n          search\n          onChange={(evt, { value }) => {\n            myActions.changeTP(value);\n          }}\n          onSearchChange={(evt, { searchQuery }) => {\n            myActions.onSearchChange({ props: searchQuery });\n          }}\n          text={tp}\n          options={options}\n        />\n        <Button onClick={myActions.done}>Done</Button>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default TPSelectModal;\n","import React from \"react\";\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport _ from \"lodash\";\nimport overmind from \"../overmind\";\nimport { Input, Button, Form, Dropdown } from \"semantic-ui-react\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport config from \"../config\";\n\nfunction Login() {\n  const { state, actions } = overmind();\n  const appState = state.app;\n  const myState = state.login;\n  const myActions = actions.login;\n\n  const bg = appState.skins[appState.skin].loginBackground;\n  const logo = appState.skins[appState.skin].logo;\n  return (\n    <div\n      css={css`\n        height: 100vh;\n        width: 100vw;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: url(skins/${appState.skin}/${bg}) no-repeat center center\n          fixed;\n        background-size: cover;\n      `}\n    >\n      <div\n        css={css`\n          width: 275px;\n          display: flex;\n          flex-direction: column;\n          background: #fff;\n          padding: 15px;\n          padding-top: 7px;\n          border-radius: 5px;\n        `}\n      >\n        <img\n          css={{\n            height: logo.height,\n            marginBottom: 25,\n          }}\n          src={`skins/${appState.skin}/${logo.src}`}\n          alt={logo.alt || \"logo\"}\n        />\n        <Form\n          css={css`\n            display: flex;\n            flex-direction: column;\n          `}\n          onSubmit={myActions.login}\n        >\n          <Input\n            placeholder=\"Trellis Domain...\"\n            value={myState.domain}\n            onChange={(evt, data) => myActions.domainChange(data)}\n          />\n          <Button\n            style={{ marginTop: 7 }}\n            primary\n            loading={myState.loading}\n            disabled={myState.loading}\n          >\n            Connect to Your Trellis\n          </Button>\n        </Form>\n      </div>\n      <a\n        css={css`\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          font-size: 1.2em;\n          color: #ffffff;\n          cursor: pointer;\n        `}\n        onClick={myActions.logout}\n      >\n        Logout\n      </a>\n\n      <div\n        css={css`\n          position: absolute;\n          top: 5px;\n          left: 5px;\n        `}\n      >\n        <Dropdown\n          icon={{ name: \"bars\", inverted: true, size: \"large\" }}\n          text=\"\"\n        >\n          <Dropdown.Menu>\n            {_.map(_.keys(state.app.skins), (s, i) => (\n              <Dropdown.Item\n                key={\"skindropdownitem\" + i}\n                text={s}\n                value={s}\n                onClick={() => actions.app.skinChange(s)}\n              />\n            ))}\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from './overmind'\n\nimport TopBar from './view/TopBar';\nimport SideBar from './view/SideBar';\nimport Pages from './view/Pages';\nimport FileDetailsModal from './view/Modals/FileDetailsModal';\nimport RulesModal from './view/Modals/RulesModal';\nimport PDFViewerModal from './view/Modals/PDFViewerModal';\nimport TPSelectModal from './view/Modals/TPSelectModal';\nimport Login from './Login';\n\nfunction App() {\n  const { state, actions } = overmind();\n  if (!state.login.loggedIn) {\n    return <Login />\n  }\n  return (\n    <div css={{\n      height: '100vh',\n      width: '100vw',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'stretch'\n    }}>\n\n      <TopBar />\n      <div css={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'stretch'\n      }}>\n        <SideBar />\n        <Pages />\n        <FileDetailsModal />\n        <RulesModal />\n        <PDFViewerModal />\n        <TPSelectModal />\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createOvermind } from \"overmind\";\nimport { Provider } from \"overmind-react\";\nimport { config } from './overmind'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst app = createOvermind(config,\n{\n  devtools: true,\n});\n\nReactDOM.render(\n  <Provider value={app}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* Copyright 2014 Open Ag Data Alliance\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict'\n\nmodule.exports = defaults => {\n  // We use nconf in dependencies, so we have to play games here. If npm/yarn\n  // factors nconf up node_modules then our dependencies get the same nconf\n  // instance as we do, allowing them to mutate each others keys. This ensures we\n  // get our own nconf --- yes it is ugly. Thank you node.js for assuming we\n  // always want your hidden cache.\n  delete require.cache[require.resolve('nconf')]\n\n  var nconf = require('nconf')\n  var fs = require('fs')\n\n  nconf.use('memory')\n\n  // Order of precedence: argv, env, config file, defaults\n\n  nconf.argv()\n  // parseValues: true will parse \"true\" and \"false\" as booleans, numbers as numbers, etc.\n  nconf.env({ separator: '__', parseValues: true })\n\n  // Load an external (optional) config file\n  var config = nconf.get('config')\n  if (config) {\n    if (!fs.existsSync(config)) {\n      throw new Error('Could not find config file: ' + config)\n    }\n    nconf.use('literal', require(config))\n  }\n\n  if (defaults) {\n    nconf.defaults(defaults)\n  }\n\n  nconf.setObject = function (object, path) {\n    path = path || ''\n\n    Object.keys(object).forEach(function (key) {\n      if (typeof object[key] === '[object]') {\n        nconf.setObject(object[key], path + key + ':')\n      } else {\n        nconf.set(path + key, object[key])\n      }\n    })\n  }\n\n  return nconf\n}\n","module.exports = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6InluMjJ1akJVQ0VlbE5VUnJhOW9na2hlRDJLRVhvbGprc21BVnFGcTBMUGciLCJqd2siOnsia3R5IjoiUlNBIiwia2lkIjoieW4yMnVqQlVDRWVsTlVScmE5b2draGVEMktFWG9samtzbUFWcUZxMExQZyIsIm4iOiJycjM4aUs4RmkwXy1DUkxUdlZLNElJQ2xhcmlpNndWSHBFN3paUFhvRVJsX09vaDY0WW1iUWNSYTVlRncwVVFoVXZFQ2hLdTlObzNqbTdMVzlaY0wxSEtyaGtVVy1PUW9iT1hVbnJDZ29DcGE4VlloX3dSSWRRWWJzdlBRVmo1Tkd1dU5YYVpCX19weEZ5LW5fTzJJTVM4T0dyZXptM2JRSERBZi1qbmdJaFpHWmdMYXZMSnlTSFV5RFFMNEZiUTZEM1F6M0FNT3J4RnZhNEtCSVBDUUtGT21ZWFZuNHp0Z1Q2OGhneU1vYzFLeXR4b1JnelZIbkNkVHBQV1dWcm5NRmNKZWRZRC1MbWswWG81cmpZT3htcThBMWVqZnhQTWVSXzNWNzhBSmsyTERJNHZHYUozZm5hUFpTN0N2VzhGM3BXV2lqX0J5VkdDSS01QnJrcUhfblEiLCJlIjoiQVFBQiJ9fQ.eyJyZWRpcmVjdF91cmlzIjpbImh0dHBzOi8vbG9jYWxob3N0OjMwMDAvb2F1dGgyL3JlZGlyZWN0Lmh0bWwiLCJodHRwczovL3RyZWxsaXNmdy5naXRodWIuaW8vY29uZHVjdG9yL29hdXRoMi9yZWRpcmVjdC5odG1sIl0sInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidXJuOmlldGY6cGFyYW1zOm9hdXRoOmNsaWVudC1hc3NlcnRpb24tdHlwZTpqd3QtYmVhcmVyIiwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIl0sInJlc3BvbnNlX3R5cGVzIjpbInRva2VuIiwiY29kZSIsImlkX3Rva2VuIiwiaWRfdG9rZW4gdG9rZW4iLCJjb2RlIGlkX3Rva2VuIiwiY29kZSB0b2tlbiIsImNvZGUgaWRfdG9rZW4gdG9rZW4iXSwiY2xpZW50X25hbWUiOiJUcmVsbGlzIC0gT3BlbiBTb3VyY2UiLCJjbGllbnRfdXJpIjoiaHR0cHM6Ly9naXRodWIuY29tL3RyZWxsaXNmdyIsImNvbnRhY3RzIjpbIkFhcm9uIEF1bHQgPGF1bHRhY0BwdXJkdWUuZWR1PiJdLCJqd2tzIjp7ImtleXMiOlt7Imt0eSI6IlJTQSIsIm4iOiJ2d3cxS3IzSFU5NTBwSkw4Tnl4dDFWWTdGSGUzenh6UmdVa2RNbnQzQlM2Rmd4eXB2V0dvWE1hOVBaWFB3MV94YlFXNXBXSVVPdWRtSnpNTEZ0WTM5a1FRYklvVnQxdVlfSXRCNDZnazUyM0tBUVZLYkM0LVRYMk9uVkhkSS1rMGNRZU5mSGpJdHNEY2ROLVBYSlZTLTcwRDBZYTBEM1d5aVRIT2hzZFl6V0JtYmFFcGw1RG5Ea2NHQm4wOEVwTHcxZVlhOHo5cUh0ZTRNVnNNY3MyaXY3Zng2dE0yZm1QZTRQeVlBeGVSWFNEUzFXSnJ3UXlLOUpyRzFQX0FRdV9MRUNlemlKdGVZNkVWdWlXM2xiNVg4WTlvcTNxcDVleEpDVllSdnNzUVV3NU4tV3Y4RDVJaXk3QTZiTC1ISlAxXzlieTk4Ulk4eC1YYks0el9FTFIzTVEiLCJlIjoiQVFBQiIsImtpZCI6Ijk0YWFiYjNhYTE5MTRlYzhhOGNkYTQ1NWE0NzNjZjBkIn1dfX0.fnD088R1hp6Z2rCQKr9SbEyOqE3OXbGu10DvL3PASbotoIAb9dh59rlf1nkAD-IA_L22lYq0OXqok63uj12muopRzpalvKslFTXRaf7OgYZ7xH_fwI4gfEPGk30HVLs0WRRnUKU7McEEARu4qd5KEgm5p1cBIUVqLp0QhfXk_p0NC6QYlGFlfykLdW4C6cj5n1RC_RouhGH8mERp2W4JFL5kHZsuAD-8CN-8C5KCsSpu2WYAgr3W2SIqrih-uetAgeFYr_B3XdIO_FtctZhXQjSKtErLlYQvji1Qb2F1VVCu3eopK5nJeZhGlEBMlDWSNF0kq1xUk9wHZr-7TSobEQ\";","module.exports = {\n  \"redirect_uris\": [\n    \"https://localhost:3000/oauth2/redirect.html\",\n    \"https://trellisfw.github.io/conductor/oauth2/redirect.html\",\n  ],\n  \"token_endpoint_auth_method\": \"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\",\n  \"grant_types\": [\n    \"authorization_code\"\n  ],\n  \"response_types\": [\n    \"token\",\n    \"code\",\n    \"id_token\",\n    \"id_token token\",\n    \"code id_token\",\n    \"code token\",\n    \"code id_token token\"\n  ],\n  \"client_name\": \"Trellis - Open Source\",\n  \"client_uri\": \"https://github.com/trellisfw\",\n  \"contacts\": [\n    \"Aaron Ault <aultac@purdue.edu>\"\n  ],\n  // THERE IS NOTHING PRIVATE ABOUT THIS DEV CERT: IT IS IN GITHUB.  OVERRIDE WITH YOUR OWN FOR PRODUCTION\n  \"jwks\": {\n    \"keys\": [\n      {\"kty\":\"RSA\",\"n\":\"vww1Kr3HU950pJL8Nyxt1VY7FHe3zxzRgUkdMnt3BS6FgxypvWGoXMa9PZXPw1_xbQW5pWIUOudmJzMLFtY39kQQbIoVt1uY_ItB46gk523KAQVKbC4-TX2OnVHdI-k0cQeNfHjItsDcdN-PXJVS-70D0Ya0D3WyiTHOhsdYzWBmbaEpl5DnDkcGBn08EpLw1eYa8z9qHte4MVsMcs2iv7fx6tM2fmPe4PyYAxeRXSDS1WJrwQyK9JrG1P_AQu_LECeziJteY6EVuiW3lb5X8Y9oq3qp5exJCVYRvssQUw5N-Wv8D5Iiy7A6bL-HJP1_9by98RY8x-XbK4z_ELR3MQ\",\"e\":\"AQAB\",\"kid\":\"94aabb3aa1914ec8a8cda455a473cf0d\"}\n    ]\n  }\n}\n","var map = {\n\t\"./default/config.js\": 647,\n\t\"./smithfield/config.js\": 648\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 646;","module.exports = {\n  \"logo\": {\n    src: \"logo.svg\",\n    height: 60,\n  },\n  \"loginBackground\": \"login-background.jpg\",\n}\n","module.exports = {\n  logo: {\n    src: 'logo.svg',\n    height: 50, \n  },\n  loginBackground: 'login-background.jpg',\n};\n","var map = {\n\t\"./argv\": 565,\n\t\"./argv.js\": 565,\n\t\"./env\": 568,\n\t\"./env.js\": 568,\n\t\"./file\": 569,\n\t\"./file.js\": 569,\n\t\"./literal\": 570,\n\t\"./literal.js\": 570,\n\t\"./memory\": 149,\n\t\"./memory.js\": 149\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 983;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 988;"],"sourceRoot":""}